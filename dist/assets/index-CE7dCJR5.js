(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},Sc={},ov={exports:{}},lt={};var l1;function Ij(){if(l1)return lt;l1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(G,ne,re){this.props=G,this.context=ne,this.refs=A,this.updater=re||S}T.prototype.isReactComponent={},T.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=T.prototype;function N(G,ne,re){this.props=G,this.context=ne,this.refs=A,this.updater=re||S}var R=N.prototype=new M;R.constructor=N,E(R,T.prototype),R.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,k={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function U(G,ne,re){var me,ge={},xe=null,$e=null;if(ne!=null)for(me in ne.ref!==void 0&&($e=ne.ref),ne.key!==void 0&&(xe=""+ne.key),ne)O.call(ne,me)&&!$.hasOwnProperty(me)&&(ge[me]=ne[me]);var Fe=arguments.length-2;if(Fe===1)ge.children=re;else if(1<Fe){for(var be=Array(Fe),Re=0;Re<Fe;Re++)be[Re]=arguments[Re+2];ge.children=be}if(G&&G.defaultProps)for(me in Fe=G.defaultProps,Fe)ge[me]===void 0&&(ge[me]=Fe[me]);return{$$typeof:t,type:G,key:xe,ref:$e,props:ge,_owner:k.current}}function z(G,ne){return{$$typeof:t,type:G.type,key:ne,ref:G.ref,props:G.props,_owner:G._owner}}function Z(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function V(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(re){return ne[re]})}var q=/\/+/g;function ee(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):ne.toString(36)}function J(G,ne,re,me,ge){var xe=typeof G;(xe==="undefined"||xe==="boolean")&&(G=null);var $e=!1;if(G===null)$e=!0;else switch(xe){case"string":case"number":$e=!0;break;case"object":switch(G.$$typeof){case t:case e:$e=!0}}if($e)return $e=G,ge=ge($e),G=me===""?"."+ee($e,0):me,j(ge)?(re="",G!=null&&(re=G.replace(q,"$&/")+"/"),J(ge,ne,re,"",function(Re){return Re})):ge!=null&&(Z(ge)&&(ge=z(ge,re+(!ge.key||$e&&$e.key===ge.key?"":(""+ge.key).replace(q,"$&/")+"/")+G)),ne.push(ge)),1;if($e=0,me=me===""?".":me+":",j(G))for(var Fe=0;Fe<G.length;Fe++){xe=G[Fe];var be=me+ee(xe,Fe);$e+=J(xe,ne,re,be,ge)}else if(be=_(G),typeof be=="function")for(G=be.call(G),Fe=0;!(xe=G.next()).done;)xe=xe.value,be=me+ee(xe,Fe++),$e+=J(xe,ne,re,be,ge);else if(xe==="object")throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return $e}function oe(G,ne,re){if(G==null)return G;var me=[],ge=0;return J(G,me,"","",function(xe){return ne.call(re,xe,ge++)}),me}function ae(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(re){(G._status===0||G._status===-1)&&(G._status=1,G._result=re)},function(re){(G._status===0||G._status===-1)&&(G._status=2,G._result=re)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var de={current:null},X={transition:null},he={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:k};function ie(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:oe,forEach:function(G,ne,re){oe(G,function(){ne.apply(this,arguments)},re)},count:function(G){var ne=0;return oe(G,function(){ne++}),ne},toArray:function(G){return oe(G,function(ne){return ne})||[]},only:function(G){if(!Z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},lt.Component=T,lt.Fragment=n,lt.Profiler=i,lt.PureComponent=N,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,lt.act=ie,lt.cloneElement=function(G,ne,re){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=E({},G.props),ge=G.key,xe=G.ref,$e=G._owner;if(ne!=null){if(ne.ref!==void 0&&(xe=ne.ref,$e=k.current),ne.key!==void 0&&(ge=""+ne.key),G.type&&G.type.defaultProps)var Fe=G.type.defaultProps;for(be in ne)O.call(ne,be)&&!$.hasOwnProperty(be)&&(me[be]=ne[be]===void 0&&Fe!==void 0?Fe[be]:ne[be])}var be=arguments.length-2;if(be===1)me.children=re;else if(1<be){Fe=Array(be);for(var Re=0;Re<be;Re++)Fe[Re]=arguments[Re+2];me.children=Fe}return{$$typeof:t,type:G.type,key:ge,ref:xe,props:me,_owner:$e}},lt.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},lt.createElement=U,lt.createFactory=function(G){var ne=U.bind(null,G);return ne.type=G,ne},lt.createRef=function(){return{current:null}},lt.forwardRef=function(G){return{$$typeof:u,render:G}},lt.isValidElement=Z,lt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ae}},lt.memo=function(G,ne){return{$$typeof:d,type:G,compare:ne===void 0?null:ne}},lt.startTransition=function(G){var ne=X.transition;X.transition={};try{G()}finally{X.transition=ne}},lt.unstable_act=ie,lt.useCallback=function(G,ne){return de.current.useCallback(G,ne)},lt.useContext=function(G){return de.current.useContext(G)},lt.useDebugValue=function(){},lt.useDeferredValue=function(G){return de.current.useDeferredValue(G)},lt.useEffect=function(G,ne){return de.current.useEffect(G,ne)},lt.useId=function(){return de.current.useId()},lt.useImperativeHandle=function(G,ne,re){return de.current.useImperativeHandle(G,ne,re)},lt.useInsertionEffect=function(G,ne){return de.current.useInsertionEffect(G,ne)},lt.useLayoutEffect=function(G,ne){return de.current.useLayoutEffect(G,ne)},lt.useMemo=function(G,ne){return de.current.useMemo(G,ne)},lt.useReducer=function(G,ne,re){return de.current.useReducer(G,ne,re)},lt.useRef=function(G){return de.current.useRef(G)},lt.useState=function(G){return de.current.useState(G)},lt.useSyncExternalStore=function(G,ne,re){return de.current.useSyncExternalStore(G,ne,re)},lt.useTransition=function(){return de.current.useTransition()},lt.version="18.3.1",lt}var u1;function fw(){return u1||(u1=1,ov.exports=Ij()),ov.exports}var c1;function Mj(){if(c1)return Sc;c1=1;var t=fw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,d){var p,m={},_=null,S=null;d!==void 0&&(_=""+d),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(S=f.ref);for(p in f)r.call(f,p)&&!o.hasOwnProperty(p)&&(m[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)m[p]===void 0&&(m[p]=f[p]);return{$$typeof:e,type:u,key:_,ref:S,props:m,_owner:i.current}}return Sc.Fragment=n,Sc.jsx=a,Sc.jsxs=a,Sc}var f1;function Oj(){return f1||(f1=1,iv.exports=Mj()),iv.exports}var y=Oj(),K=fw();const H=yt(K);var ih={},av={exports:{}},ir={},sv={exports:{}},lv={};var d1;function kj(){return d1||(d1=1,(function(t){function e(X,he){var ie=X.length;X.push(he);e:for(;0<ie;){var G=ie-1>>>1,ne=X[G];if(0<i(ne,he))X[G]=he,X[ie]=ne,ie=G;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var he=X[0],ie=X.pop();if(ie!==he){X[0]=ie;e:for(var G=0,ne=X.length,re=ne>>>1;G<re;){var me=2*(G+1)-1,ge=X[me],xe=me+1,$e=X[xe];if(0>i(ge,ie))xe<ne&&0>i($e,ge)?(X[G]=$e,X[xe]=ie,G=xe):(X[G]=ge,X[me]=ie,G=me);else if(xe<ne&&0>i($e,ie))X[G]=$e,X[xe]=ie,G=xe;else break e}}return he}function i(X,he){var ie=X.sortIndex-he.sortIndex;return ie!==0?ie:X.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var f=[],d=[],p=1,m=null,_=3,S=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(X){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=X)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(d)}}function j(X){if(A=!1,R(X),!E)if(n(f)!==null)E=!0,ae(O);else{var he=n(d);he!==null&&de(j,he.startTime-X)}}function O(X,he){E=!1,A&&(A=!1,M(U),U=-1),S=!0;var ie=_;try{for(R(he),m=n(f);m!==null&&(!(m.expirationTime>he)||X&&!V());){var G=m.callback;if(typeof G=="function"){m.callback=null,_=m.priorityLevel;var ne=G(m.expirationTime<=he);he=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(f)&&r(f),R(he)}else r(f);m=n(f)}if(m!==null)var re=!0;else{var me=n(d);me!==null&&de(j,me.startTime-he),re=!1}return re}finally{m=null,_=ie,S=!1}}var k=!1,$=null,U=-1,z=5,Z=-1;function V(){return!(t.unstable_now()-Z<z)}function q(){if($!==null){var X=t.unstable_now();Z=X;var he=!0;try{he=$(!0,X)}finally{he?ee():(k=!1,$=null)}}else k=!1}var ee;if(typeof N=="function")ee=function(){N(q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,oe=J.port2;J.port1.onmessage=q,ee=function(){oe.postMessage(null)}}else ee=function(){T(q,0)};function ae(X){$=X,k||(k=!0,ee())}function de(X,he){U=T(function(){X(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,ae(O))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var ie=_;_=he;try{return X()}finally{_=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=_;_=X;try{return he()}finally{_=ie}},t.unstable_scheduleCallback=function(X,he,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,X){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ie+ne,X={id:p++,callback:he,priorityLevel:X,startTime:ie,expirationTime:ne,sortIndex:-1},ie>G?(X.sortIndex=ie,e(d,X),n(f)===null&&X===n(d)&&(A?(M(U),U=-1):A=!0,de(j,ie-G))):(X.sortIndex=ne,e(f,X),E||S||(E=!0,ae(O))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var he=_;return function(){var ie=_;_=he;try{return X.apply(this,arguments)}finally{_=ie}}}})(lv)),lv}var h1;function Rj(){return h1||(h1=1,sv.exports=kj()),sv.exports}var p1;function Lj(){if(p1)return ir;p1=1;var t=fw(),e=Rj();function n(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,c){a(s,c),a(s+"Capture",c)}function a(s,c){for(i[s]=c,s=0;s<c.length;s++)r.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function _(s){return f.call(m,s)?!0:f.call(p,s)?!1:d.test(s)?m[s]=!0:(p[s]=!0,!1)}function S(s,c,g,w){if(g!==null&&g.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,c,g,w){if(c===null||typeof c>"u"||S(s,c,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function A(s,c,g,w,C,I,B){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=g,this.propertyName=s,this.type=c,this.sanitizeURL=I,this.removeEmptyString=B}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];T[c]=new A(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(M,N);T[c]=new A(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(M,N);T[c]=new A(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(M,N);T[c]=new A(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,c,g,w){var C=T.hasOwnProperty(c)?T[c]:null;(C!==null?C.type!==0:w||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(E(c,g,C,w)&&(g=null),w||C===null?_(c)&&(g===null?s.removeAttribute(c):s.setAttribute(c,""+g)):C.mustUseProperty?s[C.propertyName]=g===null?C.type===3?!1:"":g:(c=C.attributeName,w=C.attributeNamespace,g===null?s.removeAttribute(c):(C=C.type,g=C===3||C===4&&g===!0?"":""+g,w?s.setAttributeNS(w,c,g):s.setAttribute(c,g))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),k=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,G;function ne(s){if(G===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);G=c&&c[1]||""}return`
`+G+s}var re=!1;function me(s,c){if(!s||re)return"";re=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(fe){var w=fe}Reflect.construct(s,[],c)}else{try{c.call()}catch(fe){w=fe}s.call(c.prototype)}else{try{throw Error()}catch(fe){w=fe}s()}}catch(fe){if(fe&&w&&typeof fe.stack=="string"){for(var C=fe.stack.split(`
`),I=w.stack.split(`
`),B=C.length-1,W=I.length-1;1<=B&&0<=W&&C[B]!==I[W];)W--;for(;1<=B&&0<=W;B--,W--)if(C[B]!==I[W]){if(B!==1||W!==1)do if(B--,W--,0>W||C[B]!==I[W]){var Q=`
`+C[B].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=B&&0<=W);break}}}finally{re=!1,Error.prepareStackTrace=g}return(s=s?s.displayName||s.name:"")?ne(s):""}function ge(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $:return"Fragment";case k:return"Portal";case z:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case J:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case Z:return(s._context.displayName||"Context")+".Provider";case q:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case oe:return c=s.displayName||null,c!==null?c:xe(s.type)||"Memo";case ae:c=s._payload,s=s._init;try{return xe(s(c))}catch{}}return null}function $e(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(c);case 8:return c===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function be(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Re(s){var c=be(s)?"checked":"value",g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),w=""+s[c];if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,I=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(B){w=""+B,I.call(this,B)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(B){w=""+B},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ze(s){s._valueTracker||(s._valueTracker=Re(s))}function ye(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var g=c.getValue(),w="";return s&&(w=be(s)?s.checked?"true":"false":s.value),s=w,s!==g?(c.setValue(s),!0):!1}function at(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pe(s,c){var g=c.checked;return ie({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??s._wrapperState.initialChecked})}function ct(s,c){var g=c.defaultValue==null?"":c.defaultValue,w=c.checked!=null?c.checked:c.defaultChecked;g=Fe(c.value!=null?c.value:g),s._wrapperState={initialChecked:w,initialValue:g,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function _t(s,c){c=c.checked,c!=null&&R(s,"checked",c,!1)}function dt(s,c){_t(s,c);var g=Fe(c.value),w=c.type;if(g!=null)w==="number"?(g===0&&s.value===""||s.value!=g)&&(s.value=""+g):s.value!==""+g&&(s.value=""+g);else if(w==="submit"||w==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?Xt(s,c.type,g):c.hasOwnProperty("defaultValue")&&Xt(s,c.type,Fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Nt(s,c,g){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var w=c.type;if(!(w!=="submit"&&w!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,g||c===s.value||(s.value=c),s.defaultValue=c}g=s.name,g!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,g!==""&&(s.name=g)}function Xt(s,c,g){(c!=="number"||at(s.ownerDocument)!==s)&&(g==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+g&&(s.defaultValue=""+g))}var Qt=Array.isArray;function en(s,c,g,w){if(s=s.options,c){c={};for(var C=0;C<g.length;C++)c["$"+g[C]]=!0;for(g=0;g<s.length;g++)C=c.hasOwnProperty("$"+s[g].value),s[g].selected!==C&&(s[g].selected=C),C&&w&&(s[g].defaultSelected=!0)}else{for(g=""+Fe(g),c=null,C=0;C<s.length;C++){if(s[C].value===g){s[C].selected=!0,w&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function Cn(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zr(s,c){var g=c.value;if(g==null){if(g=c.children,c=c.defaultValue,g!=null){if(c!=null)throw Error(n(92));if(Qt(g)){if(1<g.length)throw Error(n(93));g=g[0]}c=g}c==null&&(c=""),g=c}s._wrapperState={initialValue:Fe(g)}}function Fi(s,c){var g=Fe(c.value),w=Fe(c.defaultValue);g!=null&&(g=""+g,g!==s.value&&(s.value=g),c.defaultValue==null&&s.defaultValue!==g&&(s.defaultValue=g)),w!=null&&(s.defaultValue=""+w)}function Ui(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function Io(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mo(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?Io(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zi,Ls=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,w,C){MSApp.execUnsafeLocalFunction(function(){return s(c,g,w,C)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=zi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function _i(s,c){if(c){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=c;return}}s.textContent=c}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ou=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(s){Ou.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Yr[c]=Yr[s]})});function ka(s,c,g){return c==null||typeof c=="boolean"||c===""?"":g||typeof c!="number"||c===0||Yr.hasOwnProperty(s)&&Yr[s]?(""+c).trim():c+"px"}function qi(s,c){s=s.style;for(var g in c)if(c.hasOwnProperty(g)){var w=g.indexOf("--")===0,C=ka(g,c[g],w);g==="float"&&(g="cssFloat"),w?s.setProperty(g,C):s[g]=C}}var Ds=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(s,c){if(c){if(Ds[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ue(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function St(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ot=null,ht=null,It=null;function st(s){if(s=no(s)){if(typeof ot!="function")throw Error(n(280));var c=s.stateNode;c&&(c=ll(c),ot(s.stateNode,s.type,c))}}function Pt(s){ht?It?It.push(s):It=[s]:ht=s}function Mt(){if(ht){var s=ht,c=It;if(It=ht=null,st(s),c)for(s=0;s<c.length;s++)st(c[s])}}function an(s,c){return s(c)}function Zn(){}var sr=!1;function Yn(s,c,g){if(sr)return s(c,g);sr=!0;try{return an(s,c,g)}finally{sr=!1,(ht!==null||It!==null)&&(Zn(),Mt())}}function mn(s,c){var g=s.stateNode;if(g===null)return null;var w=ll(g);if(w===null)return null;g=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var Oo=!1;if(u)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{Oo=!1}function ku(s,c,g,w,C,I,B,W,Q){var fe=Array.prototype.slice.call(arguments,3);try{c.apply(g,fe)}catch(Se){this.onError(Se)}}var Tn=!1,Me=null,Ra=!1,js=null,Hf={onError:function(s){Tn=!0,Me=s}};function Gf(s,c,g,w,C,I,B,W,Q){Tn=!1,Me=null,ku.apply(Hf,arguments)}function Ru(s,c,g,w,C,I,B,W,Q){if(Gf.apply(this,arguments),Tn){if(Tn){var fe=Me;Tn=!1,Me=null}else throw Error(n(198));Ra||(Ra=!0,js=fe)}}function xi(s){var c=s,g=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(g=c.return),s=c.return;while(s)}return c.tag===3?g:null}function Gi(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Lu(s){if(xi(s)!==s)throw Error(n(188))}function Dm(s){var c=s.alternate;if(!c){if(c=xi(s),c===null)throw Error(n(188));return c!==s?null:s}for(var g=s,w=c;;){var C=g.return;if(C===null)break;var I=C.alternate;if(I===null){if(w=C.return,w!==null){g=w;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===g)return Lu(C),s;if(I===w)return Lu(C),c;I=I.sibling}throw Error(n(188))}if(g.return!==w.return)g=C,w=I;else{for(var B=!1,W=C.child;W;){if(W===g){B=!0,g=C,w=I;break}if(W===w){B=!0,w=C,g=I;break}W=W.sibling}if(!B){for(W=I.child;W;){if(W===g){B=!0,g=I,w=C;break}if(W===w){B=!0,w=I,g=C;break}W=W.sibling}if(!B)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?s:c}function Vf(s){return s=Dm(s),s!==null?Wf(s):null}function Wf(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=Wf(s);if(c!==null)return c;s=s.sibling}return null}var Kf=e.unstable_scheduleCallback,Du=e.unstable_cancelCallback,jm=e.unstable_shouldYield,$s=e.unstable_requestPaint,qt=e.unstable_now,$m=e.unstable_getCurrentPriorityLevel,ju=e.unstable_ImmediatePriority,Zf=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,$u=e.unstable_LowPriority,ko=e.unstable_IdlePriority,La=null,lr=null;function Da(s){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(La,s,void 0,(s.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Ro,jt=Math.log,Fs=Math.LN2;function Ro(s){return s>>>=0,s===0?32:31-(jt(s)/Fs|0)|0}var Jr=64,Lo=4194304;function Qe(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ot(s,c){var g=s.pendingLanes;if(g===0)return 0;var w=0,C=s.suspendedLanes,I=s.pingedLanes,B=g&268435455;if(B!==0){var W=B&~C;W!==0?w=Qe(W):(I&=B,I!==0&&(w=Qe(I)))}else B=g&~C,B!==0?w=Qe(B):I!==0&&(w=Qe(I));if(w===0)return 0;if(c!==0&&c!==w&&(c&C)===0&&(C=w&-w,I=c&-c,C>=I||C===16&&(I&4194240)!==0))return c;if((w&4)!==0&&(w|=g&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=w;0<c;)g=31-tt(c),C=1<<g,w|=s[g],c&=~C;return w}function Bu(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(s,c){for(var g=s.suspendedLanes,w=s.pingedLanes,C=s.expirationTimes,I=s.pendingLanes;0<I;){var B=31-tt(I),W=1<<B,Q=C[B];Q===-1?((W&g)===0||(W&w)!==0)&&(C[B]=Bu(W,c)):Q<=c&&(s.expiredLanes|=W),I&=~W}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Yf(){var s=Jr;return Jr<<=1,(Jr&4194240)===0&&(Jr=64),s}function Do(s){for(var c=[],g=0;31>g;g++)c.push(s);return c}function ur(s,c,g){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-tt(c),s[c]=g}function Kt(s,c){var g=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var w=s.eventTimes;for(s=s.expirationTimes;0<g;){var C=31-tt(g),I=1<<C;c[C]=0,w[C]=-1,s[C]=-1,g&=~I}}function Xr(s,c){var g=s.entangledLanes|=c;for(s=s.entanglements;g;){var w=31-tt(g),C=1<<w;C&c|s[w]&c&&(s[w]|=c),g&=~C}}var ft=0;function jo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var zs,Vi,qs,Hs,ja,$a=!1,$o=[],cr=null,Qr=null,Ar=null,Ba=new Map,Ye=new Map,sn=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(s,c){switch(s){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Ba.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ye.delete(c.pointerId)}}function Wi(s,c,g,w,C,I){return s===null||s.nativeEvent!==I?(s={blockedOn:c,domEventName:g,eventSystemFlags:w,nativeEvent:I,targetContainers:[C]},c!==null&&(c=no(c),c!==null&&Vi(c)),s):(s.eventSystemFlags|=w,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function Uu(s,c,g,w,C){switch(c){case"focusin":return cr=Wi(cr,s,c,g,w,C),!0;case"dragenter":return Qr=Wi(Qr,s,c,g,w,C),!0;case"mouseover":return Ar=Wi(Ar,s,c,g,w,C),!0;case"pointerover":var I=C.pointerId;return Ba.set(I,Wi(Ba.get(I)||null,s,c,g,w,C)),!0;case"gotpointercapture":return I=C.pointerId,Ye.set(I,Wi(Ye.get(I)||null,s,c,g,w,C)),!0}return!1}function Gs(s){var c=to(s.target);if(c!==null){var g=xi(c);if(g!==null){if(c=g.tag,c===13){if(c=Gi(g),c!==null){s.blockedOn=c,ja(s.priority,function(){qs(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pr(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var g=Ks(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(g===null){g=s.nativeEvent;var w=new g.constructor(g.type,g);Xe=w,g.target.dispatchEvent(w),Xe=null}else return c=no(g),c!==null&&Vi(c),s.blockedOn=g,!1;c.shift()}return!0}function Vs(s,c,g){Pr(s)&&g.delete(c)}function Fa(){$a=!1,cr!==null&&Pr(cr)&&(cr=null),Qr!==null&&Pr(Qr)&&(Qr=null),Ar!==null&&Pr(Ar)&&(Ar=null),Ba.forEach(Vs),Ye.forEach(Vs)}function Ht(s,c){s.blockedOn===c&&(s.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fa)))}function fr(s){function c(C){return Ht(C,s)}if(0<$o.length){Ht($o[0],s);for(var g=1;g<$o.length;g++){var w=$o[g];w.blockedOn===s&&(w.blockedOn=null)}}for(cr!==null&&Ht(cr,s),Qr!==null&&Ht(Qr,s),Ar!==null&&Ht(Ar,s),Ba.forEach(c),Ye.forEach(c),g=0;g<sn.length;g++)w=sn[g],w.blockedOn===s&&(w.blockedOn=null);for(;0<sn.length&&(g=sn[0],g.blockedOn===null);)Gs(g),g.blockedOn===null&&sn.shift()}var Ki=j.ReactCurrentBatchConfig,Ua=!0;function Bm(s,c,g,w){var C=ft,I=Ki.transition;Ki.transition=null;try{ft=1,za(s,c,g,w)}finally{ft=C,Ki.transition=I}}function Jf(s,c,g,w){var C=ft,I=Ki.transition;Ki.transition=null;try{ft=4,za(s,c,g,w)}finally{ft=C,Ki.transition=I}}function za(s,c,g,w){if(Ua){var C=Ks(s,c,g,w);if(C===null)l(s,c,w,Ws,g),Fu(s,w);else if(Uu(C,s,c,g,w))w.stopPropagation();else if(Fu(s,w),c&4&&-1<Tt.indexOf(s)){for(;C!==null;){var I=no(C);if(I!==null&&zs(I),I=Ks(s,c,g,w),I===null&&l(s,c,w,Ws,g),I===C)break;C=I}C!==null&&w.stopPropagation()}else l(s,c,w,null,g)}}var Ws=null;function Ks(s,c,g,w){if(Ws=null,s=St(w),s=to(s),s!==null)if(c=xi(s),c===null)s=null;else if(g=c.tag,g===13){if(s=Gi(c),s!==null)return s;s=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Ws=s,null}function ut(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case ju:return 1;case Zf:return 4;case Bs:case $u:return 16;case ko:return 536870912;default:return 16}default:return 16}}var bi=null,$n=null,wi=null;function zu(){if(wi)return wi;var s,c=$n,g=c.length,w,C="value"in bi?bi.value:bi.textContent,I=C.length;for(s=0;s<g&&c[s]===C[s];s++);var B=g-s;for(w=1;w<=B&&c[g-w]===C[I-w];w++);return wi=C.slice(s,1<w?1-w:void 0)}function Zs(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Bo(){return!0}function Xf(){return!1}function In(s){function c(g,w,C,I,B){this._reactName=g,this._targetInst=C,this.type=w,this.nativeEvent=I,this.target=B,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(g=s[W],this[W]=g?g(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Bo:Xf,this.isPropagationStopped=Xf,this}return ie(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),c}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=In(Fo),Zi=ie({},Fo,{view:0,detail:0}),Fm=In(Zi),Jn,Hu,Uo,dr=ie({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Uo&&(Uo&&s.type==="mousemove"?(Jn=s.screenX-Uo.screenX,Hu=s.screenY-Uo.screenY):Hu=Jn=0,Uo=s),Jn)},movementY:function(s){return"movementY"in s?s.movementY:Hu}}),Gu=In(dr),Qf=ie({},dr,{dataTransfer:0}),Vu=In(Qf),Um=ie({},Zi,{relatedTarget:0}),Ys=In(Um),ed=ie({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=In(ed),qm=ie({},Fo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=In(qm),Hm=ie({},Fo,{data:0}),Ku=In(Hm),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Yi[s])?!!c[s]:!1}function Ji(){return Gm}var Xn=ie({},Zi,{key:function(s){if(s.key){var c=td[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Zs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Js[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(s){return s.type==="keypress"?Zs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nd=In(Xn),rd=ie({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=In(rd),Zu=ie({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Yu=In(Zu),Vm=ie({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=In(Vm),od=ie({},dr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Km=In(od),hr=[9,13,27,32],Si=u&&"CompositionEvent"in window,qa=null;u&&"documentMode"in document&&(qa=document.documentMode);var ei=u&&"TextEvent"in window&&!qa,ad=u&&(!Si||qa&&8<qa&&11>=qa),Xi=" ",sd=!1;function zo(s,c){switch(s){case"keyup":return hr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ti=!1;function Zm(s,c){switch(s){case"compositionend":return Ju(c);case"keypress":return c.which!==32?null:(sd=!0,Xi);case"textInput":return s=c.data,s===Xi&&sd?null:s;default:return null}}function Ti(s,c){if(ti)return s==="compositionend"||!Si&&zo(s,c)?(s=zu(),wi=$n=bi=null,ti=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ad&&c.locale!=="ko"?null:c.data;default:return null}}var Xs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Xs[s.type]:c==="textarea"}function Qs(s,c,g,w){Pt(w),c=b(c,"onChange"),0<c.length&&(g=new qu("onChange","change",null,g,w),s.push({event:g,listeners:c}))}var Ha=null,Bn=null;function Ym(s){ac(s,0)}function ni(s){var c=ro(s);if(ye(c))return s}function Jm(s,c){if(s==="change")return c}var Cr=!1;if(u){var qo;if(u){var el="oninput"in document;if(!el){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),el=typeof tl.oninput=="function"}qo=el}else qo=!1;Cr=qo&&(!document.documentMode||9<document.documentMode)}function Ga(){Ha&&(Ha.detachEvent("onpropertychange",nl),Bn=Ha=null)}function nl(s){if(s.propertyName==="value"&&ni(Bn)){var c=[];Qs(c,Bn,s,St(s)),Yn(Ym,c)}}function rl(s,c,g){s==="focusin"?(Ga(),Ha=c,Bn=g,Ha.attachEvent("onpropertychange",nl)):s==="focusout"&&Ga()}function Ho(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ni(Bn)}function il(s,c){if(s==="click")return ni(c)}function Xu(s,c){if(s==="input"||s==="change")return ni(c)}function ud(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var pr=typeof Object.is=="function"?Object.is:ud;function Ei(s,c){if(pr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var g=Object.keys(s),w=Object.keys(c);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var C=g[w];if(!f.call(c,C)||!pr(s[C],c[C]))return!1}return!0}function cd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qu(s,c){var g=cd(s);s=0;for(var w;g;){if(g.nodeType===3){if(w=s+g.textContent.length,s<=c&&w>=c)return{node:g,offset:c-s};s=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=cd(g)}}function fd(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?fd(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function ec(){for(var s=window,c=at();c instanceof s.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)s=c.contentWindow;else break;c=at(s.document)}return c}function tc(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function Nr(s){var c=ec(),g=s.focusedElem,w=s.selectionRange;if(c!==g&&g&&g.ownerDocument&&fd(g.ownerDocument.documentElement,g)){if(w!==null&&tc(g)){if(c=w.start,s=w.end,s===void 0&&(s=c),"selectionStart"in g)g.selectionStart=c,g.selectionEnd=Math.min(s,g.value.length);else if(s=(c=g.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=g.textContent.length,I=Math.min(w.start,C);w=w.end===void 0?I:Math.min(w.end,C),!s.extend&&I>w&&(C=w,w=I,I=C),C=Qu(g,I);var B=Qu(g,w);C&&B&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),I>w?(s.addRange(c),s.extend(B.node,B.offset)):(c.setEnd(B.node,B.offset),s.addRange(c)))}}for(c=[],s=g;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<c.length;g++)s=c[g],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ol=u&&"documentMode"in document&&11>=document.documentMode,Go=null,Vo=null,Va=null,al=!1;function dd(s,c,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;al||Go==null||Go!==at(w)||(w=Go,"selectionStart"in w&&tc(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Va&&Ei(Va,w)||(Va=w,w=b(Vo,"onSelect"),0<w.length&&(c=new qu("onSelect","select",null,c,g),s.push({event:c,listeners:w}),c.target=Go)))}function Ai(s,c){var g={};return g[s.toLowerCase()]=c.toLowerCase(),g["Webkit"+s]="webkit"+c,g["Moz"+s]="moz"+c,g}var Wo={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Pi={},nc={};u&&(nc=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Wa(s){if(Pi[s])return Pi[s];if(!Wo[s])return s;var c=Wo[s],g;for(g in c)if(c.hasOwnProperty(g)&&g in nc)return Pi[s]=c[g];return s}var hd=Wa("animationend"),Ir=Wa("animationiteration"),rc=Wa("animationstart"),ic=Wa("transitionend"),Ko=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(s,c){Ko.set(s,c),o(c,[s])}for(var Qi=0;Qi<pd.length;Qi++){var sl=pd[Qi],md=sl.toLowerCase(),Xm=sl[0].toUpperCase()+sl.slice(1);mr(md,"on"+Xm)}mr(hd,"onAnimationEnd"),mr(Ir,"onAnimationIteration"),mr(rc,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(ic,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function oc(s,c,g){var w=s.type||"unknown-event";s.currentTarget=g,Ru(w,c,void 0,s),s.currentTarget=null}function ac(s,c){c=(c&4)!==0;for(var g=0;g<s.length;g++){var w=s[g],C=w.event;w=w.listeners;e:{var I=void 0;if(c)for(var B=w.length-1;0<=B;B--){var W=w[B],Q=W.instance,fe=W.currentTarget;if(W=W.listener,Q!==I&&C.isPropagationStopped())break e;oc(C,W,fe),I=Q}else for(B=0;B<w.length;B++){if(W=w[B],Q=W.instance,fe=W.currentTarget,W=W.listener,Q!==I&&C.isPropagationStopped())break e;oc(C,W,fe),I=Q}}}if(Ra)throw s=js,Ra=!1,js=null,s}function Et(s,c){var g=c[Qo];g===void 0&&(g=c[Qo]=new Set);var w=s+"__bubble";g.has(w)||(vd(c,s,2,!1),g.add(w))}function sc(s,c,g){var w=0;c&&(w|=4),vd(g,s,w,c)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Yo(s){if(!s[Ka]){s[Ka]=!0,r.forEach(function(g){g!=="selectionchange"&&(gd.has(g)||sc(g,!1,s),sc(g,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Ka]||(c[Ka]=!0,sc("selectionchange",!1,c))}}function vd(s,c,g,w){switch(ut(c)){case 1:var C=Bm;break;case 4:C=Jf;break;default:C=za}g=C.bind(null,c,g,s),C=void 0,!Oo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),w?C!==void 0?s.addEventListener(c,g,{capture:!0,passive:C}):s.addEventListener(c,g,!0):C!==void 0?s.addEventListener(c,g,{passive:C}):s.addEventListener(c,g,!1)}function l(s,c,g,w,C){var I=w;if((c&1)===0&&(c&2)===0&&w!==null)e:for(;;){if(w===null)return;var B=w.tag;if(B===3||B===4){var W=w.stateNode.containerInfo;if(W===C||W.nodeType===8&&W.parentNode===C)break;if(B===4)for(B=w.return;B!==null;){var Q=B.tag;if((Q===3||Q===4)&&(Q=B.stateNode.containerInfo,Q===C||Q.nodeType===8&&Q.parentNode===C))return;B=B.return}for(;W!==null;){if(B=to(W),B===null)return;if(Q=B.tag,Q===5||Q===6){w=I=B;continue e}W=W.parentNode}}w=w.return}Yn(function(){var fe=I,Se=St(g),Te=[];e:{var we=Ko.get(s);if(we!==void 0){var Ie=qu,Le=s;switch(s){case"keypress":if(Zs(g)===0)break e;case"keydown":case"keyup":Ie=nd;break;case"focusin":Le="focus",Ie=Ys;break;case"focusout":Le="blur",Ie=Ys;break;case"beforeblur":case"afterblur":Ie=Ys;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Yu;break;case hd:case Ir:case rc:Ie=zm;break;case ic:Ie=Wm;break;case"scroll":Ie=Fm;break;case"wheel":Ie=Km;break;case"copy":case"cut":case"paste":Ie=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=id}var De=(c&4)!==0,Jt=!De&&s==="scroll",le=De?we!==null?we+"Capture":null:we;De=[];for(var te=fe,ue;te!==null;){ue=te;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,le!==null&&(Ae=mn(te,le),Ae!=null&&De.push(h(te,Ae,ue)))),Jt)break;te=te.return}0<De.length&&(we=new Ie(we,Le,null,g,Se),Te.push({event:we,listeners:De}))}}if((c&7)===0){e:{if(we=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",we&&g!==Xe&&(Le=g.relatedTarget||g.fromElement)&&(to(Le)||Le[xt]))break e;if((Ie||we)&&(we=Se.window===Se?Se:(we=Se.ownerDocument)?we.defaultView||we.parentWindow:window,Ie?(Le=g.relatedTarget||g.toElement,Ie=fe,Le=Le?to(Le):null,Le!==null&&(Jt=xi(Le),Le!==Jt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ie=null,Le=fe),Ie!==Le)){if(De=Gu,Ae="onMouseLeave",le="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(De=id,Ae="onPointerLeave",le="onPointerEnter",te="pointer"),Jt=Ie==null?we:ro(Ie),ue=Le==null?we:ro(Le),we=new De(Ae,te+"leave",Ie,g,Se),we.target=Jt,we.relatedTarget=ue,Ae=null,to(Se)===fe&&(De=new De(le,te+"enter",Le,g,Se),De.target=ue,De.relatedTarget=Jt,Ae=De),Jt=Ae,Ie&&Le)t:{for(De=Ie,le=Le,te=0,ue=De;ue;ue=P(ue))te++;for(ue=0,Ae=le;Ae;Ae=P(Ae))ue++;for(;0<te-ue;)De=P(De),te--;for(;0<ue-te;)le=P(le),ue--;for(;te--;){if(De===le||le!==null&&De===le.alternate)break t;De=P(De),le=P(le)}De=null}else De=null;Ie!==null&&D(Te,we,Ie,De,!1),Le!==null&&Jt!==null&&D(Te,Jt,Le,De,!0)}}e:{if(we=fe?ro(fe):window,Ie=we.nodeName&&we.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&we.type==="file")var Be=Jm;else if(ld(we))if(Cr)Be=Xu;else{Be=Ho;var He=rl}else(Ie=we.nodeName)&&Ie.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Be=il);if(Be&&(Be=Be(s,fe))){Qs(Te,Be,g,Se);break e}He&&He(s,we,fe),s==="focusout"&&(He=we._wrapperState)&&He.controlled&&we.type==="number"&&Xt(we,"number",we.value)}switch(He=fe?ro(fe):window,s){case"focusin":(ld(He)||He.contentEditable==="true")&&(Go=He,Vo=fe,Va=null);break;case"focusout":Va=Vo=Go=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,dd(Te,g,Se);break;case"selectionchange":if(ol)break;case"keydown":case"keyup":dd(Te,g,Se)}var Ge;if(Si)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else ti?zo(s,g)&&(Je="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(Je="onCompositionStart");Je&&(ad&&g.locale!=="ko"&&(ti||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&ti&&(Ge=zu()):(bi=Se,$n="value"in bi?bi.value:bi.textContent,ti=!0)),He=b(fe,Je),0<He.length&&(Je=new Ku(Je,s,null,g,Se),Te.push({event:Je,listeners:He}),Ge?Je.data=Ge:(Ge=Ju(g),Ge!==null&&(Je.data=Ge)))),(Ge=ei?Zm(s,g):Ti(s,g))&&(fe=b(fe,"onBeforeInput"),0<fe.length&&(Se=new Ku("onBeforeInput","beforeinput",null,g,Se),Te.push({event:Se,listeners:fe}),Se.data=Ge))}ac(Te,c)})}function h(s,c,g){return{instance:s,listener:c,currentTarget:g}}function b(s,c){for(var g=c+"Capture",w=[];s!==null;){var C=s,I=C.stateNode;C.tag===5&&I!==null&&(C=I,I=mn(s,g),I!=null&&w.unshift(h(s,I,C)),I=mn(s,c),I!=null&&w.push(h(s,I,C))),s=s.return}return w}function P(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function D(s,c,g,w,C){for(var I=c._reactName,B=[];g!==null&&g!==w;){var W=g,Q=W.alternate,fe=W.stateNode;if(Q!==null&&Q===w)break;W.tag===5&&fe!==null&&(W=fe,C?(Q=mn(g,I),Q!=null&&B.unshift(h(g,Q,W))):C||(Q=mn(g,I),Q!=null&&B.push(h(g,Q,W)))),g=g.return}B.length!==0&&s.push({event:c,listeners:B})}var F=/\r\n?/g,Y=/\u0000|\uFFFD/g;function se(s){return(typeof s=="string"?s:""+s).replace(F,`
`).replace(Y,"")}function ce(s,c,g){if(c=se(c),se(s)!==c&&g)throw Error(n(425))}function _e(){}var Ce=null,qe=null;function rt(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ln=typeof setTimeout=="function"?setTimeout:void 0,tn=typeof clearTimeout=="function"?clearTimeout:void 0,Fn=typeof Promise=="function"?Promise:void 0,Mn=typeof queueMicrotask=="function"?queueMicrotask:typeof Fn<"u"?function(s){return Fn.resolve(null).then(s).catch(Jo)}:ln;function Jo(s){setTimeout(function(){throw s})}function lc(s,c){var g=c,w=0;do{var C=g.nextSibling;if(s.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(w===0){s.removeChild(C),fr(c);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=C}while(g);fr(c)}function Ci(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function yd(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return s;c--}else g==="/$"&&c++}s=s.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Mr="__reactFiber$"+eo,Xo="__reactProps$"+eo,xt="__reactContainer$"+eo,Qo="__reactEvents$"+eo,Qm="__reactListeners$"+eo,eg="__reactHandles$"+eo;function to(s){var c=s[Mr];if(c)return c;for(var g=s.parentNode;g;){if(c=g[xt]||g[Mr]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(s=yd(s);s!==null;){if(g=s[Mr])return g;s=yd(s)}return c}s=g,g=s.parentNode}return null}function no(s){return s=s[Mr]||s[xt],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ro(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ll(s){return s[Xo]||null}var tg=[],ul=-1;function ea(s){return{current:s}}function $t(s){0>ul||(s.current=tg[ul],tg[ul]=null,ul--)}function kt(s,c){ul++,tg[ul]=s.current,s.current=c}var ta={},On=ea(ta),Qn=ea(!1),Za=ta;function cl(s,c){var g=s.type.contextTypes;if(!g)return ta;var w=s.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in g)C[I]=c[I];return w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function er(s){return s=s.childContextTypes,s!=null}function _d(){$t(Qn),$t(On)}function IS(s,c,g){if(On.current!==ta)throw Error(n(168));kt(On,c),kt(Qn,g)}function MS(s,c,g){var w=s.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var C in w)if(!(C in c))throw Error(n(108,$e(s)||"Unknown",C));return ie({},g,w)}function xd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ta,Za=On.current,kt(On,s),kt(Qn,Qn.current),!0}function OS(s,c,g){var w=s.stateNode;if(!w)throw Error(n(169));g?(s=MS(s,c,Za),w.__reactInternalMemoizedMergedChildContext=s,$t(Qn),$t(On),kt(On,s)):$t(Qn),kt(Qn,g)}var io=null,bd=!1,ng=!1;function kS(s){io===null?io=[s]:io.push(s)}function ZD(s){bd=!0,kS(s)}function na(){if(!ng&&io!==null){ng=!0;var s=0,c=ft;try{var g=io;for(ft=1;s<g.length;s++){var w=g[s];do w=w(!0);while(w!==null)}io=null,bd=!1}catch(C){throw io!==null&&(io=io.slice(s+1)),Kf(ju,na),C}finally{ft=c,ng=!1}}return null}var fl=[],dl=0,wd=null,Sd=0,Or=[],kr=0,Ya=null,oo=1,ao="";function Ja(s,c){fl[dl++]=Sd,fl[dl++]=wd,wd=s,Sd=c}function RS(s,c,g){Or[kr++]=oo,Or[kr++]=ao,Or[kr++]=Ya,Ya=s;var w=oo;s=ao;var C=32-tt(w)-1;w&=~(1<<C),g+=1;var I=32-tt(c)+C;if(30<I){var B=C-C%5;I=(w&(1<<B)-1).toString(32),w>>=B,C-=B,oo=1<<32-tt(c)+C|g<<C|w,ao=I+s}else oo=1<<I|g<<C|w,ao=s}function rg(s){s.return!==null&&(Ja(s,1),RS(s,1,0))}function ig(s){for(;s===wd;)wd=fl[--dl],fl[dl]=null,Sd=fl[--dl],fl[dl]=null;for(;s===Ya;)Ya=Or[--kr],Or[kr]=null,ao=Or[--kr],Or[kr]=null,oo=Or[--kr],Or[kr]=null}var gr=null,vr=null,Ut=!1,ri=null;function LS(s,c){var g=jr(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=s,c=s.deletions,c===null?(s.deletions=[g],s.flags|=16):c.push(g)}function DS(s,c){switch(s.tag){case 5:var g=s.type;return c=c.nodeType!==1||g.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,gr=s,vr=Ci(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,gr=s,vr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(g=Ya!==null?{id:oo,overflow:ao}:null,s.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=jr(18,null,null,0),g.stateNode=c,g.return=s,s.child=g,gr=s,vr=null,!0):!1;default:return!1}}function og(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ag(s){if(Ut){var c=vr;if(c){var g=c;if(!DS(s,c)){if(og(s))throw Error(n(418));c=Ci(g.nextSibling);var w=gr;c&&DS(s,c)?LS(w,g):(s.flags=s.flags&-4097|2,Ut=!1,gr=s)}}else{if(og(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ut=!1,gr=s}}}function jS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gr=s}function Td(s){if(s!==gr)return!1;if(!Ut)return jS(s),Ut=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!rt(s.type,s.memoizedProps)),c&&(c=vr)){if(og(s))throw $S(),Error(n(418));for(;c;)LS(s,c),c=Ci(c.nextSibling)}if(jS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"){if(c===0){vr=Ci(s.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++}s=s.nextSibling}vr=null}}else vr=gr?Ci(s.stateNode.nextSibling):null;return!0}function $S(){for(var s=vr;s;)s=Ci(s.nextSibling)}function hl(){vr=gr=null,Ut=!1}function sg(s){ri===null?ri=[s]:ri.push(s)}var YD=j.ReactCurrentBatchConfig;function uc(s,c,g){if(s=g.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,s));var C=w,I=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(B){var W=C.refs;B===null?delete W[I]:W[I]=B},c._stringRef=I,c)}if(typeof s!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,s))}return s}function Ed(s,c){throw s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function BS(s){var c=s._init;return c(s._payload)}function FS(s){function c(le,te){if(s){var ue=le.deletions;ue===null?(le.deletions=[te],le.flags|=16):ue.push(te)}}function g(le,te){if(!s)return null;for(;te!==null;)c(le,te),te=te.sibling;return null}function w(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function C(le,te){return le=ca(le,te),le.index=0,le.sibling=null,le}function I(le,te,ue){return le.index=ue,s?(ue=le.alternate,ue!==null?(ue=ue.index,ue<te?(le.flags|=2,te):ue):(le.flags|=2,te)):(le.flags|=1048576,te)}function B(le){return s&&le.alternate===null&&(le.flags|=2),le}function W(le,te,ue,Ae){return te===null||te.tag!==6?(te=Xg(ue,le.mode,Ae),te.return=le,te):(te=C(te,ue),te.return=le,te)}function Q(le,te,ue,Ae){var Be=ue.type;return Be===$?Se(le,te,ue.props.children,Ae,ue.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ae&&BS(Be)===te.type)?(Ae=C(te,ue.props),Ae.ref=uc(le,te,ue),Ae.return=le,Ae):(Ae=Zd(ue.type,ue.key,ue.props,null,le.mode,Ae),Ae.ref=uc(le,te,ue),Ae.return=le,Ae)}function fe(le,te,ue,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=Qg(ue,le.mode,Ae),te.return=le,te):(te=C(te,ue.children||[]),te.return=le,te)}function Se(le,te,ue,Ae,Be){return te===null||te.tag!==7?(te=os(ue,le.mode,Ae,Be),te.return=le,te):(te=C(te,ue),te.return=le,te)}function Te(le,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Xg(""+te,le.mode,ue),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return ue=Zd(te.type,te.key,te.props,null,le.mode,ue),ue.ref=uc(le,null,te),ue.return=le,ue;case k:return te=Qg(te,le.mode,ue),te.return=le,te;case ae:var Ae=te._init;return Te(le,Ae(te._payload),ue)}if(Qt(te)||he(te))return te=os(te,le.mode,ue,null),te.return=le,te;Ed(le,te)}return null}function we(le,te,ue,Ae){var Be=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Be!==null?null:W(le,te,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:return ue.key===Be?Q(le,te,ue,Ae):null;case k:return ue.key===Be?fe(le,te,ue,Ae):null;case ae:return Be=ue._init,we(le,te,Be(ue._payload),Ae)}if(Qt(ue)||he(ue))return Be!==null?null:Se(le,te,ue,Ae,null);Ed(le,ue)}return null}function Ie(le,te,ue,Ae,Be){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return le=le.get(ue)||null,W(te,le,""+Ae,Be);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case O:return le=le.get(Ae.key===null?ue:Ae.key)||null,Q(te,le,Ae,Be);case k:return le=le.get(Ae.key===null?ue:Ae.key)||null,fe(te,le,Ae,Be);case ae:var He=Ae._init;return Ie(le,te,ue,He(Ae._payload),Be)}if(Qt(Ae)||he(Ae))return le=le.get(ue)||null,Se(te,le,Ae,Be,null);Ed(te,Ae)}return null}function Le(le,te,ue,Ae){for(var Be=null,He=null,Ge=te,Je=te=0,yn=null;Ge!==null&&Je<ue.length;Je++){Ge.index>Je?(yn=Ge,Ge=null):yn=Ge.sibling;var mt=we(le,Ge,ue[Je],Ae);if(mt===null){Ge===null&&(Ge=yn);break}s&&Ge&&mt.alternate===null&&c(le,Ge),te=I(mt,te,Je),He===null?Be=mt:He.sibling=mt,He=mt,Ge=yn}if(Je===ue.length)return g(le,Ge),Ut&&Ja(le,Je),Be;if(Ge===null){for(;Je<ue.length;Je++)Ge=Te(le,ue[Je],Ae),Ge!==null&&(te=I(Ge,te,Je),He===null?Be=Ge:He.sibling=Ge,He=Ge);return Ut&&Ja(le,Je),Be}for(Ge=w(le,Ge);Je<ue.length;Je++)yn=Ie(Ge,le,Je,ue[Je],Ae),yn!==null&&(s&&yn.alternate!==null&&Ge.delete(yn.key===null?Je:yn.key),te=I(yn,te,Je),He===null?Be=yn:He.sibling=yn,He=yn);return s&&Ge.forEach(function(fa){return c(le,fa)}),Ut&&Ja(le,Je),Be}function De(le,te,ue,Ae){var Be=he(ue);if(typeof Be!="function")throw Error(n(150));if(ue=Be.call(ue),ue==null)throw Error(n(151));for(var He=Be=null,Ge=te,Je=te=0,yn=null,mt=ue.next();Ge!==null&&!mt.done;Je++,mt=ue.next()){Ge.index>Je?(yn=Ge,Ge=null):yn=Ge.sibling;var fa=we(le,Ge,mt.value,Ae);if(fa===null){Ge===null&&(Ge=yn);break}s&&Ge&&fa.alternate===null&&c(le,Ge),te=I(fa,te,Je),He===null?Be=fa:He.sibling=fa,He=fa,Ge=yn}if(mt.done)return g(le,Ge),Ut&&Ja(le,Je),Be;if(Ge===null){for(;!mt.done;Je++,mt=ue.next())mt=Te(le,mt.value,Ae),mt!==null&&(te=I(mt,te,Je),He===null?Be=mt:He.sibling=mt,He=mt);return Ut&&Ja(le,Je),Be}for(Ge=w(le,Ge);!mt.done;Je++,mt=ue.next())mt=Ie(Ge,le,Je,mt.value,Ae),mt!==null&&(s&&mt.alternate!==null&&Ge.delete(mt.key===null?Je:mt.key),te=I(mt,te,Je),He===null?Be=mt:He.sibling=mt,He=mt);return s&&Ge.forEach(function(Nj){return c(le,Nj)}),Ut&&Ja(le,Je),Be}function Jt(le,te,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===$&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:e:{for(var Be=ue.key,He=te;He!==null;){if(He.key===Be){if(Be=ue.type,Be===$){if(He.tag===7){g(le,He.sibling),te=C(He,ue.props.children),te.return=le,le=te;break e}}else if(He.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ae&&BS(Be)===He.type){g(le,He.sibling),te=C(He,ue.props),te.ref=uc(le,He,ue),te.return=le,le=te;break e}g(le,He);break}else c(le,He);He=He.sibling}ue.type===$?(te=os(ue.props.children,le.mode,Ae,ue.key),te.return=le,le=te):(Ae=Zd(ue.type,ue.key,ue.props,null,le.mode,Ae),Ae.ref=uc(le,te,ue),Ae.return=le,le=Ae)}return B(le);case k:e:{for(He=ue.key;te!==null;){if(te.key===He)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){g(le,te.sibling),te=C(te,ue.children||[]),te.return=le,le=te;break e}else{g(le,te);break}else c(le,te);te=te.sibling}te=Qg(ue,le.mode,Ae),te.return=le,le=te}return B(le);case ae:return He=ue._init,Jt(le,te,He(ue._payload),Ae)}if(Qt(ue))return Le(le,te,ue,Ae);if(he(ue))return De(le,te,ue,Ae);Ed(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(g(le,te.sibling),te=C(te,ue),te.return=le,le=te):(g(le,te),te=Xg(ue,le.mode,Ae),te.return=le,le=te),B(le)):g(le,te)}return Jt}var pl=FS(!0),US=FS(!1),Ad=ea(null),Pd=null,ml=null,lg=null;function ug(){lg=ml=Pd=null}function cg(s){var c=Ad.current;$t(Ad),s._currentValue=c}function fg(s,c,g){for(;s!==null;){var w=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),s===g)break;s=s.return}}function gl(s,c){Pd=s,lg=ml=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(tr=!0),s.firstContext=null)}function Rr(s){var c=s._currentValue;if(lg!==s)if(s={context:s,memoizedValue:c,next:null},ml===null){if(Pd===null)throw Error(n(308));ml=s,Pd.dependencies={lanes:0,firstContext:s}}else ml=ml.next=s;return c}var Xa=null;function dg(s){Xa===null?Xa=[s]:Xa.push(s)}function zS(s,c,g,w){var C=c.interleaved;return C===null?(g.next=g,dg(c)):(g.next=C.next,C.next=g),c.interleaved=g,so(s,w)}function so(s,c){s.lanes|=c;var g=s.alternate;for(g!==null&&(g.lanes|=c),g=s,s=s.return;s!==null;)s.childLanes|=c,g=s.alternate,g!==null&&(g.childLanes|=c),g=s,s=s.return;return g.tag===3?g.stateNode:null}var ra=!1;function hg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qS(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function lo(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ia(s,c,g){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,(pt&2)!==0){var C=w.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),w.pending=c,so(s,g)}return C=w.interleaved,C===null?(c.next=c,dg(w)):(c.next=C.next,C.next=c),w.interleaved=c,so(s,g)}function Cd(s,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var w=c.lanes;w&=s.pendingLanes,g|=w,c.lanes=g,Xr(s,g)}}function HS(s,c){var g=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var C=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?C=I=B:I=I.next=B,g=g.next}while(g!==null);I===null?C=I=c:I=I.next=c}else C=I=c;g={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:w.shared,effects:w.effects},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=c:s.next=c,g.lastBaseUpdate=c}function Nd(s,c,g,w){var C=s.updateQueue;ra=!1;var I=C.firstBaseUpdate,B=C.lastBaseUpdate,W=C.shared.pending;if(W!==null){C.shared.pending=null;var Q=W,fe=Q.next;Q.next=null,B===null?I=fe:B.next=fe,B=Q;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,W=Se.lastBaseUpdate,W!==B&&(W===null?Se.firstBaseUpdate=fe:W.next=fe,Se.lastBaseUpdate=Q))}if(I!==null){var Te=C.baseState;B=0,Se=fe=Q=null,W=I;do{var we=W.lane,Ie=W.eventTime;if((w&we)===we){Se!==null&&(Se=Se.next={eventTime:Ie,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Le=s,De=W;switch(we=c,Ie=g,De.tag){case 1:if(Le=De.payload,typeof Le=="function"){Te=Le.call(Ie,Te,we);break e}Te=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=De.payload,we=typeof Le=="function"?Le.call(Ie,Te,we):Le,we==null)break e;Te=ie({},Te,we);break e;case 2:ra=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,we=C.effects,we===null?C.effects=[W]:we.push(W))}else Ie={eventTime:Ie,lane:we,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Se===null?(fe=Se=Ie,Q=Te):Se=Se.next=Ie,B|=we;if(W=W.next,W===null){if(W=C.shared.pending,W===null)break;we=W,W=we.next,we.next=null,C.lastBaseUpdate=we,C.shared.pending=null}}while(!0);if(Se===null&&(Q=Te),C.baseState=Q,C.firstBaseUpdate=fe,C.lastBaseUpdate=Se,c=C.shared.interleaved,c!==null){C=c;do B|=C.lane,C=C.next;while(C!==c)}else I===null&&(C.shared.lanes=0);ts|=B,s.lanes=B,s.memoizedState=Te}}function GS(s,c,g){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var w=s[c],C=w.callback;if(C!==null){if(w.callback=null,w=g,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var cc={},Ni=ea(cc),fc=ea(cc),dc=ea(cc);function Qa(s){if(s===cc)throw Error(n(174));return s}function pg(s,c){switch(kt(dc,c),kt(fc,s),kt(Ni,cc),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Mo(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Mo(c,s)}$t(Ni),kt(Ni,c)}function vl(){$t(Ni),$t(fc),$t(dc)}function VS(s){Qa(dc.current);var c=Qa(Ni.current),g=Mo(c,s.type);c!==g&&(kt(fc,s),kt(Ni,g))}function mg(s){fc.current===s&&($t(Ni),$t(fc))}var Gt=ea(0);function Id(s){for(var c=s;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var gg=[];function vg(){for(var s=0;s<gg.length;s++)gg[s]._workInProgressVersionPrimary=null;gg.length=0}var Md=j.ReactCurrentDispatcher,yg=j.ReactCurrentBatchConfig,es=0,Vt=null,un=null,gn=null,Od=!1,hc=!1,pc=0,JD=0;function kn(){throw Error(n(321))}function _g(s,c){if(c===null)return!1;for(var g=0;g<c.length&&g<s.length;g++)if(!pr(s[g],c[g]))return!1;return!0}function xg(s,c,g,w,C,I){if(es=I,Vt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Md.current=s===null||s.memoizedState===null?tj:nj,s=g(w,C),hc){I=0;do{if(hc=!1,pc=0,25<=I)throw Error(n(301));I+=1,gn=un=null,c.updateQueue=null,Md.current=rj,s=g(w,C)}while(hc)}if(Md.current=Ld,c=un!==null&&un.next!==null,es=0,gn=un=Vt=null,Od=!1,c)throw Error(n(300));return s}function bg(){var s=pc!==0;return pc=0,s}function Ii(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Vt.memoizedState=gn=s:gn=gn.next=s,gn}function Lr(){if(un===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var c=gn===null?Vt.memoizedState:gn.next;if(c!==null)gn=c,un=s;else{if(s===null)throw Error(n(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gn===null?Vt.memoizedState=gn=s:gn=gn.next=s}return gn}function mc(s,c){return typeof c=="function"?c(s):c}function wg(s){var c=Lr(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=s;var w=un,C=w.baseQueue,I=g.pending;if(I!==null){if(C!==null){var B=C.next;C.next=I.next,I.next=B}w.baseQueue=C=I,g.pending=null}if(C!==null){I=C.next,w=w.baseState;var W=B=null,Q=null,fe=I;do{var Se=fe.lane;if((es&Se)===Se)Q!==null&&(Q=Q.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),w=fe.hasEagerState?fe.eagerState:s(w,fe.action);else{var Te={lane:Se,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Q===null?(W=Q=Te,B=w):Q=Q.next=Te,Vt.lanes|=Se,ts|=Se}fe=fe.next}while(fe!==null&&fe!==I);Q===null?B=w:Q.next=W,pr(w,c.memoizedState)||(tr=!0),c.memoizedState=w,c.baseState=B,c.baseQueue=Q,g.lastRenderedState=w}if(s=g.interleaved,s!==null){C=s;do I=C.lane,Vt.lanes|=I,ts|=I,C=C.next;while(C!==s)}else C===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function Sg(s){var c=Lr(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=s;var w=g.dispatch,C=g.pending,I=c.memoizedState;if(C!==null){g.pending=null;var B=C=C.next;do I=s(I,B.action),B=B.next;while(B!==C);pr(I,c.memoizedState)||(tr=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),g.lastRenderedState=I}return[I,w]}function WS(){}function KS(s,c){var g=Vt,w=Lr(),C=c(),I=!pr(w.memoizedState,C);if(I&&(w.memoizedState=C,tr=!0),w=w.queue,Tg(JS.bind(null,g,w,s),[s]),w.getSnapshot!==c||I||gn!==null&&gn.memoizedState.tag&1){if(g.flags|=2048,gc(9,YS.bind(null,g,w,C,c),void 0,null),vn===null)throw Error(n(349));(es&30)!==0||ZS(g,c,C)}return C}function ZS(s,c,g){s.flags|=16384,s={getSnapshot:c,value:g},c=Vt.updateQueue,c===null?(c={lastEffect:null,stores:null},Vt.updateQueue=c,c.stores=[s]):(g=c.stores,g===null?c.stores=[s]:g.push(s))}function YS(s,c,g,w){c.value=g,c.getSnapshot=w,XS(c)&&QS(s)}function JS(s,c,g){return g(function(){XS(c)&&QS(s)})}function XS(s){var c=s.getSnapshot;s=s.value;try{var g=c();return!pr(s,g)}catch{return!0}}function QS(s){var c=so(s,1);c!==null&&si(c,s,1,-1)}function eT(s){var c=Ii();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:s},c.queue=s,s=s.dispatch=ej.bind(null,Vt,s),[c.memoizedState,s]}function gc(s,c,g,w){return s={tag:s,create:c,destroy:g,deps:w,next:null},c=Vt.updateQueue,c===null?(c={lastEffect:null,stores:null},Vt.updateQueue=c,c.lastEffect=s.next=s):(g=c.lastEffect,g===null?c.lastEffect=s.next=s:(w=g.next,g.next=s,s.next=w,c.lastEffect=s)),s}function tT(){return Lr().memoizedState}function kd(s,c,g,w){var C=Ii();Vt.flags|=s,C.memoizedState=gc(1|c,g,void 0,w===void 0?null:w)}function Rd(s,c,g,w){var C=Lr();w=w===void 0?null:w;var I=void 0;if(un!==null){var B=un.memoizedState;if(I=B.destroy,w!==null&&_g(w,B.deps)){C.memoizedState=gc(c,g,I,w);return}}Vt.flags|=s,C.memoizedState=gc(1|c,g,I,w)}function nT(s,c){return kd(8390656,8,s,c)}function Tg(s,c){return Rd(2048,8,s,c)}function rT(s,c){return Rd(4,2,s,c)}function iT(s,c){return Rd(4,4,s,c)}function oT(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function aT(s,c,g){return g=g!=null?g.concat([s]):null,Rd(4,4,oT.bind(null,c,s),g)}function Eg(){}function sT(s,c){var g=Lr();c=c===void 0?null:c;var w=g.memoizedState;return w!==null&&c!==null&&_g(c,w[1])?w[0]:(g.memoizedState=[s,c],s)}function lT(s,c){var g=Lr();c=c===void 0?null:c;var w=g.memoizedState;return w!==null&&c!==null&&_g(c,w[1])?w[0]:(s=s(),g.memoizedState=[s,c],s)}function uT(s,c,g){return(es&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=g):(pr(g,c)||(g=Yf(),Vt.lanes|=g,ts|=g,s.baseState=!0),c)}function XD(s,c){var g=ft;ft=g!==0&&4>g?g:4,s(!0);var w=yg.transition;yg.transition={};try{s(!1),c()}finally{ft=g,yg.transition=w}}function cT(){return Lr().memoizedState}function QD(s,c,g){var w=la(s);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},fT(s))dT(c,g);else if(g=zS(s,c,g,w),g!==null){var C=zn();si(g,s,w,C),hT(g,c,w)}}function ej(s,c,g){var w=la(s),C={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(fT(s))dT(c,C);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var B=c.lastRenderedState,W=I(B,g);if(C.hasEagerState=!0,C.eagerState=W,pr(W,B)){var Q=c.interleaved;Q===null?(C.next=C,dg(c)):(C.next=Q.next,Q.next=C),c.interleaved=C;return}}catch{}g=zS(s,c,C,w),g!==null&&(C=zn(),si(g,s,w,C),hT(g,c,w))}}function fT(s){var c=s.alternate;return s===Vt||c!==null&&c===Vt}function dT(s,c){hc=Od=!0;var g=s.pending;g===null?c.next=c:(c.next=g.next,g.next=c),s.pending=c}function hT(s,c,g){if((g&4194240)!==0){var w=c.lanes;w&=s.pendingLanes,g|=w,c.lanes=g,Xr(s,g)}}var Ld={readContext:Rr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},tj={readContext:Rr,useCallback:function(s,c){return Ii().memoizedState=[s,c===void 0?null:c],s},useContext:Rr,useEffect:nT,useImperativeHandle:function(s,c,g){return g=g!=null?g.concat([s]):null,kd(4194308,4,oT.bind(null,c,s),g)},useLayoutEffect:function(s,c){return kd(4194308,4,s,c)},useInsertionEffect:function(s,c){return kd(4,2,s,c)},useMemo:function(s,c){var g=Ii();return c=c===void 0?null:c,s=s(),g.memoizedState=[s,c],s},useReducer:function(s,c,g){var w=Ii();return c=g!==void 0?g(c):c,w.memoizedState=w.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},w.queue=s,s=s.dispatch=QD.bind(null,Vt,s),[w.memoizedState,s]},useRef:function(s){var c=Ii();return s={current:s},c.memoizedState=s},useState:eT,useDebugValue:Eg,useDeferredValue:function(s){return Ii().memoizedState=s},useTransition:function(){var s=eT(!1),c=s[0];return s=XD.bind(null,s[1]),Ii().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,g){var w=Vt,C=Ii();if(Ut){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),vn===null)throw Error(n(349));(es&30)!==0||ZS(w,c,g)}C.memoizedState=g;var I={value:g,getSnapshot:c};return C.queue=I,nT(JS.bind(null,w,I,s),[s]),w.flags|=2048,gc(9,YS.bind(null,w,I,g,c),void 0,null),g},useId:function(){var s=Ii(),c=vn.identifierPrefix;if(Ut){var g=ao,w=oo;g=(w&~(1<<32-tt(w)-1)).toString(32)+g,c=":"+c+"R"+g,g=pc++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=JD++,c=":"+c+"r"+g.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},nj={readContext:Rr,useCallback:sT,useContext:Rr,useEffect:Tg,useImperativeHandle:aT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:wg,useRef:tT,useState:function(){return wg(mc)},useDebugValue:Eg,useDeferredValue:function(s){var c=Lr();return uT(c,un.memoizedState,s)},useTransition:function(){var s=wg(mc)[0],c=Lr().memoizedState;return[s,c]},useMutableSource:WS,useSyncExternalStore:KS,useId:cT,unstable_isNewReconciler:!1},rj={readContext:Rr,useCallback:sT,useContext:Rr,useEffect:Tg,useImperativeHandle:aT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:Sg,useRef:tT,useState:function(){return Sg(mc)},useDebugValue:Eg,useDeferredValue:function(s){var c=Lr();return un===null?c.memoizedState=s:uT(c,un.memoizedState,s)},useTransition:function(){var s=Sg(mc)[0],c=Lr().memoizedState;return[s,c]},useMutableSource:WS,useSyncExternalStore:KS,useId:cT,unstable_isNewReconciler:!1};function ii(s,c){if(s&&s.defaultProps){c=ie({},c),s=s.defaultProps;for(var g in s)c[g]===void 0&&(c[g]=s[g]);return c}return c}function Ag(s,c,g,w){c=s.memoizedState,g=g(w,c),g=g==null?c:ie({},c,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Dd={isMounted:function(s){return(s=s._reactInternals)?xi(s)===s:!1},enqueueSetState:function(s,c,g){s=s._reactInternals;var w=zn(),C=la(s),I=lo(w,C);I.payload=c,g!=null&&(I.callback=g),c=ia(s,I,C),c!==null&&(si(c,s,C,w),Cd(c,s,C))},enqueueReplaceState:function(s,c,g){s=s._reactInternals;var w=zn(),C=la(s),I=lo(w,C);I.tag=1,I.payload=c,g!=null&&(I.callback=g),c=ia(s,I,C),c!==null&&(si(c,s,C,w),Cd(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var g=zn(),w=la(s),C=lo(g,w);C.tag=2,c!=null&&(C.callback=c),c=ia(s,C,w),c!==null&&(si(c,s,w,g),Cd(c,s,w))}};function pT(s,c,g,w,C,I,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,I,B):c.prototype&&c.prototype.isPureReactComponent?!Ei(g,w)||!Ei(C,I):!0}function mT(s,c,g){var w=!1,C=ta,I=c.contextType;return typeof I=="object"&&I!==null?I=Rr(I):(C=er(c)?Za:On.current,w=c.contextTypes,I=(w=w!=null)?cl(s,C):ta),c=new c(g,I),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Dd,s.stateNode=c,c._reactInternals=s,w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=I),c}function gT(s,c,g,w){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,w),c.state!==s&&Dd.enqueueReplaceState(c,c.state,null)}function Pg(s,c,g,w){var C=s.stateNode;C.props=g,C.state=s.memoizedState,C.refs={},hg(s);var I=c.contextType;typeof I=="object"&&I!==null?C.context=Rr(I):(I=er(c)?Za:On.current,C.context=cl(s,I)),C.state=s.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Ag(s,c,I,g),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&Dd.enqueueReplaceState(C,C.state,null),Nd(s,g,C,w),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function yl(s,c){try{var g="",w=c;do g+=ge(w),w=w.return;while(w);var C=g}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:c,stack:C,digest:null}}function Cg(s,c,g){return{value:s,source:null,stack:g??null,digest:c??null}}function Ng(s,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function vT(s,c,g){g=lo(-1,g),g.tag=3,g.payload={element:null};var w=c.value;return g.callback=function(){qd||(qd=!0,Hg=w),Ng(s,c)},g}function yT(s,c,g){g=lo(-1,g),g.tag=3;var w=s.type.getDerivedStateFromError;if(typeof w=="function"){var C=c.value;g.payload=function(){return w(C)},g.callback=function(){Ng(s,c)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Ng(s,c),typeof w!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})}),g}function _T(s,c,g){var w=s.pingCache;if(w===null){w=s.pingCache=new ij;var C=new Set;w.set(c,C)}else C=w.get(c),C===void 0&&(C=new Set,w.set(c,C));C.has(g)||(C.add(g),s=yj.bind(null,s,c,g),c.then(s,s))}function xT(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function bT(s,c,g,w,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=lo(-1,1),c.tag=2,ia(g,c,1))),g.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var oj=j.ReactCurrentOwner,tr=!1;function Un(s,c,g,w){c.child=s===null?US(c,null,g,w):pl(c,s.child,g,w)}function wT(s,c,g,w,C){g=g.render;var I=c.ref;return gl(c,C),w=xg(s,c,g,w,I,C),g=bg(),s!==null&&!tr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,uo(s,c,C)):(Ut&&g&&rg(c),c.flags|=1,Un(s,c,w,C),c.child)}function ST(s,c,g,w,C){if(s===null){var I=g.type;return typeof I=="function"&&!Jg(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=I,TT(s,c,I,w,C)):(s=Zd(g.type,null,w,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(I=s.child,(s.lanes&C)===0){var B=I.memoizedProps;if(g=g.compare,g=g!==null?g:Ei,g(B,w)&&s.ref===c.ref)return uo(s,c,C)}return c.flags|=1,s=ca(I,w),s.ref=c.ref,s.return=c,c.child=s}function TT(s,c,g,w,C){if(s!==null){var I=s.memoizedProps;if(Ei(I,w)&&s.ref===c.ref)if(tr=!1,c.pendingProps=w=I,(s.lanes&C)!==0)(s.flags&131072)!==0&&(tr=!0);else return c.lanes=s.lanes,uo(s,c,C)}return Ig(s,c,g,w,C)}function ET(s,c,g){var w=c.pendingProps,C=w.children,I=s!==null?s.memoizedState:null;if(w.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xl,yr),yr|=g;else{if((g&1073741824)===0)return s=I!==null?I.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,kt(xl,yr),yr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=I!==null?I.baseLanes:g,kt(xl,yr),yr|=w}else I!==null?(w=I.baseLanes|g,c.memoizedState=null):w=g,kt(xl,yr),yr|=w;return Un(s,c,C,g),c.child}function AT(s,c){var g=c.ref;(s===null&&g!==null||s!==null&&s.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function Ig(s,c,g,w,C){var I=er(g)?Za:On.current;return I=cl(c,I),gl(c,C),g=xg(s,c,g,w,I,C),w=bg(),s!==null&&!tr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,uo(s,c,C)):(Ut&&w&&rg(c),c.flags|=1,Un(s,c,g,C),c.child)}function PT(s,c,g,w,C){if(er(g)){var I=!0;xd(c)}else I=!1;if(gl(c,C),c.stateNode===null)$d(s,c),mT(c,g,w),Pg(c,g,w,C),w=!0;else if(s===null){var B=c.stateNode,W=c.memoizedProps;B.props=W;var Q=B.context,fe=g.contextType;typeof fe=="object"&&fe!==null?fe=Rr(fe):(fe=er(g)?Za:On.current,fe=cl(c,fe));var Se=g.getDerivedStateFromProps,Te=typeof Se=="function"||typeof B.getSnapshotBeforeUpdate=="function";Te||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==w||Q!==fe)&&gT(c,B,w,fe),ra=!1;var we=c.memoizedState;B.state=we,Nd(c,w,B,C),Q=c.memoizedState,W!==w||we!==Q||Qn.current||ra?(typeof Se=="function"&&(Ag(c,g,Se,w),Q=c.memoizedState),(W=ra||pT(c,g,W,w,we,Q,fe))?(Te||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(c.flags|=4194308)):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=Q),B.props=w,B.state=Q,B.context=fe,w=W):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{B=c.stateNode,qS(s,c),W=c.memoizedProps,fe=c.type===c.elementType?W:ii(c.type,W),B.props=fe,Te=c.pendingProps,we=B.context,Q=g.contextType,typeof Q=="object"&&Q!==null?Q=Rr(Q):(Q=er(g)?Za:On.current,Q=cl(c,Q));var Ie=g.getDerivedStateFromProps;(Se=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==Te||we!==Q)&&gT(c,B,w,Q),ra=!1,we=c.memoizedState,B.state=we,Nd(c,w,B,C);var Le=c.memoizedState;W!==Te||we!==Le||Qn.current||ra?(typeof Ie=="function"&&(Ag(c,g,Ie,w),Le=c.memoizedState),(fe=ra||pT(c,g,fe,w,we,Le,Q)||!1)?(Se||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Le,Q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Le,Q)),typeof B.componentDidUpdate=="function"&&(c.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof B.componentDidUpdate!="function"||W===s.memoizedProps&&we===s.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&we===s.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=Le),B.props=w,B.state=Le,B.context=Q,w=fe):(typeof B.componentDidUpdate!="function"||W===s.memoizedProps&&we===s.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&we===s.memoizedState||(c.flags|=1024),w=!1)}return Mg(s,c,g,w,I,C)}function Mg(s,c,g,w,C,I){AT(s,c);var B=(c.flags&128)!==0;if(!w&&!B)return C&&OS(c,g,!1),uo(s,c,I);w=c.stateNode,oj.current=c;var W=B&&typeof g.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,s!==null&&B?(c.child=pl(c,s.child,null,I),c.child=pl(c,null,W,I)):Un(s,c,W,I),c.memoizedState=w.state,C&&OS(c,g,!0),c.child}function CT(s){var c=s.stateNode;c.pendingContext?IS(s,c.pendingContext,c.pendingContext!==c.context):c.context&&IS(s,c.context,!1),pg(s,c.containerInfo)}function NT(s,c,g,w,C){return hl(),sg(C),c.flags|=256,Un(s,c,g,w),c.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function kg(s){return{baseLanes:s,cachePool:null,transitions:null}}function IT(s,c,g){var w=c.pendingProps,C=Gt.current,I=!1,B=(c.flags&128)!==0,W;if((W=B)||(W=s!==null&&s.memoizedState===null?!1:(C&2)!==0),W?(I=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),kt(Gt,C&1),s===null)return ag(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(B=w.children,s=w.fallback,I?(w=c.mode,I=c.child,B={mode:"hidden",children:B},(w&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=B):I=Yd(B,w,0,null),s=os(s,w,g,null),I.return=c,s.return=c,I.sibling=s,c.child=I,c.child.memoizedState=kg(g),c.memoizedState=Og,s):Rg(c,B));if(C=s.memoizedState,C!==null&&(W=C.dehydrated,W!==null))return aj(s,c,B,w,W,C,g);if(I){I=w.fallback,B=c.mode,C=s.child,W=C.sibling;var Q={mode:"hidden",children:w.children};return(B&1)===0&&c.child!==C?(w=c.child,w.childLanes=0,w.pendingProps=Q,c.deletions=null):(w=ca(C,Q),w.subtreeFlags=C.subtreeFlags&14680064),W!==null?I=ca(W,I):(I=os(I,B,g,null),I.flags|=2),I.return=c,w.return=c,w.sibling=I,c.child=w,w=I,I=c.child,B=s.child.memoizedState,B=B===null?kg(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},I.memoizedState=B,I.childLanes=s.childLanes&~g,c.memoizedState=Og,w}return I=s.child,s=I.sibling,w=ca(I,{mode:"visible",children:w.children}),(c.mode&1)===0&&(w.lanes=g),w.return=c,w.sibling=null,s!==null&&(g=c.deletions,g===null?(c.deletions=[s],c.flags|=16):g.push(s)),c.child=w,c.memoizedState=null,w}function Rg(s,c){return c=Yd({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function jd(s,c,g,w){return w!==null&&sg(w),pl(c,s.child,null,g),s=Rg(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function aj(s,c,g,w,C,I,B){if(g)return c.flags&256?(c.flags&=-257,w=Cg(Error(n(422))),jd(s,c,B,w)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(I=w.fallback,C=c.mode,w=Yd({mode:"visible",children:w.children},C,0,null),I=os(I,C,B,null),I.flags|=2,w.return=c,I.return=c,w.sibling=I,c.child=w,(c.mode&1)!==0&&pl(c,s.child,null,B),c.child.memoizedState=kg(B),c.memoizedState=Og,I);if((c.mode&1)===0)return jd(s,c,B,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var W=w.dgst;return w=W,I=Error(n(419)),w=Cg(I,w,void 0),jd(s,c,B,w)}if(W=(B&s.childLanes)!==0,tr||W){if(w=vn,w!==null){switch(B&-B){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|B))!==0?0:C,C!==0&&C!==I.retryLane&&(I.retryLane=C,so(s,C),si(w,s,C,-1))}return Yg(),w=Cg(Error(n(421))),jd(s,c,B,w)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=_j.bind(null,s),C._reactRetry=c,null):(s=I.treeContext,vr=Ci(C.nextSibling),gr=c,Ut=!0,ri=null,s!==null&&(Or[kr++]=oo,Or[kr++]=ao,Or[kr++]=Ya,oo=s.id,ao=s.overflow,Ya=c),c=Rg(c,w.children),c.flags|=4096,c)}function MT(s,c,g){s.lanes|=c;var w=s.alternate;w!==null&&(w.lanes|=c),fg(s.return,c,g)}function Lg(s,c,g,w,C){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:C}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=g,I.tailMode=C)}function OT(s,c,g){var w=c.pendingProps,C=w.revealOrder,I=w.tail;if(Un(s,c,w.children,g),w=Gt.current,(w&2)!==0)w=w&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&MT(s,g,c);else if(s.tag===19)MT(s,g,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}w&=1}if(kt(Gt,w),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(g=c.child,C=null;g!==null;)s=g.alternate,s!==null&&Id(s)===null&&(C=g),g=g.sibling;g=C,g===null?(C=c.child,c.child=null):(C=g.sibling,g.sibling=null),Lg(c,!1,C,g,I);break;case"backwards":for(g=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&Id(s)===null){c.child=C;break}s=C.sibling,C.sibling=g,g=C,C=s}Lg(c,!0,g,null,I);break;case"together":Lg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function $d(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function uo(s,c,g){if(s!==null&&(c.dependencies=s.dependencies),ts|=c.lanes,(g&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,g=ca(s,s.pendingProps),c.child=g,g.return=c;s.sibling!==null;)s=s.sibling,g=g.sibling=ca(s,s.pendingProps),g.return=c;g.sibling=null}return c.child}function sj(s,c,g){switch(c.tag){case 3:CT(c),hl();break;case 5:VS(c);break;case 1:er(c.type)&&xd(c);break;case 4:pg(c,c.stateNode.containerInfo);break;case 10:var w=c.type._context,C=c.memoizedProps.value;kt(Ad,w._currentValue),w._currentValue=C;break;case 13:if(w=c.memoizedState,w!==null)return w.dehydrated!==null?(kt(Gt,Gt.current&1),c.flags|=128,null):(g&c.child.childLanes)!==0?IT(s,c,g):(kt(Gt,Gt.current&1),s=uo(s,c,g),s!==null?s.sibling:null);kt(Gt,Gt.current&1);break;case 19:if(w=(g&c.childLanes)!==0,(s.flags&128)!==0){if(w)return OT(s,c,g);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),kt(Gt,Gt.current),w)break;return null;case 22:case 23:return c.lanes=0,ET(s,c,g)}return uo(s,c,g)}var kT,Dg,RT,LT;kT=function(s,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Dg=function(){},RT=function(s,c,g,w){var C=s.memoizedProps;if(C!==w){s=c.stateNode,Qa(Ni.current);var I=null;switch(g){case"input":C=Pe(s,C),w=Pe(s,w),I=[];break;case"select":C=ie({},C,{value:void 0}),w=ie({},w,{value:void 0}),I=[];break;case"textarea":C=Cn(s,C),w=Cn(s,w),I=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(s.onclick=_e)}pe(g,w);var B;g=null;for(fe in C)if(!w.hasOwnProperty(fe)&&C.hasOwnProperty(fe)&&C[fe]!=null)if(fe==="style"){var W=C[fe];for(B in W)W.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(i.hasOwnProperty(fe)?I||(I=[]):(I=I||[]).push(fe,null));for(fe in w){var Q=w[fe];if(W=C?.[fe],w.hasOwnProperty(fe)&&Q!==W&&(Q!=null||W!=null))if(fe==="style")if(W){for(B in W)!W.hasOwnProperty(B)||Q&&Q.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in Q)Q.hasOwnProperty(B)&&W[B]!==Q[B]&&(g||(g={}),g[B]=Q[B])}else g||(I||(I=[]),I.push(fe,g)),g=Q;else fe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,W=W?W.__html:void 0,Q!=null&&W!==Q&&(I=I||[]).push(fe,Q)):fe==="children"?typeof Q!="string"&&typeof Q!="number"||(I=I||[]).push(fe,""+Q):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(fe)?(Q!=null&&fe==="onScroll"&&Et("scroll",s),I||W===Q||(I=[])):(I=I||[]).push(fe,Q))}g&&(I=I||[]).push("style",g);var fe=I;(c.updateQueue=fe)&&(c.flags|=4)}},LT=function(s,c,g,w){g!==w&&(c.flags|=4)};function vc(s,c){if(!Ut)switch(s.tailMode){case"hidden":c=s.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function Rn(s){var c=s.alternate!==null&&s.alternate.child===s.child,g=0,w=0;if(c)for(var C=s.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=w,s.childLanes=g,c}function lj(s,c,g){var w=c.pendingProps;switch(ig(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(c),null;case 1:return er(c.type)&&_d(),Rn(c),null;case 3:return w=c.stateNode,vl(),$t(Qn),$t(On),vg(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(s===null||s.child===null)&&(Td(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ri!==null&&(Wg(ri),ri=null))),Dg(s,c),Rn(c),null;case 5:mg(c);var C=Qa(dc.current);if(g=c.type,s!==null&&c.stateNode!=null)RT(s,c,g,w,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(n(166));return Rn(c),null}if(s=Qa(Ni.current),Td(c)){w=c.stateNode,g=c.type;var I=c.memoizedProps;switch(w[Mr]=c,w[Xo]=I,s=(c.mode&1)!==0,g){case"dialog":Et("cancel",w),Et("close",w);break;case"iframe":case"object":case"embed":Et("load",w);break;case"video":case"audio":for(C=0;C<Zo.length;C++)Et(Zo[C],w);break;case"source":Et("error",w);break;case"img":case"image":case"link":Et("error",w),Et("load",w);break;case"details":Et("toggle",w);break;case"input":ct(w,I),Et("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!I.multiple},Et("invalid",w);break;case"textarea":Zr(w,I),Et("invalid",w)}pe(g,I),C=null;for(var B in I)if(I.hasOwnProperty(B)){var W=I[B];B==="children"?typeof W=="string"?w.textContent!==W&&(I.suppressHydrationWarning!==!0&&ce(w.textContent,W,s),C=["children",W]):typeof W=="number"&&w.textContent!==""+W&&(I.suppressHydrationWarning!==!0&&ce(w.textContent,W,s),C=["children",""+W]):i.hasOwnProperty(B)&&W!=null&&B==="onScroll"&&Et("scroll",w)}switch(g){case"input":ze(w),Nt(w,I,!0);break;case"textarea":ze(w),Ui(w);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(w.onclick=_e)}w=C,c.updateQueue=w,w!==null&&(c.flags|=4)}else{B=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Io(g)),s==="http://www.w3.org/1999/xhtml"?g==="script"?(s=B.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof w.is=="string"?s=B.createElement(g,{is:w.is}):(s=B.createElement(g),g==="select"&&(B=s,w.multiple?B.multiple=!0:w.size&&(B.size=w.size))):s=B.createElementNS(s,g),s[Mr]=c,s[Xo]=w,kT(s,c,!1,!1),c.stateNode=s;e:{switch(B=Ue(g,w),g){case"dialog":Et("cancel",s),Et("close",s),C=w;break;case"iframe":case"object":case"embed":Et("load",s),C=w;break;case"video":case"audio":for(C=0;C<Zo.length;C++)Et(Zo[C],s);C=w;break;case"source":Et("error",s),C=w;break;case"img":case"image":case"link":Et("error",s),Et("load",s),C=w;break;case"details":Et("toggle",s),C=w;break;case"input":ct(s,w),C=Pe(s,w),Et("invalid",s);break;case"option":C=w;break;case"select":s._wrapperState={wasMultiple:!!w.multiple},C=ie({},w,{value:void 0}),Et("invalid",s);break;case"textarea":Zr(s,w),C=Cn(s,w),Et("invalid",s);break;default:C=w}pe(g,C),W=C;for(I in W)if(W.hasOwnProperty(I)){var Q=W[I];I==="style"?qi(s,Q):I==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Ls(s,Q)):I==="children"?typeof Q=="string"?(g!=="textarea"||Q!=="")&&_i(s,Q):typeof Q=="number"&&_i(s,""+Q):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?Q!=null&&I==="onScroll"&&Et("scroll",s):Q!=null&&R(s,I,Q,B))}switch(g){case"input":ze(s),Nt(s,w,!1);break;case"textarea":ze(s),Ui(s);break;case"option":w.value!=null&&s.setAttribute("value",""+Fe(w.value));break;case"select":s.multiple=!!w.multiple,I=w.value,I!=null?en(s,!!w.multiple,I,!1):w.defaultValue!=null&&en(s,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=_e)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Rn(c),null;case 6:if(s&&c.stateNode!=null)LT(s,c,s.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(n(166));if(g=Qa(dc.current),Qa(Ni.current),Td(c)){if(w=c.stateNode,g=c.memoizedProps,w[Mr]=c,(I=w.nodeValue!==g)&&(s=gr,s!==null))switch(s.tag){case 3:ce(w.nodeValue,g,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ce(w.nodeValue,g,(s.mode&1)!==0)}I&&(c.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Mr]=c,c.stateNode=w}return Rn(c),null;case 13:if($t(Gt),w=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ut&&vr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)$S(),hl(),c.flags|=98560,I=!1;else if(I=Td(c),w!==null&&w.dehydrated!==null){if(s===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Mr]=c}else hl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rn(c),I=!1}else ri!==null&&(Wg(ri),ri=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=g,c):(w=w!==null,w!==(s!==null&&s.memoizedState!==null)&&w&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Gt.current&1)!==0?cn===0&&(cn=3):Yg())),c.updateQueue!==null&&(c.flags|=4),Rn(c),null);case 4:return vl(),Dg(s,c),s===null&&Yo(c.stateNode.containerInfo),Rn(c),null;case 10:return cg(c.type._context),Rn(c),null;case 17:return er(c.type)&&_d(),Rn(c),null;case 19:if($t(Gt),I=c.memoizedState,I===null)return Rn(c),null;if(w=(c.flags&128)!==0,B=I.rendering,B===null)if(w)vc(I,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(B=Id(s),B!==null){for(c.flags|=128,vc(I,!1),w=B.updateQueue,w!==null&&(c.updateQueue=w,c.flags|=4),c.subtreeFlags=0,w=g,g=c.child;g!==null;)I=g,s=w,I.flags&=14680066,B=I.alternate,B===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=B.childLanes,I.lanes=B.lanes,I.child=B.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=B.memoizedProps,I.memoizedState=B.memoizedState,I.updateQueue=B.updateQueue,I.type=B.type,s=B.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),g=g.sibling;return kt(Gt,Gt.current&1|2),c.child}s=s.sibling}I.tail!==null&&qt()>bl&&(c.flags|=128,w=!0,vc(I,!1),c.lanes=4194304)}else{if(!w)if(s=Id(B),s!==null){if(c.flags|=128,w=!0,g=s.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),vc(I,!0),I.tail===null&&I.tailMode==="hidden"&&!B.alternate&&!Ut)return Rn(c),null}else 2*qt()-I.renderingStartTime>bl&&g!==1073741824&&(c.flags|=128,w=!0,vc(I,!1),c.lanes=4194304);I.isBackwards?(B.sibling=c.child,c.child=B):(g=I.last,g!==null?g.sibling=B:c.child=B,I.last=B)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=qt(),c.sibling=null,g=Gt.current,kt(Gt,w?g&1|2:g&1),c):(Rn(c),null);case 22:case 23:return Zg(),w=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==w&&(c.flags|=8192),w&&(c.mode&1)!==0?(yr&1073741824)!==0&&(Rn(c),c.subtreeFlags&6&&(c.flags|=8192)):Rn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function uj(s,c){switch(ig(c),c.tag){case 1:return er(c.type)&&_d(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return vl(),$t(Qn),$t(On),vg(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return mg(c),null;case 13:if($t(Gt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));hl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return $t(Gt),null;case 4:return vl(),null;case 10:return cg(c.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var Bd=!1,Ln=!1,cj=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function _l(s,c){var g=s.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Zt(s,c,w)}else g.current=null}function jg(s,c,g){try{g()}catch(w){Zt(s,c,w)}}var DT=!1;function fj(s,c){if(Ce=Ua,s=ec(),tc(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var C=w.anchorOffset,I=w.focusNode;w=w.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var B=0,W=-1,Q=-1,fe=0,Se=0,Te=s,we=null;t:for(;;){for(var Ie;Te!==g||C!==0&&Te.nodeType!==3||(W=B+C),Te!==I||w!==0&&Te.nodeType!==3||(Q=B+w),Te.nodeType===3&&(B+=Te.nodeValue.length),(Ie=Te.firstChild)!==null;)we=Te,Te=Ie;for(;;){if(Te===s)break t;if(we===g&&++fe===C&&(W=B),we===I&&++Se===w&&(Q=B),(Ie=Te.nextSibling)!==null)break;Te=we,we=Te.parentNode}Te=Ie}g=W===-1||Q===-1?null:{start:W,end:Q}}else g=null}g=g||{start:0,end:0}}else g=null;for(qe={focusedElem:s,selectionRange:g},Ua=!1,Oe=c;Oe!==null;)if(c=Oe,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Oe=s;else for(;Oe!==null;){c=Oe;try{var Le=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var De=Le.memoizedProps,Jt=Le.memoizedState,le=c.stateNode,te=le.getSnapshotBeforeUpdate(c.elementType===c.type?De:ii(c.type,De),Jt);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=c.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Zt(c,c.return,Ae)}if(s=c.sibling,s!==null){s.return=c.return,Oe=s;break}Oe=c.return}return Le=DT,DT=!1,Le}function yc(s,c,g){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&s)===s){var I=C.destroy;C.destroy=void 0,I!==void 0&&jg(c,g,I)}C=C.next}while(C!==w)}}function Fd(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&s)===s){var w=g.create;g.destroy=w()}g=g.next}while(g!==c)}}function $g(s){var c=s.ref;if(c!==null){var g=s.stateNode;s.tag,s=g,typeof c=="function"?c(s):c.current=s}}function jT(s){var c=s.alternate;c!==null&&(s.alternate=null,jT(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Mr],delete c[Xo],delete c[Qo],delete c[Qm],delete c[eg])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $T(s){return s.tag===5||s.tag===3||s.tag===4}function BT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$T(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bg(s,c,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(s,c):g.insertBefore(s,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(s,g)):(c=g,c.appendChild(s)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=_e));else if(w!==4&&(s=s.child,s!==null))for(Bg(s,c,g),s=s.sibling;s!==null;)Bg(s,c,g),s=s.sibling}function Fg(s,c,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,c?g.insertBefore(s,c):g.appendChild(s);else if(w!==4&&(s=s.child,s!==null))for(Fg(s,c,g),s=s.sibling;s!==null;)Fg(s,c,g),s=s.sibling}var En=null,oi=!1;function oa(s,c,g){for(g=g.child;g!==null;)FT(s,c,g),g=g.sibling}function FT(s,c,g){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(La,g)}catch{}switch(g.tag){case 5:Ln||_l(g,c);case 6:var w=En,C=oi;En=null,oa(s,c,g),En=w,oi=C,En!==null&&(oi?(s=En,g=g.stateNode,s.nodeType===8?s.parentNode.removeChild(g):s.removeChild(g)):En.removeChild(g.stateNode));break;case 18:En!==null&&(oi?(s=En,g=g.stateNode,s.nodeType===8?lc(s.parentNode,g):s.nodeType===1&&lc(s,g),fr(s)):lc(En,g.stateNode));break;case 4:w=En,C=oi,En=g.stateNode.containerInfo,oi=!0,oa(s,c,g),En=w,oi=C;break;case 0:case 11:case 14:case 15:if(!Ln&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var I=C,B=I.destroy;I=I.tag,B!==void 0&&((I&2)!==0||(I&4)!==0)&&jg(g,c,B),C=C.next}while(C!==w)}oa(s,c,g);break;case 1:if(!Ln&&(_l(g,c),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(W){Zt(g,c,W)}oa(s,c,g);break;case 21:oa(s,c,g);break;case 22:g.mode&1?(Ln=(w=Ln)||g.memoizedState!==null,oa(s,c,g),Ln=w):oa(s,c,g);break;default:oa(s,c,g)}}function UT(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var g=s.stateNode;g===null&&(g=s.stateNode=new cj),c.forEach(function(w){var C=xj.bind(null,s,w);g.has(w)||(g.add(w),w.then(C,C))})}}function ai(s,c){var g=c.deletions;if(g!==null)for(var w=0;w<g.length;w++){var C=g[w];try{var I=s,B=c,W=B;e:for(;W!==null;){switch(W.tag){case 5:En=W.stateNode,oi=!1;break e;case 3:En=W.stateNode.containerInfo,oi=!0;break e;case 4:En=W.stateNode.containerInfo,oi=!0;break e}W=W.return}if(En===null)throw Error(n(160));FT(I,B,C),En=null,oi=!1;var Q=C.alternate;Q!==null&&(Q.return=null),C.return=null}catch(fe){Zt(C,c,fe)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)zT(c,s),c=c.sibling}function zT(s,c){var g=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ai(c,s),Mi(s),w&4){try{yc(3,s,s.return),Fd(3,s)}catch(De){Zt(s,s.return,De)}try{yc(5,s,s.return)}catch(De){Zt(s,s.return,De)}}break;case 1:ai(c,s),Mi(s),w&512&&g!==null&&_l(g,g.return);break;case 5:if(ai(c,s),Mi(s),w&512&&g!==null&&_l(g,g.return),s.flags&32){var C=s.stateNode;try{_i(C,"")}catch(De){Zt(s,s.return,De)}}if(w&4&&(C=s.stateNode,C!=null)){var I=s.memoizedProps,B=g!==null?g.memoizedProps:I,W=s.type,Q=s.updateQueue;if(s.updateQueue=null,Q!==null)try{W==="input"&&I.type==="radio"&&I.name!=null&&_t(C,I),Ue(W,B);var fe=Ue(W,I);for(B=0;B<Q.length;B+=2){var Se=Q[B],Te=Q[B+1];Se==="style"?qi(C,Te):Se==="dangerouslySetInnerHTML"?Ls(C,Te):Se==="children"?_i(C,Te):R(C,Se,Te,fe)}switch(W){case"input":dt(C,I);break;case"textarea":Fi(C,I);break;case"select":var we=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!I.multiple;var Ie=I.value;Ie!=null?en(C,!!I.multiple,Ie,!1):we!==!!I.multiple&&(I.defaultValue!=null?en(C,!!I.multiple,I.defaultValue,!0):en(C,!!I.multiple,I.multiple?[]:"",!1))}C[Xo]=I}catch(De){Zt(s,s.return,De)}}break;case 6:if(ai(c,s),Mi(s),w&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,I=s.memoizedProps;try{C.nodeValue=I}catch(De){Zt(s,s.return,De)}}break;case 3:if(ai(c,s),Mi(s),w&4&&g!==null&&g.memoizedState.isDehydrated)try{fr(c.containerInfo)}catch(De){Zt(s,s.return,De)}break;case 4:ai(c,s),Mi(s);break;case 13:ai(c,s),Mi(s),C=s.child,C.flags&8192&&(I=C.memoizedState!==null,C.stateNode.isHidden=I,!I||C.alternate!==null&&C.alternate.memoizedState!==null||(qg=qt())),w&4&&UT(s);break;case 22:if(Se=g!==null&&g.memoizedState!==null,s.mode&1?(Ln=(fe=Ln)||Se,ai(c,s),Ln=fe):ai(c,s),Mi(s),w&8192){if(fe=s.memoizedState!==null,(s.stateNode.isHidden=fe)&&!Se&&(s.mode&1)!==0)for(Oe=s,Se=s.child;Se!==null;){for(Te=Oe=Se;Oe!==null;){switch(we=Oe,Ie=we.child,we.tag){case 0:case 11:case 14:case 15:yc(4,we,we.return);break;case 1:_l(we,we.return);var Le=we.stateNode;if(typeof Le.componentWillUnmount=="function"){w=we,g=we.return;try{c=w,Le.props=c.memoizedProps,Le.state=c.memoizedState,Le.componentWillUnmount()}catch(De){Zt(w,g,De)}}break;case 5:_l(we,we.return);break;case 22:if(we.memoizedState!==null){GT(Te);continue}}Ie!==null?(Ie.return=we,Oe=Ie):GT(Te)}Se=Se.sibling}e:for(Se=null,Te=s;;){if(Te.tag===5){if(Se===null){Se=Te;try{C=Te.stateNode,fe?(I=C.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(W=Te.stateNode,Q=Te.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,W.style.display=ka("display",B))}catch(De){Zt(s,s.return,De)}}}else if(Te.tag===6){if(Se===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(De){Zt(s,s.return,De)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===s)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===s)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===s)break e;Se===Te&&(Se=null),Te=Te.return}Se===Te&&(Se=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:ai(c,s),Mi(s),w&4&&UT(s);break;case 21:break;default:ai(c,s),Mi(s)}}function Mi(s){var c=s.flags;if(c&2){try{e:{for(var g=s.return;g!==null;){if($T(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(_i(C,""),w.flags&=-33);var I=BT(s);Fg(s,I,C);break;case 3:case 4:var B=w.stateNode.containerInfo,W=BT(s);Bg(s,W,B);break;default:throw Error(n(161))}}catch(Q){Zt(s,s.return,Q)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function dj(s,c,g){Oe=s,qT(s)}function qT(s,c,g){for(var w=(s.mode&1)!==0;Oe!==null;){var C=Oe,I=C.child;if(C.tag===22&&w){var B=C.memoizedState!==null||Bd;if(!B){var W=C.alternate,Q=W!==null&&W.memoizedState!==null||Ln;W=Bd;var fe=Ln;if(Bd=B,(Ln=Q)&&!fe)for(Oe=C;Oe!==null;)B=Oe,Q=B.child,B.tag===22&&B.memoizedState!==null?VT(C):Q!==null?(Q.return=B,Oe=Q):VT(C);for(;I!==null;)Oe=I,qT(I),I=I.sibling;Oe=C,Bd=W,Ln=fe}HT(s)}else(C.subtreeFlags&8772)!==0&&I!==null?(I.return=C,Oe=I):HT(s)}}function HT(s){for(;Oe!==null;){var c=Oe;if((c.flags&8772)!==0){var g=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ln||Fd(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!Ln)if(g===null)w.componentDidMount();else{var C=c.elementType===c.type?g.memoizedProps:ii(c.type,g.memoizedProps);w.componentDidUpdate(C,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&GS(c,I,w);break;case 3:var B=c.updateQueue;if(B!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=c.child.stateNode;break;case 1:g=c.child.stateNode}GS(c,B,g)}break;case 5:var W=c.stateNode;if(g===null&&c.flags&4){g=W;var Q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&g.focus();break;case"img":Q.src&&(g.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var fe=c.alternate;if(fe!==null){var Se=fe.memoizedState;if(Se!==null){var Te=Se.dehydrated;Te!==null&&fr(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ln||c.flags&512&&$g(c)}catch(we){Zt(c,c.return,we)}}if(c===s){Oe=null;break}if(g=c.sibling,g!==null){g.return=c.return,Oe=g;break}Oe=c.return}}function GT(s){for(;Oe!==null;){var c=Oe;if(c===s){Oe=null;break}var g=c.sibling;if(g!==null){g.return=c.return,Oe=g;break}Oe=c.return}}function VT(s){for(;Oe!==null;){var c=Oe;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{Fd(4,c)}catch(Q){Zt(c,g,Q)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var C=c.return;try{w.componentDidMount()}catch(Q){Zt(c,C,Q)}}var I=c.return;try{$g(c)}catch(Q){Zt(c,I,Q)}break;case 5:var B=c.return;try{$g(c)}catch(Q){Zt(c,B,Q)}}}catch(Q){Zt(c,c.return,Q)}if(c===s){Oe=null;break}var W=c.sibling;if(W!==null){W.return=c.return,Oe=W;break}Oe=c.return}}var hj=Math.ceil,Ud=j.ReactCurrentDispatcher,Ug=j.ReactCurrentOwner,Dr=j.ReactCurrentBatchConfig,pt=0,vn=null,nn=null,An=0,yr=0,xl=ea(0),cn=0,_c=null,ts=0,zd=0,zg=0,xc=null,nr=null,qg=0,bl=1/0,co=null,qd=!1,Hg=null,aa=null,Hd=!1,sa=null,Gd=0,bc=0,Gg=null,Vd=-1,Wd=0;function zn(){return(pt&6)!==0?qt():Vd!==-1?Vd:Vd=qt()}function la(s){return(s.mode&1)===0?1:(pt&2)!==0&&An!==0?An&-An:YD.transition!==null?(Wd===0&&(Wd=Yf()),Wd):(s=ft,s!==0||(s=window.event,s=s===void 0?16:ut(s.type)),s)}function si(s,c,g,w){if(50<bc)throw bc=0,Gg=null,Error(n(185));ur(s,g,w),((pt&2)===0||s!==vn)&&(s===vn&&((pt&2)===0&&(zd|=g),cn===4&&ua(s,An)),rr(s,w),g===1&&pt===0&&(c.mode&1)===0&&(bl=qt()+500,bd&&na()))}function rr(s,c){var g=s.callbackNode;Us(s,c);var w=Ot(s,s===vn?An:0);if(w===0)g!==null&&Du(g),s.callbackNode=null,s.callbackPriority=0;else if(c=w&-w,s.callbackPriority!==c){if(g!=null&&Du(g),c===1)s.tag===0?ZD(KT.bind(null,s)):kS(KT.bind(null,s)),Mn(function(){(pt&6)===0&&na()}),g=null;else{switch(jo(w)){case 1:g=ju;break;case 4:g=Zf;break;case 16:g=Bs;break;case 536870912:g=ko;break;default:g=Bs}g=n1(g,WT.bind(null,s))}s.callbackPriority=c,s.callbackNode=g}}function WT(s,c){if(Vd=-1,Wd=0,(pt&6)!==0)throw Error(n(327));var g=s.callbackNode;if(wl()&&s.callbackNode!==g)return null;var w=Ot(s,s===vn?An:0);if(w===0)return null;if((w&30)!==0||(w&s.expiredLanes)!==0||c)c=Kd(s,w);else{c=w;var C=pt;pt|=2;var I=YT();(vn!==s||An!==c)&&(co=null,bl=qt()+500,rs(s,c));do try{gj();break}catch(W){ZT(s,W)}while(!0);ug(),Ud.current=I,pt=C,nn!==null?c=0:(vn=null,An=0,c=cn)}if(c!==0){if(c===2&&(C=Nn(s),C!==0&&(w=C,c=Vg(s,C))),c===1)throw g=_c,rs(s,0),ua(s,w),rr(s,qt()),g;if(c===6)ua(s,w);else{if(C=s.current.alternate,(w&30)===0&&!pj(C)&&(c=Kd(s,w),c===2&&(I=Nn(s),I!==0&&(w=I,c=Vg(s,I))),c===1))throw g=_c,rs(s,0),ua(s,w),rr(s,qt()),g;switch(s.finishedWork=C,s.finishedLanes=w,c){case 0:case 1:throw Error(n(345));case 2:is(s,nr,co);break;case 3:if(ua(s,w),(w&130023424)===w&&(c=qg+500-qt(),10<c)){if(Ot(s,0)!==0)break;if(C=s.suspendedLanes,(C&w)!==w){zn(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=ln(is.bind(null,s,nr,co),c);break}is(s,nr,co);break;case 4:if(ua(s,w),(w&4194240)===w)break;for(c=s.eventTimes,C=-1;0<w;){var B=31-tt(w);I=1<<B,B=c[B],B>C&&(C=B),w&=~I}if(w=C,w=qt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*hj(w/1960))-w,10<w){s.timeoutHandle=ln(is.bind(null,s,nr,co),w);break}is(s,nr,co);break;case 5:is(s,nr,co);break;default:throw Error(n(329))}}}return rr(s,qt()),s.callbackNode===g?WT.bind(null,s):null}function Vg(s,c){var g=xc;return s.current.memoizedState.isDehydrated&&(rs(s,c).flags|=256),s=Kd(s,c),s!==2&&(c=nr,nr=g,c!==null&&Wg(c)),s}function Wg(s){nr===null?nr=s:nr.push.apply(nr,s)}function pj(s){for(var c=s;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var C=g[w],I=C.getSnapshot;C=C.value;try{if(!pr(I(),C))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ua(s,c){for(c&=~zg,c&=~zd,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var g=31-tt(c),w=1<<g;s[g]=-1,c&=~w}}function KT(s){if((pt&6)!==0)throw Error(n(327));wl();var c=Ot(s,0);if((c&1)===0)return rr(s,qt()),null;var g=Kd(s,c);if(s.tag!==0&&g===2){var w=Nn(s);w!==0&&(c=w,g=Vg(s,w))}if(g===1)throw g=_c,rs(s,0),ua(s,c),rr(s,qt()),g;if(g===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,is(s,nr,co),rr(s,qt()),null}function Kg(s,c){var g=pt;pt|=1;try{return s(c)}finally{pt=g,pt===0&&(bl=qt()+500,bd&&na())}}function ns(s){sa!==null&&sa.tag===0&&(pt&6)===0&&wl();var c=pt;pt|=1;var g=Dr.transition,w=ft;try{if(Dr.transition=null,ft=1,s)return s()}finally{ft=w,Dr.transition=g,pt=c,(pt&6)===0&&na()}}function Zg(){yr=xl.current,$t(xl)}function rs(s,c){s.finishedWork=null,s.finishedLanes=0;var g=s.timeoutHandle;if(g!==-1&&(s.timeoutHandle=-1,tn(g)),nn!==null)for(g=nn.return;g!==null;){var w=g;switch(ig(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&_d();break;case 3:vl(),$t(Qn),$t(On),vg();break;case 5:mg(w);break;case 4:vl();break;case 13:$t(Gt);break;case 19:$t(Gt);break;case 10:cg(w.type._context);break;case 22:case 23:Zg()}g=g.return}if(vn=s,nn=s=ca(s.current,null),An=yr=c,cn=0,_c=null,zg=zd=ts=0,nr=xc=null,Xa!==null){for(c=0;c<Xa.length;c++)if(g=Xa[c],w=g.interleaved,w!==null){g.interleaved=null;var C=w.next,I=g.pending;if(I!==null){var B=I.next;I.next=C,w.next=B}g.pending=w}Xa=null}return s}function ZT(s,c){do{var g=nn;try{if(ug(),Md.current=Ld,Od){for(var w=Vt.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Od=!1}if(es=0,gn=un=Vt=null,hc=!1,pc=0,Ug.current=null,g===null||g.return===null){cn=1,_c=c,nn=null;break}e:{var I=s,B=g.return,W=g,Q=c;if(c=An,W.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var fe=Q,Se=W,Te=Se.tag;if((Se.mode&1)===0&&(Te===0||Te===11||Te===15)){var we=Se.alternate;we?(Se.updateQueue=we.updateQueue,Se.memoizedState=we.memoizedState,Se.lanes=we.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Ie=xT(B);if(Ie!==null){Ie.flags&=-257,bT(Ie,B,W,I,c),Ie.mode&1&&_T(I,fe,c),c=Ie,Q=fe;var Le=c.updateQueue;if(Le===null){var De=new Set;De.add(Q),c.updateQueue=De}else Le.add(Q);break e}else{if((c&1)===0){_T(I,fe,c),Yg();break e}Q=Error(n(426))}}else if(Ut&&W.mode&1){var Jt=xT(B);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),bT(Jt,B,W,I,c),sg(yl(Q,W));break e}}I=Q=yl(Q,W),cn!==4&&(cn=2),xc===null?xc=[I]:xc.push(I),I=B;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var le=vT(I,Q,c);HS(I,le);break e;case 1:W=Q;var te=I.type,ue=I.stateNode;if((I.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(aa===null||!aa.has(ue)))){I.flags|=65536,c&=-c,I.lanes|=c;var Ae=yT(I,W,c);HS(I,Ae);break e}}I=I.return}while(I!==null)}XT(g)}catch(Be){c=Be,nn===g&&g!==null&&(nn=g=g.return);continue}break}while(!0)}function YT(){var s=Ud.current;return Ud.current=Ld,s===null?Ld:s}function Yg(){(cn===0||cn===3||cn===2)&&(cn=4),vn===null||(ts&268435455)===0&&(zd&268435455)===0||ua(vn,An)}function Kd(s,c){var g=pt;pt|=2;var w=YT();(vn!==s||An!==c)&&(co=null,rs(s,c));do try{mj();break}catch(C){ZT(s,C)}while(!0);if(ug(),pt=g,Ud.current=w,nn!==null)throw Error(n(261));return vn=null,An=0,cn}function mj(){for(;nn!==null;)JT(nn)}function gj(){for(;nn!==null&&!jm();)JT(nn)}function JT(s){var c=t1(s.alternate,s,yr);s.memoizedProps=s.pendingProps,c===null?XT(s):nn=c,Ug.current=null}function XT(s){var c=s;do{var g=c.alternate;if(s=c.return,(c.flags&32768)===0){if(g=lj(g,c,yr),g!==null){nn=g;return}}else{if(g=uj(g,c),g!==null){g.flags&=32767,nn=g;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,nn=null;return}}if(c=c.sibling,c!==null){nn=c;return}nn=c=s}while(c!==null);cn===0&&(cn=5)}function is(s,c,g){var w=ft,C=Dr.transition;try{Dr.transition=null,ft=1,vj(s,c,g,w)}finally{Dr.transition=C,ft=w}return null}function vj(s,c,g,w){do wl();while(sa!==null);if((pt&6)!==0)throw Error(n(327));g=s.finishedWork;var C=s.finishedLanes;if(g===null)return null;if(s.finishedWork=null,s.finishedLanes=0,g===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var I=g.lanes|g.childLanes;if(Kt(s,I),s===vn&&(nn=vn=null,An=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Hd||(Hd=!0,n1(Bs,function(){return wl(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=Dr.transition,Dr.transition=null;var B=ft;ft=1;var W=pt;pt|=4,Ug.current=null,fj(s,g),zT(g,s),Nr(qe),Ua=!!Ce,qe=Ce=null,s.current=g,dj(g),$s(),pt=W,ft=B,Dr.transition=I}else s.current=g;if(Hd&&(Hd=!1,sa=s,Gd=C),I=s.pendingLanes,I===0&&(aa=null),Da(g.stateNode),rr(s,qt()),c!==null)for(w=s.onRecoverableError,g=0;g<c.length;g++)C=c[g],w(C.value,{componentStack:C.stack,digest:C.digest});if(qd)throw qd=!1,s=Hg,Hg=null,s;return(Gd&1)!==0&&s.tag!==0&&wl(),I=s.pendingLanes,(I&1)!==0?s===Gg?bc++:(bc=0,Gg=s):bc=0,na(),null}function wl(){if(sa!==null){var s=jo(Gd),c=Dr.transition,g=ft;try{if(Dr.transition=null,ft=16>s?16:s,sa===null)var w=!1;else{if(s=sa,sa=null,Gd=0,(pt&6)!==0)throw Error(n(331));var C=pt;for(pt|=4,Oe=s.current;Oe!==null;){var I=Oe,B=I.child;if((Oe.flags&16)!==0){var W=I.deletions;if(W!==null){for(var Q=0;Q<W.length;Q++){var fe=W[Q];for(Oe=fe;Oe!==null;){var Se=Oe;switch(Se.tag){case 0:case 11:case 15:yc(8,Se,I)}var Te=Se.child;if(Te!==null)Te.return=Se,Oe=Te;else for(;Oe!==null;){Se=Oe;var we=Se.sibling,Ie=Se.return;if(jT(Se),Se===fe){Oe=null;break}if(we!==null){we.return=Ie,Oe=we;break}Oe=Ie}}}var Le=I.alternate;if(Le!==null){var De=Le.child;if(De!==null){Le.child=null;do{var Jt=De.sibling;De.sibling=null,De=Jt}while(De!==null)}}Oe=I}}if((I.subtreeFlags&2064)!==0&&B!==null)B.return=I,Oe=B;else e:for(;Oe!==null;){if(I=Oe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:yc(9,I,I.return)}var le=I.sibling;if(le!==null){le.return=I.return,Oe=le;break e}Oe=I.return}}var te=s.current;for(Oe=te;Oe!==null;){B=Oe;var ue=B.child;if((B.subtreeFlags&2064)!==0&&ue!==null)ue.return=B,Oe=ue;else e:for(B=te;Oe!==null;){if(W=Oe,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Fd(9,W)}}catch(Be){Zt(W,W.return,Be)}if(W===B){Oe=null;break e}var Ae=W.sibling;if(Ae!==null){Ae.return=W.return,Oe=Ae;break e}Oe=W.return}}if(pt=C,na(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(La,s)}catch{}w=!0}return w}finally{ft=g,Dr.transition=c}}return!1}function QT(s,c,g){c=yl(g,c),c=vT(s,c,1),s=ia(s,c,1),c=zn(),s!==null&&(ur(s,1,c),rr(s,c))}function Zt(s,c,g){if(s.tag===3)QT(s,s,g);else for(;c!==null;){if(c.tag===3){QT(c,s,g);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w))){s=yl(g,s),s=yT(c,s,1),c=ia(c,s,1),s=zn(),c!==null&&(ur(c,1,s),rr(c,s));break}}c=c.return}}function yj(s,c,g){var w=s.pingCache;w!==null&&w.delete(c),c=zn(),s.pingedLanes|=s.suspendedLanes&g,vn===s&&(An&g)===g&&(cn===4||cn===3&&(An&130023424)===An&&500>qt()-qg?rs(s,0):zg|=g),rr(s,c)}function e1(s,c){c===0&&((s.mode&1)===0?c=1:(c=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var g=zn();s=so(s,c),s!==null&&(ur(s,c,g),rr(s,g))}function _j(s){var c=s.memoizedState,g=0;c!==null&&(g=c.retryLane),e1(s,g)}function xj(s,c){var g=0;switch(s.tag){case 13:var w=s.stateNode,C=s.memoizedState;C!==null&&(g=C.retryLane);break;case 19:w=s.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(c),e1(s,g)}var t1;t1=function(s,c,g){if(s!==null)if(s.memoizedProps!==c.pendingProps||Qn.current)tr=!0;else{if((s.lanes&g)===0&&(c.flags&128)===0)return tr=!1,sj(s,c,g);tr=(s.flags&131072)!==0}else tr=!1,Ut&&(c.flags&1048576)!==0&&RS(c,Sd,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;$d(s,c),s=c.pendingProps;var C=cl(c,On.current);gl(c,g),C=xg(null,c,w,s,C,g);var I=bg();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,er(w)?(I=!0,xd(c)):I=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,hg(c),C.updater=Dd,c.stateNode=C,C._reactInternals=c,Pg(c,w,s,g),c=Mg(null,c,w,!0,I,g)):(c.tag=0,Ut&&I&&rg(c),Un(null,c,C,g),c=c.child),c;case 16:w=c.elementType;e:{switch($d(s,c),s=c.pendingProps,C=w._init,w=C(w._payload),c.type=w,C=c.tag=wj(w),s=ii(w,s),C){case 0:c=Ig(null,c,w,s,g);break e;case 1:c=PT(null,c,w,s,g);break e;case 11:c=wT(null,c,w,s,g);break e;case 14:c=ST(null,c,w,ii(w.type,s),g);break e}throw Error(n(306,w,""))}return c;case 0:return w=c.type,C=c.pendingProps,C=c.elementType===w?C:ii(w,C),Ig(s,c,w,C,g);case 1:return w=c.type,C=c.pendingProps,C=c.elementType===w?C:ii(w,C),PT(s,c,w,C,g);case 3:e:{if(CT(c),s===null)throw Error(n(387));w=c.pendingProps,I=c.memoizedState,C=I.element,qS(s,c),Nd(c,w,null,g);var B=c.memoizedState;if(w=B.element,I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){C=yl(Error(n(423)),c),c=NT(s,c,w,g,C);break e}else if(w!==C){C=yl(Error(n(424)),c),c=NT(s,c,w,g,C);break e}else for(vr=Ci(c.stateNode.containerInfo.firstChild),gr=c,Ut=!0,ri=null,g=US(c,null,w,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(hl(),w===C){c=uo(s,c,g);break e}Un(s,c,w,g)}c=c.child}return c;case 5:return VS(c),s===null&&ag(c),w=c.type,C=c.pendingProps,I=s!==null?s.memoizedProps:null,B=C.children,rt(w,C)?B=null:I!==null&&rt(w,I)&&(c.flags|=32),AT(s,c),Un(s,c,B,g),c.child;case 6:return s===null&&ag(c),null;case 13:return IT(s,c,g);case 4:return pg(c,c.stateNode.containerInfo),w=c.pendingProps,s===null?c.child=pl(c,null,w,g):Un(s,c,w,g),c.child;case 11:return w=c.type,C=c.pendingProps,C=c.elementType===w?C:ii(w,C),wT(s,c,w,C,g);case 7:return Un(s,c,c.pendingProps,g),c.child;case 8:return Un(s,c,c.pendingProps.children,g),c.child;case 12:return Un(s,c,c.pendingProps.children,g),c.child;case 10:e:{if(w=c.type._context,C=c.pendingProps,I=c.memoizedProps,B=C.value,kt(Ad,w._currentValue),w._currentValue=B,I!==null)if(pr(I.value,B)){if(I.children===C.children&&!Qn.current){c=uo(s,c,g);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var W=I.dependencies;if(W!==null){B=I.child;for(var Q=W.firstContext;Q!==null;){if(Q.context===w){if(I.tag===1){Q=lo(-1,g&-g),Q.tag=2;var fe=I.updateQueue;if(fe!==null){fe=fe.shared;var Se=fe.pending;Se===null?Q.next=Q:(Q.next=Se.next,Se.next=Q),fe.pending=Q}}I.lanes|=g,Q=I.alternate,Q!==null&&(Q.lanes|=g),fg(I.return,g,c),W.lanes|=g;break}Q=Q.next}}else if(I.tag===10)B=I.type===c.type?null:I.child;else if(I.tag===18){if(B=I.return,B===null)throw Error(n(341));B.lanes|=g,W=B.alternate,W!==null&&(W.lanes|=g),fg(B,g,c),B=I.sibling}else B=I.child;if(B!==null)B.return=I;else for(B=I;B!==null;){if(B===c){B=null;break}if(I=B.sibling,I!==null){I.return=B.return,B=I;break}B=B.return}I=B}Un(s,c,C.children,g),c=c.child}return c;case 9:return C=c.type,w=c.pendingProps.children,gl(c,g),C=Rr(C),w=w(C),c.flags|=1,Un(s,c,w,g),c.child;case 14:return w=c.type,C=ii(w,c.pendingProps),C=ii(w.type,C),ST(s,c,w,C,g);case 15:return TT(s,c,c.type,c.pendingProps,g);case 17:return w=c.type,C=c.pendingProps,C=c.elementType===w?C:ii(w,C),$d(s,c),c.tag=1,er(w)?(s=!0,xd(c)):s=!1,gl(c,g),mT(c,w,C),Pg(c,w,C,g),Mg(null,c,w,!0,s,g);case 19:return OT(s,c,g);case 22:return ET(s,c,g)}throw Error(n(156,c.tag))};function n1(s,c){return Kf(s,c)}function bj(s,c,g,w){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,c,g,w){return new bj(s,c,g,w)}function Jg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wj(s){if(typeof s=="function")return Jg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===oe)return 14}return 2}function ca(s,c){var g=s.alternate;return g===null?(g=jr(s.tag,c,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=c,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&14680064,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,c=s.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g}function Zd(s,c,g,w,C,I){var B=2;if(w=s,typeof s=="function")Jg(s)&&(B=1);else if(typeof s=="string")B=5;else e:switch(s){case $:return os(g.children,C,I,c);case U:B=8,C|=8;break;case z:return s=jr(12,g,c,C|2),s.elementType=z,s.lanes=I,s;case ee:return s=jr(13,g,c,C),s.elementType=ee,s.lanes=I,s;case J:return s=jr(19,g,c,C),s.elementType=J,s.lanes=I,s;case de:return Yd(g,C,I,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:B=10;break e;case V:B=9;break e;case q:B=11;break e;case oe:B=14;break e;case ae:B=16,w=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return c=jr(B,g,c,C),c.elementType=s,c.type=w,c.lanes=I,c}function os(s,c,g,w){return s=jr(7,s,w,c),s.lanes=g,s}function Yd(s,c,g,w){return s=jr(22,s,w,c),s.elementType=de,s.lanes=g,s.stateNode={isHidden:!1},s}function Xg(s,c,g){return s=jr(6,s,null,c),s.lanes=g,s}function Qg(s,c,g){return c=jr(4,s.children!==null?s.children:[],s.key,c),c.lanes=g,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function Sj(s,c,g,w,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ev(s,c,g,w,C,I,B,W,Q){return s=new Sj(s,c,g,W,Q),c===1?(c=1,I===!0&&(c|=8)):c=0,I=jr(3,null,null,c),s.current=I,I.stateNode=s,I.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(I),s}function Tj(s,c,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:w==null?null:""+w,children:s,containerInfo:c,implementation:g}}function r1(s){if(!s)return ta;s=s._reactInternals;e:{if(xi(s)!==s||s.tag!==1)throw Error(n(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(er(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(s.tag===1){var g=s.type;if(er(g))return MS(s,g,c)}return c}function i1(s,c,g,w,C,I,B,W,Q){return s=ev(g,w,!0,s,C,I,B,W,Q),s.context=r1(null),g=s.current,w=zn(),C=la(g),I=lo(w,C),I.callback=c??null,ia(g,I,C),s.current.lanes=C,ur(s,C,w),rr(s,w),s}function Jd(s,c,g,w){var C=c.current,I=zn(),B=la(C);return g=r1(g),c.context===null?c.context=g:c.pendingContext=g,c=lo(I,B),c.payload={element:s},w=w===void 0?null:w,w!==null&&(c.callback=w),s=ia(C,c,B),s!==null&&(si(s,C,B,I),Cd(s,C,B)),B}function Xd(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function o1(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<c?g:c}}function tv(s,c){o1(s,c),(s=s.alternate)&&o1(s,c)}function Ej(){return null}var a1=typeof reportError=="function"?reportError:function(s){console.error(s)};function nv(s){this._internalRoot=s}Qd.prototype.render=nv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));Jd(s,c,null,null)},Qd.prototype.unmount=nv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;ns(function(){Jd(null,s,null,null)}),c[xt]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var c=Hs();s={blockedOn:null,target:s,priority:c};for(var g=0;g<sn.length&&c!==0&&c<sn[g].priority;g++);sn.splice(g,0,s),g===0&&Gs(s)}};function rv(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function eh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function s1(){}function Aj(s,c,g,w,C){if(C){if(typeof w=="function"){var I=w;w=function(){var fe=Xd(B);I.call(fe)}}var B=i1(c,w,s,0,null,!1,!1,"",s1);return s._reactRootContainer=B,s[xt]=B.current,Yo(s.nodeType===8?s.parentNode:s),ns(),B}for(;C=s.lastChild;)s.removeChild(C);if(typeof w=="function"){var W=w;w=function(){var fe=Xd(Q);W.call(fe)}}var Q=ev(s,0,!1,null,null,!1,!1,"",s1);return s._reactRootContainer=Q,s[xt]=Q.current,Yo(s.nodeType===8?s.parentNode:s),ns(function(){Jd(c,Q,g,w)}),Q}function th(s,c,g,w,C){var I=g._reactRootContainer;if(I){var B=I;if(typeof C=="function"){var W=C;C=function(){var Q=Xd(B);W.call(Q)}}Jd(c,B,s,C)}else B=Aj(g,c,s,C,w);return Xd(B)}zs=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var g=Qe(c.pendingLanes);g!==0&&(Xr(c,g|1),rr(c,qt()),(pt&6)===0&&(bl=qt()+500,na()))}break;case 13:ns(function(){var w=so(s,1);if(w!==null){var C=zn();si(w,s,1,C)}}),tv(s,1)}},Vi=function(s){if(s.tag===13){var c=so(s,134217728);if(c!==null){var g=zn();si(c,s,134217728,g)}tv(s,134217728)}},qs=function(s){if(s.tag===13){var c=la(s),g=so(s,c);if(g!==null){var w=zn();si(g,s,c,w)}tv(s,c)}},Hs=function(){return ft},ja=function(s,c){var g=ft;try{return ft=s,c()}finally{ft=g}},ot=function(s,c,g){switch(c){case"input":if(dt(s,g),c=g.name,g.type==="radio"&&c!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<g.length;c++){var w=g[c];if(w!==s&&w.form===s.form){var C=ll(w);if(!C)throw Error(n(90));ye(w),dt(w,C)}}}break;case"textarea":Fi(s,g);break;case"select":c=g.value,c!=null&&en(s,!!g.multiple,c,!1)}},an=Kg,Zn=ns;var Pj={usingClientEntryPoint:!1,Events:[no,ro,ll,Pt,Mt,Kg]},wc={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cj={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Vf(s),s===null?null:s.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{La=nh.inject(Cj),lr=nh}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pj,ir.createPortal=function(s,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rv(c))throw Error(n(200));return Tj(s,c,null,g)},ir.createRoot=function(s,c){if(!rv(s))throw Error(n(299));var g=!1,w="",C=a1;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=ev(s,1,!1,null,null,g,!1,w,C),s[xt]=c.current,Yo(s.nodeType===8?s.parentNode:s),new nv(c)},ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Vf(c),s=s===null?null:s.stateNode,s},ir.flushSync=function(s){return ns(s)},ir.hydrate=function(s,c,g){if(!eh(c))throw Error(n(200));return th(null,s,c,!0,g)},ir.hydrateRoot=function(s,c,g){if(!rv(s))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,C=!1,I="",B=a1;if(g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),c=i1(c,null,s,1,g??null,C,!1,I,B),s[xt]=c.current,Yo(s),w)for(s=0;s<w.length;s++)g=w[s],C=g._getVersion,C=C(g._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[g,C]:c.mutableSourceEagerHydrationData.push(g,C);return new Qd(c)},ir.render=function(s,c,g){if(!eh(c))throw Error(n(200));return th(null,s,c,!1,g)},ir.unmountComponentAtNode=function(s){if(!eh(s))throw Error(n(40));return s._reactRootContainer?(ns(function(){th(null,null,s,!1,function(){s._reactRootContainer=null,s[xt]=null})}),!0):!1},ir.unstable_batchedUpdates=Kg,ir.unstable_renderSubtreeIntoContainer=function(s,c,g,w){if(!eh(g))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return th(s,c,g,!1,w)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var m1;function ok(){if(m1)return av.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),av.exports=Lj(),av.exports}var g1;function Dj(){if(g1)return ih;g1=1;var t=ok();return ih.createRoot=t.createRoot,ih.hydrateRoot=t.hydrateRoot,ih}var jj=Dj();const $j=yt(jj),ak="https://script.google.com/macros/s/AKfycbz7DmIfYCF8FKRP2pjFzoOMaPLoZJUeZSDmGU-4a96R-EjQuqX9wHktfYoXCYlGRlX5/exec",hs=[{code:"A01",name:"",group:"A"},{code:"A02",name:"",group:"A"},{code:"A03",name:"",group:"A"},{code:"A04",name:"",group:"A"},{code:"A05",name:"",group:"A"},{code:"A06",name:"",group:"A"},{code:"A07",name:"",group:"A"},{code:"A08",name:"",group:"A"},{code:"A09",name:"",group:"A"},{code:"A10",name:"",group:"A"},{code:"A11",name:"",group:"A"},{code:"A12",name:"",group:"A"},{code:"A13",name:"",group:"A"},{code:"A14",name:"",group:"A"},{code:"A15",name:"",group:"A"},{code:"A16",name:"",group:"A"},{code:"A17",name:"",group:"A"},{code:"A18",name:"",group:"A"},{code:"A19",name:"",group:"A"},{code:"A20",name:"",group:"A"},{code:"B01",name:"",group:"B"},{code:"B02",name:"",group:"B"},{code:"B03",name:"",group:"B"},{code:"B04",name:"",group:"B"},{code:"B05",name:"",group:"B"},{code:"B06",name:"",group:"B"},{code:"B07",name:"",group:"B"},{code:"B08",name:"",group:"B"},{code:"B09",name:"",group:"B"},{code:"B10",name:"",group:"B"},{code:"B11",name:"",group:"B"},{code:"B12",name:"",group:"B"},{code:"B13",name:"",group:"B"},{code:"B14",name:"",group:"B"}],Ri=[{code:"P01",name:" ",short:"P1"},{code:"P02",name:" ",short:"P2"},{code:"P03",name:" ",short:"P3"},{code:"P04",name:" ",short:"P4"},{code:"P05",name:" ",short:"P5"},{code:"P06",name:" ",short:"P6"},{code:"P07",name:" ",short:"P7"},{code:"P08",name:" ",short:"P8"},{code:"P12",name:" ",short:"P12"},{code:"P13",name:" ",short:"P13"},{code:"P14",name:" ",short:"P14"},{code:"P15",name:" ",short:"P15"}],Bj=[{id:"p01-pre-1",plotCode:"P01",type:"plan_pre_1",url:"",description:" ( 1)"},{id:"p01-post",plotCode:"P01",type:"plan_post_1",url:"",description:"  1"}];async function da(t){try{const e=await fetch(ak,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});return e.ok?await e.json():{success:!1,error:`HTTP ${e.status}: ${e.statusText}`}}catch(e){return console.error("API Post Error:",e),{success:!1,error:e.message}}}async function uv(t){try{const e=await fetch(`${ak}?sheet=${t}`,{method:"GET"});if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return await e.json()}catch(e){throw new Error("Could not fetch data: "+e.message)}}function _x(t,e){if(!isFinite(t)||!isFinite(e)||isNaN(t)||isNaN(e))return{lat:0,lng:0};const n=.9996,r=.00669438,i=r*r,o=i*r,a=r/(1-r),u=6378137,f=(1-Math.sqrt(1-r))/(1+Math.sqrt(1-r)),d=f**2,p=f**3,m=f**4,_=t-5e5,A=e/n/(u*(1-r/4-3*i/64-5*o/256)),T=A+(3*f/2-27*p/32)*Math.sin(2*A)+(21*d/16-55*m/32)*Math.sin(4*A)+151*p/96*Math.sin(6*A)+1097*m/512*Math.sin(8*A),M=Math.sin(T),N=Math.cos(T),R=M/N,j=R**2,O=a*N**2,k=u/Math.sqrt(1-r*M**2),$=u*(1-r)/(1-r*M**2)**1.5,U=_/(k*n),z=U**2,Z=U**3,V=U**4,q=U**5,ee=U**6,J=T-k*R/$*(z/2-V/24*(5+3*j+10*O-4*O**2-9*a)+ee/720*(61+90*j+298*O+45*j**2-252*a-3*O**2)),oe=(U-Z/6*(1+2*j+O)+q/120*(5-2*O+28*j-3*O**2+8*a+24*j**2))/N;return{lat:parseFloat((J*180/Math.PI).toFixed(6)),lng:parseFloat((oe*180/Math.PI+99).toFixed(6))}}function Fj(t,e,n,r){const o=t*Math.PI/180,a=n*Math.PI/180,u=(n-t)*Math.PI/180,f=(r-e)*Math.PI/180,d=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(a)*Math.sin(f/2)*Math.sin(f/2);return 6371e3*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}var Uj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(t,e)=>{const n=K.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:u="",children:f,...d},p)=>K.createElement("svg",{ref:p,...Uj,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${zj(t)}`,u].join(" "),...d},[...e.map(([m,_])=>K.createElement(m,_)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};const sk=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const v1=We("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const dw=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const qj=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Up=We("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Hj=We("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const Gj=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const hw=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Vj=We("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xx=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Wj=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Kj=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Zj=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Yj=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const lk=We("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const y1=We("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);const Jj=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const uk=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Xj=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const ck=We("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const bx=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Qj=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Yc=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Sh=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const fk=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const e$=We("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const Tr=We("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const t$=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const n$=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const pw=We("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const zp=We("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);const dk=We("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const r$=We("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Jc=We("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Ch=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const hk=We("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const _1=We("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);const qp=We("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const wx=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Nh=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const pk=We("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);const Ih=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const x1=We("TreeDeciduous",[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]]);const i$=We("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);const o$=We("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);const Sx=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Th=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const di=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const a$=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Hp=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const s$=We("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const l$=We("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),mk=K.createContext(void 0),u$=({children:t})=>{const[e,n]=K.useState(null),[r,i]=K.useState(!0),o=async()=>{try{const m=await(await fetch("/api/auth/me")).json();n(m.user)}catch(p){console.error("Failed to fetch user",p),n(null)}finally{i(!1)}};K.useEffect(()=>{o()},[]);const a=async p=>{try{const m=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!m.ok)throw new Error("Failed to update profile");const _=await m.json();n(_.user)}catch(m){throw console.error("Update profile failed",m),m}},u=async(p,m)=>{i(!0);try{const _=await fetch("http://localhost:3001/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:m})}),S=await _.json();return _.ok&&S.success&&S.user?(n(S.user),i(!1),{success:!0}):(n(null),i(!1),{success:!1,message:S.error||""})}catch(_){return n(null),i(!1),{success:!1,message:_.message||""}}},f=async p=>{i(!0);try{const _=await(await fetch("http://localhost:3001/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();return i(!1),_}catch(m){return i(!1),{success:!1,error:m.message||""}}},d=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),n(null)}catch(p){console.error("Logout failed",p)}};return y.jsx(mk.Provider,{value:{user:e,isLoading:r,login:u,logout:d,updateProfile:a,register:f},children:t})},yu=()=>{const t=K.useContext(mk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},c$=({onBack:t,setShowRegister:e})=>{const{login:n,isLoading:r}=yu(),[i,o]=K.useState(""),[a,u]=K.useState(""),[f,d]=K.useState(""),p=async m=>{m.preventDefault(),d("");const _=await n(i,a);_.success||d(_.message||"")};return r?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:y.jsx(Tr,{className:"animate-spin text-green-600",size:48})}):y.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-50 relative",children:[t&&y.jsxs("button",{onClick:t,className:"absolute top-6 left-6 flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors",children:[y.jsx(dw,{size:20}),y.jsx("span",{children:""})]}),y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),y.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),y.jsx("p",{className:"text-gray-500 text-sm",children:""})]}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"",value:i,onChange:m=>o(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-200",required:!0}),y.jsx("input",{type:"password",placeholder:"",value:a,onChange:m=>u(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-200",required:!0}),y.jsx("button",{type:"submit",className:"w-full px-6 py-3 border border-gray-300 rounded-lg bg-green-600 text-white font-medium shadow-sm hover:bg-green-700 transition-colors duration-200",children:""})]}),e&&y.jsx("button",{onClick:()=>e(!0),className:"w-full mt-4 px-6 py-3 border border-green-600 rounded-lg bg-green-600 text-white font-medium shadow-sm hover:bg-green-700 transition-colors duration-200",children:""}),f&&y.jsx("div",{className:"text-red-500 text-sm mt-2",children:f}),y.jsx("p",{className:"text-xs text-gray-400 mt-8",children:" "}),y.jsxs("div",{className:"flex justify-center gap-4 text-xs text-gray-400 mt-4",children:[y.jsx("a",{href:"/privacy",className:"hover:text-gray-600 underline",children:""}),y.jsx("span",{children:""}),y.jsx("a",{href:"/terms",className:"hover:text-gray-600 underline",children:""})]})]})]})},f$="http://localhost:3001/register",d$=({onBack:t})=>{const[e,n]=K.useState({fullname:"",email:"",password:"",confirm_password:"",position:"",organization:""}),[r,i]=K.useState(""),[o,a]=K.useState(""),[u,f]=K.useState(!1),d=m=>{n({...e,[m.target.name]:m.target.value})},p=async m=>{if(m.preventDefault(),i(""),a(""),!e.fullname||!e.email||!e.password||!e.confirm_password||!e.position||!e.organization){i("");return}if(e.password!==e.confirm_password){i("");return}f(!0);try{const S=await(await fetch(f$,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();S.success?(a(" "),n({fullname:"",email:"",password:"",confirm_password:"",position:"",organization:""})):i(S.error||"")}catch{i("")}f(!1)};return y.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-50 relative",children:[t&&y.jsx("button",{onClick:t,className:"absolute top-6 left-6 text-gray-500 hover:text-gray-900",children:""}),y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsx("input",{name:"fullname",type:"text",placeholder:"-",value:e.fullname,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("input",{name:"email",type:"email",placeholder:"",value:e.email,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("input",{name:"password",type:"password",placeholder:"",value:e.password,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("input",{name:"confirm_password",type:"password",placeholder:"",value:e.confirm_password,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("input",{name:"position",type:"text",placeholder:"",value:e.position,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("input",{name:"organization",type:"text",placeholder:"",value:e.organization,onChange:d,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),y.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg font-medium",disabled:u,children:""})]}),r&&y.jsx("div",{className:"text-red-500 text-sm mt-2",children:r}),o&&y.jsx("div",{className:"text-green-600 text-sm mt-2",children:o})]})]})},Sl=({active:t,onClick:e,icon:n,label:r})=>y.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-5 py-3 text-sm font-medium transition-all border-b-2 ${t?"text-white border-green-400 bg-white/5":"text-white/60 border-transparent hover:text-white/80"}`,children:[n,r]}),h$=({stats:t,isLoading:e,onRefresh:n,activeView:r,setActiveView:i,user:o,onLogout:a})=>y.jsxs("header",{className:"bg-[#2d5a27] text-white shadow-lg z-50 relative shrink-0 w-full",children:[y.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:y.jsx(o$,{size:24,className:"text-green-300"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-sm md:text-lg font-bold tracking-wide whitespace-nowrap",children:""}),y.jsx("p",{className:"text-[10px] md:text-xs text-white/90 font-medium",children:""}),y.jsx("p",{className:"text-[10px] md:text-xs text-white/70 font-light hidden sm:block",children:" . . ."}),y.jsx("p",{className:"text-[10px] text-green-200 mt-0.5 font-light opacity-90 hidden sm:block",children:"* RCD (Root Collar Diameter) = "})]})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[y.jsxs("div",{className:"bg-white/10 px-4 py-1.5 rounded-full border border-white/20",children:[y.jsx("span",{className:"text-xs text-white/60 mr-2",children:":"}),y.jsx("span",{className:"font-mono font-bold text-yellow-400",children:t.total})]}),y.jsxs("div",{className:"bg-white/10 px-4 py-1.5 rounded-full border border-white/20",children:[y.jsx("span",{className:"text-xs text-white/60 mr-2",children:":"}),y.jsx("span",{className:"font-mono font-bold text-green-400",children:t.alive})]}),y.jsxs("div",{className:"bg-white/10 px-4 py-1.5 rounded-full border border-white/20",children:[y.jsx("span",{className:"text-xs text-white/60 mr-2",children:":"}),y.jsx("span",{className:"font-mono font-bold text-red-400",children:t.dead})]})]}),y.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>i("profile"),className:`hidden md:flex items-center gap-2 px-3 py-1 rounded-full border transition-colors ${r==="profile"?"bg-white/20 border-white/40":"bg-white/10 border-white/10 hover:bg-white/20"}`,children:[o.picture?y.jsx("img",{src:o.picture,alt:o.name,className:"w-6 h-6 rounded-full"}):y.jsx(di,{size:16,className:"text-white/80"}),y.jsx("span",{className:"text-xs text-white/90 truncate max-w-[100px]",children:o.name})]}),y.jsx("button",{onClick:()=>i("profile"),className:`md:hidden p-2 rounded-full transition-colors ${r==="profile"?"bg-white/20 text-white":"hover:bg-white/10 text-white/80"}`,children:o.picture?y.jsx("img",{src:o.picture,alt:o.name,className:"w-6 h-6 rounded-full"}):y.jsx(di,{size:20})})]}),y.jsx("button",{onClick:n,disabled:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors disabled:opacity-50",title:"",children:e?y.jsx(Tr,{size:20,className:"animate-spin"}):y.jsx(hk,{size:20})}),a&&y.jsx("button",{onClick:a,className:"p-2 hover:bg-red-500/20 text-white/80 hover:text-red-200 rounded-full transition-colors",title:"",children:y.jsx(t$,{size:20})})]})]}),y.jsx("nav",{className:"border-t border-white/10 hidden md:block w-full",children:y.jsxs("div",{className:"w-full px-4 flex overflow-x-auto no-scrollbar",children:[y.jsx(Sl,{active:r==="table",onClick:()=>i("table"),icon:y.jsx(lk,{size:18}),label:""}),y.jsx(Sl,{active:r==="plotInfo",onClick:()=>i("plotInfo"),icon:y.jsx(ck,{size:18}),label:""}),y.jsx(Sl,{active:r==="coords",onClick:()=>i("coords"),icon:y.jsx(pw,{size:18}),label:""}),y.jsx(Sl,{active:r==="map",onClick:()=>i("map"),icon:y.jsx(zp,{size:18}),label:""}),y.jsx(Sl,{active:r==="history",onClick:()=>i("history"),icon:y.jsx(Yc,{size:18}),label:""}),y.jsx(Sl,{active:r==="stats",onClick:()=>i("stats"),icon:y.jsx(Up,{size:18}),label:""})]})})]}),Tl=({active:t,onClick:e,icon:n,label:r})=>y.jsxs("button",{onClick:e,className:`flex flex-col items-center justify-center shrink-0 w-1/6 py-2 transition-colors active:scale-95 ${t?"text-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,style:{width:"16.66%"},children:[y.jsx("div",{className:t?"text-green-600":"text-gray-400",children:n}),y.jsx("span",{className:"text-[9px] font-medium mt-1 whitespace-nowrap",children:r})]}),p$=({activeView:t,setActiveView:e})=>y.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 z-[3000] flex overflow-x-auto no-scrollbar shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[y.jsx(Tl,{active:t==="table",onClick:()=>e("table"),icon:y.jsx(lk,{size:20}),label:""}),y.jsx(Tl,{active:t==="plotInfo",onClick:()=>e("plotInfo"),icon:y.jsx(ck,{size:20}),label:""}),y.jsx(Tl,{active:t==="coords",onClick:()=>e("coords"),icon:y.jsx(pw,{size:20}),label:""}),y.jsx(Tl,{active:t==="map",onClick:()=>e("map"),icon:y.jsx(zp,{size:20}),label:""}),y.jsx(Tl,{active:t==="history",onClick:()=>e("history"),icon:y.jsx(Yc,{size:20}),label:""}),y.jsx(Tl,{active:t==="stats",onClick:()=>e("stats"),icon:y.jsx(Up,{size:20}),label:""})]}),gk=(t,e)=>{if(!t)return"";const n=t.toLowerCase();return n.includes("")?"":n.includes("")?"":n.includes("")?"":e==="B"?"":""},xa=t=>gk(t.species_name,t.species_group),m$=t=>gk(t.name,t.group),g$=t=>{switch(t){case"":return"bg-green-100 text-green-800 border-green-200";case"":return"bg-blue-100 text-blue-800 border-blue-200";case"":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"":return"bg-orange-100 text-orange-800 border-orange-200";case"":return"bg-lime-100 text-lime-800 border-lime-200";default:return"bg-gray-100 text-gray-800"}},v$=({formData:t,setFormData:e,editLogId:n,isLoading:r,isMobileOpen:i,isDesktopOpen:o,onClose:a,onSubmit:u,onClear:f,treeCodePreview:d,tagLabelPreview:p})=>{const m=(S,E)=>{e({...t,[S]:E})},_=K.useMemo(()=>{const S=hs.find(E=>E.code===t.speciesCode);return S?m$(S):null},[t.speciesCode]);return y.jsx("div",{className:`
      bg-white flex flex-col overflow-y-auto shrink-0 shadow-lg border-r border-gray-200 transition-all duration-300 ease-in-out
      /* Mobile: Fixed Modal */
      fixed inset-0 z-[2000] w-full h-full transform
      ${i?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none"}
      
      /* Desktop: Collapsible Sidebar */
      md:relative md:z-0 md:transform-none md:pointer-events-auto md:h-full md:translate-y-0
      ${o?"md:w-96 md:opacity-100 md:translate-x-0":"md:w-0 md:opacity-0 md:-translate-x-full md:overflow-hidden"}
    `,children:y.jsxs("div",{className:"md:w-96 shrink-0 h-full flex flex-col",children:[y.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-[#2d5a27] text-white shadow-md sticky top-0 z-10 shrink-0",children:[y.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[n?y.jsx(Jc,{size:18}):y.jsx(Ch,{size:18}),n?"":""]}),y.jsx("button",{onClick:a,className:"p-1 rounded-full hover:bg-white/20",children:y.jsx(Hp,{size:24})})]}),y.jsxs("div",{className:`p-4 border-b ${n?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[y.jsxs("h3",{className:`hidden md:flex text-xs font-bold uppercase tracking-widest mb-4 items-center justify-between ${n?"text-amber-700":"text-gray-400"}`,children:[y.jsx("span",{children:" "}),n&&y.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-[10px] flex items-center gap-1",children:[y.jsx(Jc,{size:10})," "]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsxs("select",{value:t.plotCode,onChange:S=>m("plotCode",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-600 outline-none",children:[y.jsx("option",{value:"",children:"  "}),Ri.map(S=>y.jsxs("option",{value:S.code,children:[S.code,"  ",S.name]},S.code))]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsx("input",{type:"number",value:t.treeNumber,onChange:S=>m("treeNumber",S.target.value),placeholder:" 14",className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono focus:ring-2 focus:ring-green-500/20 focus:border-green-600 outline-none"})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsxs("select",{value:t.speciesCode,onChange:S=>m("speciesCode",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-600 outline-none",children:[y.jsx("option",{value:"",children:"  "}),y.jsx("optgroup",{label:"  (A)",children:hs.filter(S=>S.group==="A").map(S=>y.jsxs("option",{value:S.code,children:[S.code," ",S.name]},S.code))}),y.jsx("optgroup",{label:"  (B)",children:hs.filter(S=>S.group==="B").map(S=>y.jsxs("option",{value:S.code,children:[S.code," ",S.name]},S.code))})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" (Row)"}),y.jsx("input",{type:"text",value:t.rowMain,onChange:S=>m("rowMain",S.target.value),placeholder:"02",className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" (Sub)"}),y.jsx("input",{type:"text",value:t.rowSub,onChange:S=>m("rowSub",S.target.value),placeholder:"03-A",className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono"})]})]}),y.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-dashed border-gray-300 rounded-lg",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Tree Code"}),y.jsx("span",{className:"font-mono text-sm font-bold text-gray-700",children:d})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Tag"}),y.jsx("span",{className:"text-xs text-gray-600 truncate max-w-[200px]",children:p})]})]})]}),y.jsxs("div",{className:"p-5 border-b border-gray-100",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:" "}),_&&y.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${g$(_)}`,children:_})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsx("button",{onClick:()=>m("status","alive"),className:`py-2 text-sm font-bold rounded-md border-2 transition-all ${t.status==="alive"?"bg-green-100 border-green-600 text-green-700":"bg-white border-gray-200 text-gray-400 hover:border-green-400"}`,children:" "}),y.jsx("button",{onClick:()=>m("status","dead"),className:`py-2 text-sm font-bold rounded-md border-2 transition-all ${t.status==="dead"?"bg-red-100 border-red-600 text-red-700":"bg-white border-gray-200 text-gray-400 hover:border-red-400"}`,children:" "})]})]}),t.status!=="dead"&&y.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[_===""&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" ()"}),y.jsx("input",{type:"number",value:t.bambooCulms,onChange:S=>m("bambooCulms",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full",placeholder:"0"})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-[10px] font-semibold text-gray-500",children:"RCD 1 (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.dbh1Cm,onChange:S=>m("dbh1Cm",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-[10px] font-semibold text-gray-500",children:"RCD 2 (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.dbh2Cm,onChange:S=>m("dbh2Cm",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-[10px] font-semibold text-gray-500",children:"RCD 3 (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.dbh3Cm,onChange:S=>m("dbh3Cm",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.heightM,onChange:S=>m("heightM",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]})]}),_===""&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsx("input",{type:"number",value:t.bananaTotal,onChange:S=>m("bananaTotal",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" 1 "}),y.jsx("input",{type:"number",value:t.banana1yr,onChange:S=>m("banana1yr",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.heightM,onChange:S=>m("heightM",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" ()"}),y.jsx("input",{type:"number",value:t.yieldBunches,onChange:S=>m("yieldBunches",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" ()"}),y.jsx("input",{type:"number",value:t.yieldHands,onChange:S=>m("yieldHands",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"/ ()"}),y.jsx("input",{type:"number",value:t.pricePerHand,onChange:S=>m("pricePerHand",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full"})]})]}),(!_||["","",""].includes(_))&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"RCD (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.dbhCm,onChange:S=>m("dbhCm",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full",placeholder:"0.0"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:" (.)"}),y.jsx("input",{type:"number",step:"0.1",value:t.heightM,onChange:S=>m("heightM",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full",placeholder:"0.0"})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsx("button",{onClick:()=>m("flowering","yes"),className:`py-2 text-sm font-bold rounded-md border transition-all ${t.flowering==="yes"?"bg-purple-100 border-purple-500 text-purple-700":"bg-white border-gray-200 text-gray-400"}`,children:" "}),y.jsx("button",{onClick:()=>m("flowering","no"),className:`py-2 text-sm font-bold rounded-md border transition-all ${t.flowering==="no"?"bg-gray-200 border-gray-400 text-gray-700":"bg-white border-gray-200 text-gray-400"}`,children:""})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsx("input",{type:"text",value:t.note,onChange:S=>m("note",S.target.value),className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-600 w-full",placeholder:"()"})]})]}),y.jsxs("div",{className:"p-5 bg-gray-50/50 flex-1 pb-20 md:pb-5",children:[y.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:" "}),y.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsx("input",{type:"date",value:t.surveyDate,onChange:S=>m("surveyDate",S.target.value),className:"bg-white border border-gray-200 rounded-md p-2 text-sm"})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500",children:""}),y.jsx("input",{type:"text",value:t.recorder,onChange:S=>m("recorder",S.target.value),placeholder:"",className:"bg-white border border-gray-200 rounded-md p-2 text-sm"})]})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:f,className:"px-4 py-3 text-sm font-bold text-gray-500 hover:text-red-600 transition-colors",children:n?"":""}),y.jsxs("button",{onClick:u,disabled:r,className:`flex-1 text-white font-bold py-3 px-4 rounded-lg shadow-md transition-all flex items-center justify-center gap-2 disabled:opacity-50 ${n?"bg-amber-600 hover:bg-amber-700":"bg-[#2d5a27] hover:bg-green-800"}`,children:[r?y.jsx(Tr,{size:18,className:"animate-spin"}):n?y.jsx(qp,{size:18}):y.jsx(Ch,{size:18}),n?"":""]})]})]})]})})},y$=["","","","",""],_$=({records:t,isLoading:e,searchTerm:n,setSearchTerm:r,plotFilter:i,setPlotFilter:o,statusFilter:a,setStatusFilter:u,editLogId:f,onEdit:d,onDelete:p,onOpenMobileForm:m,onClearForm:_})=>{const[S,E]=K.useState(""),A=K.useMemo(()=>t.filter(M=>{const N=!n||M.tree_code?.toLowerCase().includes(n.toLowerCase())||M.species_name?.toLowerCase().includes(n.toLowerCase()),R=!i||M.plot_code===i,j=!a||M.status===a,k=xa(M)===S;return N&&R&&j&&k}).sort((M,N)=>{const R=M.plot_code||"",j=N.plot_code||"";if(R<j)return-1;if(R>j)return 1;const O=M.tree_number||parseInt(M.tree_code.slice(-3),10)||0,k=N.tree_number||parseInt(N.tree_code.slice(-3),10)||0;return O-k}),[t,n,i,a,S]);return y.jsxs("div",{className:"flex flex-col h-full relative",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-stretch md:items-center gap-4 bg-white sticky top-0 z-20",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(wx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),y.jsx("input",{type:"text",placeholder:" code, , ...",value:n,onChange:T=>r(T.target.value),className:"w-full bg-gray-100 border-none rounded-lg pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-green-500/20 outline-none"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{value:i,onChange:T=>o(T.target.value),className:"bg-gray-100 border-none rounded-lg px-3 py-2 text-sm flex-1 md:flex-none",children:[y.jsx("option",{value:"",children:""}),Ri.map(T=>y.jsx("option",{value:T.code,children:T.code},T.code))]}),y.jsxs("select",{value:a,onChange:T=>u(T.target.value),className:"bg-gray-100 border-none rounded-lg px-3 py-2 text-sm flex-1 md:flex-none",children:[y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"alive",children:""}),y.jsx("option",{value:"dead",children:""})]})]})]}),y.jsx("div",{className:"px-4 pt-2 bg-gray-50 border-b border-gray-200 overflow-x-auto no-scrollbar",children:y.jsx("div",{className:"flex space-x-1 min-w-max",children:y$.map(T=>y.jsxs("button",{onClick:()=>E(T),className:`px-4 py-2.5 text-sm font-bold rounded-t-lg transition-all flex items-center gap-2 ${S===T?"bg-white text-green-700 border-t-2 border-green-600 shadow-sm":"text-gray-500 hover:text-green-600 hover:bg-gray-100"}`,children:[T===""&&y.jsx(pk,{size:16}),T===""&&y.jsx(e$,{size:16}),T]},T))})}),y.jsx("div",{className:"flex-1 overflow-auto bg-white",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-gray-800 text-white text-[11px] font-bold uppercase tracking-wider sticky top-0 z-10",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:" / "}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Code / Tag"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),(S===""||S===""||S==="")&&y.jsxs(y.Fragment,{children:[y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"RCD (.)"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:" (.)"})]}),S===""&&y.jsxs(y.Fragment,{children:[y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:" ()"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"RCD 1 (.)"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"RCD 2 (.)"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"RCD 3 (.)"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:" (.)"})]}),S===""&&y.jsxs(y.Fragment,{children:[y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:" 1 "}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:" (.)"}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"/"})]}),y.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"/"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 text-center bg-gray-900 whitespace-nowrap",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:A.length>0?A.map((T,M)=>y.jsxs("tr",{className:`hover:bg-green-50/50 transition-colors group ${f===T.log_id?"bg-amber-50":""}`,children:[y.jsxs("td",{className:"px-4 py-3 text-xs text-gray-500 whitespace-nowrap",children:[y.jsx("div",{children:T.survey_date}),y.jsx("div",{className:"text-[10px] text-gray-400",children:T.recorder})]}),y.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm font-bold text-green-700",children:T.plot_code}),y.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm font-bold",children:T.tree_number||parseInt(T.tree_code.slice(-3),10)}),y.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[y.jsx("div",{className:"font-mono text-sm font-bold text-green-800",children:T.tree_code}),y.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:T.tag_label})]}),y.jsxs("td",{className:"px-4 py-3 text-xs whitespace-nowrap",children:[y.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${T.species_group==="A"?"bg-green-600":"bg-orange-600"}`}),T.species_name]}),y.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm",children:T.row_main||"-"}),y.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm",children:T.row_sub||"-"}),y.jsx("td",{className:"px-4 py-3",children:y.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase whitespace-nowrap ${T.status==="alive"?"bg-green-100 text-green-700":T.status==="dead"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:T.status==="alive"?"":T.status==="dead"?"":""})}),(S===""||S===""||S==="")&&y.jsxs(y.Fragment,{children:[y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.dbh_cm||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.height_m||"-"})]}),S===""&&y.jsxs(y.Fragment,{children:[y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm font-bold",children:T.bamboo_culms||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs text-gray-600",children:T.dbh_1_cm||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs text-gray-600",children:T.dbh_2_cm||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-xs text-gray-600",children:T.dbh_3_cm||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.height_m||"-"})]}),S===""&&y.jsxs(y.Fragment,{children:[y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.banana_total||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.banana_1yr||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.height_m||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.yield_bunches||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm",children:T.yield_hands||"-"}),y.jsx("td",{className:"px-4 py-3 text-right font-mono text-sm text-green-700 font-bold",children:T.price_per_hand||"-"})]}),y.jsx("td",{className:"px-4 py-3 text-center",children:T.flowering==="yes"?"":y.jsx("span",{className:"text-gray-200",children:""})}),y.jsx("td",{className:"px-4 py-3 text-xs text-gray-500 truncate max-w-[150px]",title:T.note,children:T.note}),y.jsx("td",{className:"px-4 py-3 text-center",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("button",{onClick:()=>d(T),className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded transition-all",title:"",children:y.jsx(Jc,{size:14})}),y.jsx("button",{onClick:()=>p(T),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-all",title:"",children:y.jsx(Ih,{size:14})})]})})]},T.log_id||M)):y.jsx("tr",{children:y.jsx("td",{colSpan:15,className:"py-20 text-center",children:y.jsx("div",{className:"flex flex-col items-center gap-3 text-gray-400",children:e?y.jsx(Tr,{size:48,className:"animate-spin text-green-600"}):y.jsxs(y.Fragment,{children:[y.jsx(wx,{size:48,strokeWidth:1}),y.jsxs("p",{children:[" ",S]})]})})})})})]})}),y.jsx("button",{onClick:()=>{_(),m()},className:"md:hidden absolute bottom-6 right-6 w-14 h-14 bg-[#2d5a27] text-white rounded-full shadow-lg flex items-center justify-center z-30 hover:bg-green-800 transition-colors",children:y.jsx(Ch,{size:28})})]})};var Tc={exports:{}},cv={},fv,b1;function x$(){if(b1)return fv;b1=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return fv=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],a=o.message,u=(e[a]||0)+1;e[a]=u,u>=r&&(n=o,r=u)}return n},fv}var w1;function b$(){return w1||(w1=1,(function(t){var e=x$();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<r.retries;a++)o.push(this.createTimeout(a,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(a,r)),o.sort(function(u,f){return u-f}),o},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var u=i[a],f=n[u];n[u]=(function(p){var m=t.operation(r),_=Array.prototype.slice.call(arguments,1),S=_.pop();_.push(function(E){m.retry(E)||(E&&(arguments[0]=m.mainError()),S.apply(this,arguments))}),m.attempt(function(){p.apply(n,_)})}).bind(n,f),n[u].options=r}}})(cv)),cv}var dv,S1;function w$(){return S1||(S1=1,dv=b$()),dv}var T1;function S$(){if(T1)return Tc.exports;T1=1;const t=w$(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(u){super(),u instanceof Error?(this.originalError=u,{message:u}=u):(this.originalError=new Error(u),this.originalError.stack=this.stack),this.name="AbortError",this.message=u}}const r=(a,u,f)=>{const d=f.retries-(u-1);return a.attemptNumber=u,a.retriesLeft=d,a},i=a=>e.includes(a),o=(a,u)=>new Promise((f,d)=>{u={onFailedAttempt:()=>{},retries:10,...u};const p=t.operation(u);p.attempt(async m=>{try{f(await a(m))}catch(_){if(!(_ instanceof Error)){d(new TypeError(`Non-error was thrown: "${_}". You should only throw errors.`));return}if(_ instanceof n)p.stop(),d(_.originalError);else if(_ instanceof TypeError&&!i(_.message))p.stop(),d(_);else{r(_,m,u);try{await u.onFailedAttempt(_)}catch(S){d(S);return}p.retry(_)||d(p.mainError())}}})});return Tc.exports=o,Tc.exports.default=o,Tc.exports.AbortError=n,Tc.exports}var vk=S$();const T$=yt(vk);var E$={};let A$,P$;function C$(){return{geminiUrl:A$,vertexUrl:P$}}function N$(t,e,n,r){var i,o;if(!t?.baseUrl){const a=C$();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}class So{}function Ne(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];x(p,e.slice(o+1),n[d])}else for(const d of f)x(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];x(f[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function I$(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}Tx(t,i,o,0,a)}}function Tx(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),u=t;if(a in u&&Array.isArray(u[a]))for(const f of u[a])Tx(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,u=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=a[d];for(const[d,p]of Object.entries(f)){const m=[];for(const _ of n.slice(r))_==="*"?m.push(d):m.push(_);x(a,m,p)}for(const d of u)delete a[d]}}else{const a=t;o in a&&Tx(a[o],e,n,r+1,i)}}function mw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function M$(t){const e={},n=v(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function O$(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response","generateVideoResponse"]);return a!=null&&x(e,["response"],R$(a)),e}function k$(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],L$(a)),e}function R$(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>D$(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function L$(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>j$(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function D$(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],q$(n)),e}function j$(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],H$(n)),e}function $$(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function B$(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function F$(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],U$(a)),e}function U$(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function yk(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],z$(a)),e}function z$(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function q$(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],mw(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function H$(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],mw(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}var E1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(E1||(E1={}));var A1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(A1||(A1={}));var P1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(P1||(P1={}));var ga;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ga||(ga={}));var C1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(C1||(C1={}));var N1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(N1||(N1={}));var I1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(I1||(I1={}));var M1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(M1||(M1={}));var O1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(O1||(O1={}));var k1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(k1||(k1={}));var R1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(R1||(R1={}));var L1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(L1||(L1={}));var D1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(D1||(D1={}));var j1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(j1||(j1={}));var $1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($1||($1={}));var B1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(B1||(B1={}));var F1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(F1||(F1={}));var U1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(U1||(U1={}));var z1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(z1||(z1={}));var q1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(q1||(q1={}));var H1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(H1||(H1={}));var Mh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Mh||(Mh={}));var G1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(G1||(G1={}));var V1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(V1||(V1={}));var W1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(W1||(W1={}));var Ex;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ex||(Ex={}));var K1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(K1||(K1={}));var Z1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Z1||(Z1={}));var Ax;(function(t){t.COLLECTION="COLLECTION"})(Ax||(Ax={}));var Y1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Y1||(Y1={}));var J1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(J1||(J1={}));var Oh;(function(t){t.PREDICT="PREDICT",t.EMBED_CONTENT="EMBED_CONTENT"})(Oh||(Oh={}));var X1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(X1||(X1={}));var Q1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Q1||(Q1={}));var eE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(eE||(eE={}));var tE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tE||(tE={}));var nE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nE||(nE={}));var rE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rE||(rE={}));var iE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(iE||(iE={}));var oE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oE||(oE={}));var aE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(aE||(aE={}));var sE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sE||(sE={}));var lE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lE||(lE={}));var uE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(uE||(uE={}));var cE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cE||(cE={}));var fE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fE||(fE={}));var dE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(dE||(dE={}));var hE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hE||(hE={}));var pE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pE||(pE={}));var mE;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mE||(mE={}));var gE;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(gE||(gE={}));var vE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vE||(vE={}));var yE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yE||(yE={}));var _E;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_E||(_E={}));var xE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xE||(xE={}));var bE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bE||(bE={}));var wE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wE||(wE={}));var Il;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Il||(Il={}));class Px{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ec{get text(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const m=[];for(const _ of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[S,E]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;p=!0,d+=_.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const m of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,S]of Object.entries(m))_!=="inlineData"&&(S!==null||S!==void 0)&&p.push(_);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,i,o,a,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(p?.length!==0)return(d=p?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(p?.length!==0)return(d=p?.[0])===null||d===void 0?void 0:d.output}}class SE{}class TE{}class G${}class V${}class W${}class K${}class EE{}class AE{}class PE{}class Z${}class kh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kh;let i;const o=e;return n?i=k$(o):i=O$(o),Object.assign(r,i),r}}class CE{}class NE{}class IE{}class ME{}class Y${}class J${}class X${}class gw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gw,o=F$(e);return Object.assign(r,o),r}}class Q${}class eB{}class tB{}class nB{}class OE{}class rB{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class iB{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class vw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vw,o=yk(e);return Object.assign(r,o),r}}function gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _k(t,e){const n=gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function xk(t){return Array.isArray(t)?t.map(e=>Rh(e)):[Rh(t)]}function Rh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bk(t){const e=Rh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wk(t){const e=Rh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Sk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kE(e)):[kE(t)]}function Cx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function RE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function LE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function bn(t){if(t==null)throw new Error("ContentUnion is required");return Cx(t)?t:{role:"user",parts:Sk(t)}}function yw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=bn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=bn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>bn(n)):[bn(e)]}function Sr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(RE(t)||LE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bn(t)]}const e=[],n=[],r=Cx(t[0]);for(const i of t){const o=Cx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(RE(i)||LE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Sk(n)}),e}function oB(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ga).includes(n[0].toUpperCase())?n[0].toUpperCase():ga.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ga).includes(r.toUpperCase())?r.toUpperCase():ga.TYPE_UNSPECIFIED})}}function jl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&oB(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ga).includes(u.toUpperCase())?u.toUpperCase():ga.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=jl(u);else if(r.includes(a)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(jl(d))}e[a]=f}else if(i.includes(a)){const f={};for(const[d,p]of Object.entries(u))f[d]=jl(p);e[a]=f}else{if(a==="additionalProperties")continue;e[a]=u}return e}function _w(t){return jl(t)}function xw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function _u(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jl(e.response));return t}function xu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function aB(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function To(t,e){if(typeof e!="string")throw new Error("name must be a string");return aB(t,e,"cachedContents")}function Tk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Pa(t){return mw(t)}function sB(t){return t!=null&&typeof t=="object"&&"name"in t}function lB(t){return t!=null&&typeof t=="object"&&"video"in t}function uB(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ek(t){var e;let n;if(sB(t)&&(n=t.name),!(uB(t)&&(n=t.uri,n===void 0))&&!(lB(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ak(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Pk(t){for(const e of["models","tunedModels","publisherModels"])if(cB(t,e))return t[e];return[]}function cB(t,e){return t!==null&&typeof t=="object"&&e in t}function fB(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dB(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=fB(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function Ck(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hB(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Nk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const f=a.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function bu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ik(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function pB(t){return t.includes("gemini")&&t!=="gemini-embedding-001"||t.includes("maas")}function mB(t){const e={},n=v(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ZB(a))),x(e,["inlinedResponses"],o)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["inlinedEmbedContentResponses"],o)}return e}function gB(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function vB(t){const e={},n=v(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Eh(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&x(e,["state"],Ik(i));const o=v(t,["metadata","createTime"]);o!=null&&x(e,["createTime"],o);const a=v(t,["metadata","endTime"]);a!=null&&x(e,["endTime"],a);const u=v(t,["metadata","updateTime"]);u!=null&&x(e,["updateTime"],u);const f=v(t,["metadata","model"]);f!=null&&x(e,["model"],f);const d=v(t,["metadata","output"]);return d!=null&&x(e,["dest"],mB(Nk(d))),e}function Nx(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["state"]);i!=null&&x(e,["state"],Ik(i));const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["createTime"]);a!=null&&x(e,["createTime"],a);const u=v(t,["startTime"]);u!=null&&x(e,["startTime"],u);const f=v(t,["endTime"]);f!=null&&x(e,["endTime"],f);const d=v(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&x(e,["model"],p);const m=v(t,["inputConfig"]);m!=null&&x(e,["src"],yB(m));const _=v(t,["outputConfig"]);_!=null&&x(e,["dest"],gB(Nk(_)));const S=v(t,["completionStats"]);return S!=null&&x(e,["completionStats"],S),e}function yB(t){const e={},n=v(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function _B(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>KB(t,a))),x(n,["requests","requests"],o)}return n}function xB(t){const e={},n=v(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bB(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function wB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function SB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function TB(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],EB(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&x(e,["finishReason"],o);const a=v(t,["avgLogprobs"]);a!=null&&x(e,["avgLogprobs"],a);const u=v(t,["groundingMetadata"]);u!=null&&x(e,["groundingMetadata"],u);const f=v(t,["index"]);f!=null&&x(e,["index"],f);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),x(e,["safetyRatings"],_)}const m=v(t,["urlContextMetadata"]);return m!=null&&x(e,["urlContextMetadata"],m),e}function EB(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function Mk(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nF(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function AB(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function PB(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],vB(hB(i))),n}function DE(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],gt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],_B(t,Ck(t,i)));const o=v(e,["config"]);return o!=null&&AB(o,n),n}function CB(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],gt(t,r));const i=v(e,["src"]);i!=null&&x(n,["inputConfig"],xB(Ck(t,i)));const o=v(e,["config"]);return o!=null&&PB(o,n),n}function NB(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function IB(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],gt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],jB(t,i));const o=v(e,["config"]);return o!=null&&NB(o,n),n}function MB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function OB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function kB(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);return o!=null&&x(e,["error"],o),e}function RB(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);return o!=null&&x(e,["error"],o),e}function LB(t,e){const n={},r=v(e,["contents"]);if(r!=null){let o=yw(t,r);Array.isArray(o)&&(o=o.map(a=>a)),x(n,["requests[]","request","content"],o)}const i=v(e,["config"]);return i!=null&&(x(n,["_self"],DB(i,n)),I$(n,{"requests[].*":"requests[].request.*"})),n}function DB(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jB(t,e){const n={},r=v(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],LB(t,i)),n}function $B(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function BB(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FB(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&x(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UB(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Mk(bn(i)));const o=v(e,["temperature"]);o!=null&&x(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&x(r,["topP"],a);const u=v(e,["topK"]);u!=null&&x(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=v(e,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const _=v(e,["logprobs"]);_!=null&&x(r,["logprobs"],_);const S=v(e,["presencePenalty"]);S!=null&&x(r,["presencePenalty"],S);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const T=v(e,["responseMimeType"]);T!=null&&x(r,["responseMimeType"],T);const M=v(e,["responseSchema"]);M!=null&&x(r,["responseSchema"],_w(M));const N=v(e,["responseJsonSchema"]);if(N!=null&&x(r,["responseJsonSchema"],N),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let ee=R;Array.isArray(ee)&&(ee=ee.map(J=>rF(J))),x(n,["safetySettings"],ee)}const j=v(e,["tools"]);if(n!==void 0&&j!=null){let ee=xu(j);Array.isArray(ee)&&(ee=ee.map(J=>oF(_u(J)))),x(n,["tools"],ee)}const O=v(e,["toolConfig"]);if(n!==void 0&&O!=null&&x(n,["toolConfig"],iF(O)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=v(e,["cachedContent"]);n!==void 0&&k!=null&&x(n,["cachedContent"],To(t,k));const $=v(e,["responseModalities"]);$!=null&&x(r,["responseModalities"],$);const U=v(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const z=v(e,["speechConfig"]);if(z!=null&&x(r,["speechConfig"],xw(z)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=v(e,["thinkingConfig"]);Z!=null&&x(r,["thinkingConfig"],Z);const V=v(e,["imageConfig"]);V!=null&&x(r,["imageConfig"],WB(V));const q=v(e,["enableEnhancedCivicAnswers"]);if(q!=null&&x(r,["enableEnhancedCivicAnswers"],q),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function zB(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>TB(d))),x(e,["candidates"],f)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const a=v(t,["responseId"]);a!=null&&x(e,["responseId"],a);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function qB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function HB(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],bu(t,r)),n}function GB(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function VB(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function WB(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function KB(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["request","model"],gt(t,r));const i=v(e,["contents"]);if(i!=null){let u=Sr(i);Array.isArray(u)&&(u=u.map(f=>Mk(f))),x(n,["request","contents"],u)}const o=v(e,["metadata"]);o!=null&&x(n,["metadata"],o);const a=v(e,["config"]);return a!=null&&x(n,["request","generationConfig"],UB(t,a,v(n,["request"],{}))),n}function ZB(t){const e={},n=v(t,["response"]);n!=null&&x(e,["response"],zB(n));const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["error"]);return i!=null&&x(e,["error"],i),e}function YB(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function JB(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),n}function XB(t){const e={},n=v(t,["config"]);return n!=null&&YB(n,e),e}function QB(t){const e={},n=v(t,["config"]);return n!=null&&JB(n,e),e}function eF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Eh(a))),x(e,["batchJobs"],o)}return e}function tF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Nx(a))),x(e,["batchJobs"],o)}return e}function nF(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],$B(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],BB(a));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const f=v(t,["inlineData"]);f!=null&&x(e,["inlineData"],bB(f));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const m=v(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const _=v(t,["videoMetadata"]);return _!=null&&x(e,["videoMetadata"],_),e}function rF(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function iF(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],FB(r)),e}function oF(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}const a=v(t,["googleMaps"]);a!=null&&x(e,["googleMaps"],GB(a));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],VB(u));const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}var _o;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(_o||(_o={}));class Ps{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class aF extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ps(_o.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=DE(this.apiClient,e),r=n._url,i=Ne("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const p of f){const m=Object.assign({},p);if(m.systemInstruction){const _=m.systemInstruction;delete m.systemInstruction;const S=m.request;S.systemInstruction=_,m.request=S}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=CB(this.apiClient,e);return u=Ne("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Nx(p))}else{const d=DE(this.apiClient,e);return u=Ne("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Eh(p))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IB(this.apiClient,e);return o=Ne("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Eh(f))}}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=HB(this.apiClient,e);return u=Ne("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Nx(p))}else{const d=qB(this.apiClient,e);return u=Ne("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Eh(p))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const f=SB(this.apiClient,e);a=Ne("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=wB(this.apiClient,e);a=Ne("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=QB(e);return u=Ne("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=tF(p),_=new OE;return Object.assign(_,m),_})}else{const d=XB(e);return u=Ne("batches",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=eF(p),_=new OE;return Object.assign(_,m),_})}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=OB(this.apiClient,e);return u=Ne("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>RB(p))}else{const d=MB(this.apiClient,e);return u=Ne("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>kB(p))}}}function sF(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function jE(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IF(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function lF(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&x(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let p=Sr(a);Array.isArray(p)&&(p=p.map(m=>jE(m))),x(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],jE(bn(u)));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>OF(m))),x(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],MF(d)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function uF(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&x(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let m=Sr(a);Array.isArray(m)&&(m=m.map(_=>_)),x(e,["contents"],m)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],bn(u));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(_=>kF(_))),x(e,["tools"],m)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&x(e,["encryption_spec","kmsKeyName"],p),n}function cF(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],_k(t,r));const i=v(e,["config"]);return i!=null&&lF(i,n),n}function fF(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],_k(t,r));const i=v(e,["config"]);return i!=null&&uF(i,n),n}function dF(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],To(t,r)),n}function hF(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],To(t,r)),n}function pF(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function mF(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function gF(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function vF(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yF(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&x(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _F(t){const e={},n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&x(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&x(e,["response"],a);const u=v(t,["responseJsonSchema"]);if(u!=null&&x(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function xF(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],To(t,r)),n}function bF(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],To(t,r)),n}function wF(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function SF(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function TF(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function EF(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function AF(t){const e={},n=v(t,["config"]);return n!=null&&TF(n,e),e}function PF(t){const e={},n=v(t,["config"]);return n!=null&&EF(n,e),e}function CF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["cachedContents"],o)}return e}function NF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["cachedContents"],o)}return e}function IF(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],gF(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],vF(a));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const f=v(t,["inlineData"]);f!=null&&x(e,["inlineData"],sF(f));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const m=v(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const _=v(t,["videoMetadata"]);return _!=null&&x(e,["videoMetadata"],_),e}function MF(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],yF(r)),e}function OF(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}const a=v(t,["googleMaps"]);a!=null&&x(e,["googleMaps"],wF(a));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],SF(u));const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function kF(t){const e={},n=v(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&x(e,["enterpriseWebSearch"],o);const a=v(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_F(_))),x(e,["functionDeclarations"],m)}const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const f=v(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=v(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function RF(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function LF(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function DF(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],To(t,r));const i=v(e,["config"]);return i!=null&&RF(i,n),n}function jF(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],To(t,r));const i=v(e,["config"]);return i!=null&&LF(i,n),n}class $F extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ps(_o.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=fF(this.apiClient,e);return u=Ne("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=cF(this.apiClient,e);return u=Ne("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=bF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=xF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=hF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=mF(p),_=new IE;return Object.assign(_,m),_})}else{const d=dF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=pF(p),_=new IE;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=jF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=DF(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=PF(e);return u=Ne("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=NF(p),_=new ME;return Object.assign(_,m),_})}else{const d=AF(e);return u=Ne("cachedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=CF(p),_=new ME;return Object.assign(_,m),_})}}}function Lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $E(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(t){return this instanceof et?(this.v=t,this):new et(t)}function hi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(S){return function(E){return Promise.resolve(E).then(S,m)}}function u(S,E){r[S]&&(i[S]=function(A){return new Promise(function(T,M){o.push([S,A,T,M])>1||f(S,A)})},E&&(i[S]=E(i[S])))}function f(S,E){try{d(r[S](E))}catch(A){_(o[0][3],A)}}function d(S){S.value instanceof et?Promise.resolve(S.value.v).then(p,m):_(o[0][2],S)}function p(S){f("next",S)}function m(S){f("throw",S)}function _(S,E){S(E),o.shift(),o.length&&f(o[0][0],o[0][1])}}function pi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $E=="function"?$E(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,f){a=t[o](a),i(u,f,a.done,a.value)})}}function i(o,a,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},a)}}function BF(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ok(n)}function Ok(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function FF(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function BE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Ok(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class UF{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zF(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zF{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),FF(o)}async sendMessage(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const f=await i,d=(a=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,p=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let _=[];p!=null&&(_=(u=p.slice(m))!==null&&u!==void 0?u:[]);const S=d?[d]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?BE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return hi(this,arguments,function*(){var i,o,a,u,f,d;const p=[];try{for(var m=!0,_=pi(e),S;S=yield et(_.next()),i=S.done,!i;m=!0){u=S.value,m=!1;const E=u;if(BF(E)){const A=(d=(f=E.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&p.push(A)}yield yield et(E)}}catch(E){o={error:E}}finally{try{!m&&!i&&(a=_.return)&&(yield et(a.call(_)))}finally{if(o)throw o.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...BE(r)):this.history.push(e),this.history.push(...i)}}class Xc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xc.prototype)}}function qF(t){const e={},n=v(t,["file"]);return n!=null&&x(e,["file"],n),e}function HF(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function GF(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],Ek(n)),e}function VF(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function WF(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],Ek(n)),e}function KF(t){const e={},n=v(t,["uris"]);return n!=null&&x(e,["uris"],n),e}function ZF(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function YF(t){const e={},n=v(t,["config"]);return n!=null&&ZF(n,e),e}function JF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["files"],o)}return e}function XF(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["files"],i)}return e}class QF extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ps(_o.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YF(e);return o=Ne("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=JF(f),p=new Q$;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qF(e);return o=Ne("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=HF(f),p=new eB;return Object.assign(p,d),p})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WF(e);return o=Ne("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GF(e);return o=Ne("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=VF(f),p=new tB;return Object.assign(p,d),p})}}async registerFilesInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KF(e);return o=Ne("files:register",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=XF(f),p=new nB;return Object.assign(p,d),p})}}}function Ah(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function eU(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gU(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function tU(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function nU(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rU(t){const e={},n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&x(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&x(e,["response"],a);const u=v(t,["responseJsonSchema"]);if(u!=null&&x(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function iU(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&x(e,["candidateCount"],o);const a=v(t,["enableAffectiveDialog"]);a!=null&&x(e,["enableAffectiveDialog"],a);const u=v(t,["frequencyPenalty"]);u!=null&&x(e,["frequencyPenalty"],u);const f=v(t,["logprobs"]);f!=null&&x(e,["logprobs"],f);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const m=v(t,["presencePenalty"]);m!=null&&x(e,["presencePenalty"],m);const _=v(t,["responseLogprobs"]);_!=null&&x(e,["responseLogprobs"],_);const S=v(t,["responseMimeType"]);S!=null&&x(e,["responseMimeType"],S);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const T=v(t,["routingConfig"]);T!=null&&x(e,["routingConfig"],T);const M=v(t,["seed"]);M!=null&&x(e,["seed"],M);const N=v(t,["speechConfig"]);N!=null&&x(e,["speechConfig"],N);const R=v(t,["stopSequences"]);R!=null&&x(e,["stopSequences"],R);const j=v(t,["temperature"]);j!=null&&x(e,["temperature"],j);const O=v(t,["thinkingConfig"]);O!=null&&x(e,["thinkingConfig"],O);const k=v(t,["topK"]);k!=null&&x(e,["topK"],k);const $=v(t,["topP"]);if($!=null&&x(e,["topP"],$),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oU(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function aU(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function sU(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],bw(m));const _=v(t,["thinkingConfig"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","thinkingConfig"],_);const S=v(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],eU(bn(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let k=xu(A);Array.isArray(k)&&(k=k.map($=>yU(_u($)))),x(e,["setup","tools"],k)}const T=v(t,["sessionResumption"]);e!==void 0&&T!=null&&x(e,["setup","sessionResumption"],vU(T));const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&x(e,["setup","inputAudioTranscription"],M);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&x(e,["setup","realtimeInputConfig"],R);const j=v(t,["contextWindowCompression"]);e!==void 0&&j!=null&&x(e,["setup","contextWindowCompression"],j);const O=v(t,["proactivity"]);if(e!==void 0&&O!=null&&x(e,["setup","proactivity"],O),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lU(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],iU(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],bw(m));const _=v(t,["thinkingConfig"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","thinkingConfig"],_);const S=v(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],bn(E));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let $=xu(A);Array.isArray($)&&($=$.map(U=>_U(_u(U)))),x(e,["setup","tools"],$)}const T=v(t,["sessionResumption"]);e!==void 0&&T!=null&&x(e,["setup","sessionResumption"],T);const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&x(e,["setup","inputAudioTranscription"],M);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&x(e,["setup","realtimeInputConfig"],R);const j=v(t,["contextWindowCompression"]);e!==void 0&&j!=null&&x(e,["setup","contextWindowCompression"],j);const O=v(t,["proactivity"]);e!==void 0&&O!=null&&x(e,["setup","proactivity"],O);const k=v(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&x(e,["setup","explicitVadSignal"],k),n}function uU(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],gt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],sU(i,n)),n}function cU(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],gt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],lU(i,n)),n}function fU(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function dU(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function hU(t){const e={},n=v(t,["media"]);if(n!=null){let d=xk(n);Array.isArray(d)&&(d=d.map(p=>Ah(p))),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],Ah(wk(r)));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&x(e,["video"],Ah(bk(o)));const a=v(t,["text"]);a!=null&&x(e,["text"],a);const u=v(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function pU(t){const e={},n=v(t,["media"]);if(n!=null){let d=xk(n);Array.isArray(d)&&(d=d.map(p=>p)),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],wk(r));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&x(e,["video"],bk(o));const a=v(t,["text"]);a!=null&&x(e,["text"],a);const u=v(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function mU(t){const e={},n=v(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const o=v(t,["toolCallCancellation"]);o!=null&&x(e,["toolCallCancellation"],o);const a=v(t,["usageMetadata"]);a!=null&&x(e,["usageMetadata"],xU(a));const u=v(t,["goAway"]);u!=null&&x(e,["goAway"],u);const f=v(t,["sessionResumptionUpdate"]);f!=null&&x(e,["sessionResumptionUpdate"],f);const d=v(t,["voiceActivityDetectionSignal"]);d!=null&&x(e,["voiceActivityDetectionSignal"],d);const p=v(t,["voiceActivity"]);return p!=null&&x(e,["voiceActivity"],bU(p)),e}function gU(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],tU(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],nU(a));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const f=v(t,["inlineData"]);f!=null&&x(e,["inlineData"],Ah(f));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const m=v(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const _=v(t,["videoMetadata"]);return _!=null&&x(e,["videoMetadata"],_),e}function vU(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yU(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}const a=v(t,["googleMaps"]);a!=null&&x(e,["googleMaps"],oU(a));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],aU(u));const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function _U(t){const e={},n=v(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&x(e,["enterpriseWebSearch"],o);const a=v(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>rU(_))),x(e,["functionDeclarations"],m)}const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const f=v(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=v(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function xU(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&x(e,["toolUsePromptTokenCount"],o);const a=v(t,["thoughtsTokenCount"]);a!=null&&x(e,["thoughtsTokenCount"],a);const u=v(t,["totalTokenCount"]);u!=null&&x(e,["totalTokenCount"],u);const f=v(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>E)),x(e,["promptTokensDetails"],S)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>E)),x(e,["cacheTokensDetails"],S)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>E)),x(e,["responseTokensDetails"],S)}const m=v(t,["toolUsePromptTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),x(e,["toolUsePromptTokensDetails"],S)}const _=v(t,["trafficType"]);return _!=null&&x(e,["trafficType"],_),e}function bU(t){const e={},n=v(t,["type"]);return n!=null&&x(e,["voiceActivityType"],n),e}function wU(t,e){const n={},r=v(t,["data"]);if(r!=null&&x(n,["data"],r),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=v(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function SU(t,e){const n={},r=v(t,["content"]);r!=null&&x(n,["content"],r);const i=v(t,["citationMetadata"]);i!=null&&x(n,["citationMetadata"],TU(i));const o=v(t,["tokenCount"]);o!=null&&x(n,["tokenCount"],o);const a=v(t,["finishReason"]);a!=null&&x(n,["finishReason"],a);const u=v(t,["avgLogprobs"]);u!=null&&x(n,["avgLogprobs"],u);const f=v(t,["groundingMetadata"]);f!=null&&x(n,["groundingMetadata"],f);const d=v(t,["index"]);d!=null&&x(n,["index"],d);const p=v(t,["logprobsResult"]);p!=null&&x(n,["logprobsResult"],p);const m=v(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),x(n,["safetyRatings"],S)}const _=v(t,["urlContextMetadata"]);return _!=null&&x(n,["urlContextMetadata"],_),n}function TU(t,e){const n={},r=v(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["citations"],i)}return n}function EU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let a=Sr(o);Array.isArray(a)&&(a=a.map(u=>u)),x(r,["contents"],a)}return r}function AU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(n,["tokensInfo"],o)}return n}function PU(t,e){const n={},r=v(t,["values"]);r!=null&&x(n,["values"],r);const i=v(t,["statistics"]);return i!=null&&x(n,["statistics"],CU(i)),n}function CU(t,e){const n={},r=v(t,["truncated"]);r!=null&&x(n,["truncated"],r);const i=v(t,["token_count"]);return i!=null&&x(n,["tokenCount"],i),n}function Lf(t,e){const n={},r=v(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>j3(a))),x(n,["parts"],o)}const i=v(t,["role"]);return i!=null&&x(n,["role"],i),n}function NU(t,e){const n={},r=v(t,["controlType"]);r!=null&&x(n,["controlType"],r);const i=v(t,["enableControlImageComputation"]);return i!=null&&x(n,["computeControl"],i),n}function IU(t,e){const n={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function MU(t,e,n){const r={},i=v(t,["systemInstruction"]);e!==void 0&&i!=null&&x(e,["systemInstruction"],bn(i));const o=v(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Dk(f))),x(e,["tools"],u)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],w3(a)),r}function OU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let u=Sr(o);Array.isArray(u)&&(u=u.map(f=>Lf(f))),x(r,["contents"],u)}const a=v(e,["config"]);return a!=null&&IU(a),r}function kU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let u=Sr(o);Array.isArray(u)&&(u=u.map(f=>f)),x(r,["contents"],u)}const a=v(e,["config"]);return a!=null&&MU(a,r),r}function RU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);i!=null&&x(n,["totalTokens"],i);const o=v(t,["cachedContentTokenCount"]);return o!=null&&x(n,["cachedContentTokenCount"],o),n}function LU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);return i!=null&&x(n,["totalTokens"],i),n}function DU(t,e,n){const r={},i=v(e,["model"]);return i!=null&&x(r,["_url","name"],gt(t,i)),r}function jU(t,e,n){const r={},i=v(e,["model"]);return i!=null&&x(r,["_url","name"],gt(t,i)),r}function $U(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function BU(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function FU(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const o=v(t,["negativePrompt"]);e!==void 0&&o!=null&&x(e,["parameters","negativePrompt"],o);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const f=v(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const p=v(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&x(e,["parameters","safetySetting"],p);const m=v(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const _=v(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&x(e,["parameters","includeSafetyAttributes"],_);const S=v(t,["includeRaiReason"]);e!==void 0&&S!=null&&x(e,["parameters","includeRaiReason"],S);const E=v(t,["language"]);e!==void 0&&E!=null&&x(e,["parameters","language"],E);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const T=v(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","compressionQuality"],T);const M=v(t,["addWatermark"]);e!==void 0&&M!=null&&x(e,["parameters","addWatermark"],M);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const R=v(t,["editMode"]);e!==void 0&&R!=null&&x(e,["parameters","editMode"],R);const j=v(t,["baseSteps"]);return e!==void 0&&j!=null&&x(e,["parameters","editConfig","baseSteps"],j),r}function UU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const a=v(e,["referenceImages"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>q3(d))),x(r,["instances[0]","referenceImages"],f)}const u=v(e,["config"]);return u!=null&&FU(u,r),r}function zU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gp(a))),x(n,["generatedImages"],o)}return n}function qU(t,e,n){const r={},i=v(t,["taskType"]);e!==void 0&&i!=null&&x(e,["requests[]","taskType"],i);const o=v(t,["title"]);e!==void 0&&o!=null&&x(e,["requests[]","title"],o);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function HU(t,e,n){const r={};let i=v(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const d=v(t,["taskType"]);e!==void 0&&d!=null&&x(e,["instances[]","task_type"],d)}else if(i==="EMBED_CONTENT"){const d=v(t,["taskType"]);e!==void 0&&d!=null&&x(e,["taskType"],d)}let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const d=v(t,["title"]);e!==void 0&&d!=null&&x(e,["instances[]","title"],d)}else if(o==="EMBED_CONTENT"){const d=v(t,["title"]);e!==void 0&&d!=null&&x(e,["title"],d)}let a=v(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const d=v(t,["outputDimensionality"]);e!==void 0&&d!=null&&x(e,["parameters","outputDimensionality"],d)}else if(a==="EMBED_CONTENT"){const d=v(t,["outputDimensionality"]);e!==void 0&&d!=null&&x(e,["outputDimensionality"],d)}let u=v(n,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const d=v(t,["mimeType"]);e!==void 0&&d!=null&&x(e,["instances[]","mimeType"],d)}let f=v(n,["embeddingApiType"]);if(f===void 0&&(f="PREDICT"),f==="PREDICT"){const d=v(t,["autoTruncate"]);e!==void 0&&d!=null&&x(e,["parameters","autoTruncate"],d)}else if(f==="EMBED_CONTENT"){const d=v(t,["autoTruncate"]);e!==void 0&&d!=null&&x(e,["autoTruncate"],d)}return r}function GU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let d=yw(t,o);Array.isArray(d)&&(d=d.map(p=>p)),x(r,["requests[]","content"],d)}const a=v(e,["content"]);a!=null&&Lf(bn(a));const u=v(e,["config"]);u!=null&&qU(u,r);const f=v(e,["model"]);return f!==void 0&&x(r,["requests[]","model"],gt(t,f)),r}function VU(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const f=v(e,["contents"]);if(f!=null){let d=yw(t,f);Array.isArray(d)&&(d=d.map(p=>p)),x(r,["instances[]","content"],d)}}let a=v(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="EMBED_CONTENT"){const f=v(e,["content"]);f!=null&&x(r,["content"],bn(f))}const u=v(e,["config"]);return u!=null&&HU(u,r,n),r}function WU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),x(n,["embeddings"],a)}const o=v(t,["metadata"]);return o!=null&&x(n,["metadata"],o),n}function KU(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>PU(u))),x(n,["embeddings"],a)}const o=v(t,["metadata"]);if(o!=null&&x(n,["metadata"],o),e&&v(e,["embeddingApiType"])==="EMBED_CONTENT"){const a=v(t,["embedding"]),u=v(t,["usageMetadata"]),f=v(t,["truncated"]);if(a){const d={};u&&u.promptTokenCount&&(d.tokenCount=u.promptTokenCount),f&&(d.truncated=f),a.statistics=d,x(n,["embeddings"],[a])}}return n}function ZU(t,e){const n={},r=v(t,["endpoint"]);r!=null&&x(n,["name"],r);const i=v(t,["deployedModelId"]);return i!=null&&x(n,["deployedModelId"],i),n}function YU(t,e){const n={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["fileUri"]);r!=null&&x(n,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function JU(t,e){const n={},r=v(t,["id"]);r!=null&&x(n,["id"],r);const i=v(t,["args"]);i!=null&&x(n,["args"],i);const o=v(t,["name"]);if(o!=null&&x(n,["name"],o),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function XU(t,e){const n={},r=v(t,["allowedFunctionNames"]);r!=null&&x(n,["allowedFunctionNames"],r);const i=v(t,["mode"]);if(i!=null&&x(n,["mode"],i),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function QU(t,e){const n={},r=v(t,["description"]);r!=null&&x(n,["description"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["parameters"]);o!=null&&x(n,["parameters"],o);const a=v(t,["parametersJsonSchema"]);a!=null&&x(n,["parametersJsonSchema"],a);const u=v(t,["response"]);u!=null&&x(n,["response"],u);const f=v(t,["responseJsonSchema"]);if(f!=null&&x(n,["responseJsonSchema"],f),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function e3(t,e,n,r){const i={},o=v(e,["systemInstruction"]);n!==void 0&&o!=null&&x(n,["systemInstruction"],Lf(bn(o)));const a=v(e,["temperature"]);a!=null&&x(i,["temperature"],a);const u=v(e,["topP"]);u!=null&&x(i,["topP"],u);const f=v(e,["topK"]);f!=null&&x(i,["topK"],f);const d=v(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const p=v(e,["maxOutputTokens"]);p!=null&&x(i,["maxOutputTokens"],p);const m=v(e,["stopSequences"]);m!=null&&x(i,["stopSequences"],m);const _=v(e,["responseLogprobs"]);_!=null&&x(i,["responseLogprobs"],_);const S=v(e,["logprobs"]);S!=null&&x(i,["logprobs"],S);const E=v(e,["presencePenalty"]);E!=null&&x(i,["presencePenalty"],E);const A=v(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const T=v(e,["seed"]);T!=null&&x(i,["seed"],T);const M=v(e,["responseMimeType"]);M!=null&&x(i,["responseMimeType"],M);const N=v(e,["responseSchema"]);N!=null&&x(i,["responseSchema"],_w(N));const R=v(e,["responseJsonSchema"]);if(R!=null&&x(i,["responseJsonSchema"],R),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=v(e,["safetySettings"]);if(n!==void 0&&j!=null){let J=j;Array.isArray(J)&&(J=J.map(oe=>H3(oe))),x(n,["safetySettings"],J)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let J=xu(O);Array.isArray(J)&&(J=J.map(oe=>J3(_u(oe)))),x(n,["tools"],J)}const k=v(e,["toolConfig"]);if(n!==void 0&&k!=null&&x(n,["toolConfig"],Y3(k)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=v(e,["cachedContent"]);n!==void 0&&$!=null&&x(n,["cachedContent"],To(t,$));const U=v(e,["responseModalities"]);U!=null&&x(i,["responseModalities"],U);const z=v(e,["mediaResolution"]);z!=null&&x(i,["mediaResolution"],z);const Z=v(e,["speechConfig"]);if(Z!=null&&x(i,["speechConfig"],xw(Z)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=v(e,["thinkingConfig"]);V!=null&&x(i,["thinkingConfig"],V);const q=v(e,["imageConfig"]);q!=null&&x(i,["imageConfig"],P3(q));const ee=v(e,["enableEnhancedCivicAnswers"]);if(ee!=null&&x(i,["enableEnhancedCivicAnswers"],ee),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function t3(t,e,n,r){const i={},o=v(e,["systemInstruction"]);n!==void 0&&o!=null&&x(n,["systemInstruction"],bn(o));const a=v(e,["temperature"]);a!=null&&x(i,["temperature"],a);const u=v(e,["topP"]);u!=null&&x(i,["topP"],u);const f=v(e,["topK"]);f!=null&&x(i,["topK"],f);const d=v(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const p=v(e,["maxOutputTokens"]);p!=null&&x(i,["maxOutputTokens"],p);const m=v(e,["stopSequences"]);m!=null&&x(i,["stopSequences"],m);const _=v(e,["responseLogprobs"]);_!=null&&x(i,["responseLogprobs"],_);const S=v(e,["logprobs"]);S!=null&&x(i,["logprobs"],S);const E=v(e,["presencePenalty"]);E!=null&&x(i,["presencePenalty"],E);const A=v(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const T=v(e,["seed"]);T!=null&&x(i,["seed"],T);const M=v(e,["responseMimeType"]);M!=null&&x(i,["responseMimeType"],M);const N=v(e,["responseSchema"]);N!=null&&x(i,["responseSchema"],_w(N));const R=v(e,["responseJsonSchema"]);R!=null&&x(i,["responseJsonSchema"],R);const j=v(e,["routingConfig"]);j!=null&&x(i,["routingConfig"],j);const O=v(e,["modelSelectionConfig"]);O!=null&&x(i,["modelConfig"],O);const k=v(e,["safetySettings"]);if(n!==void 0&&k!=null){let X=k;Array.isArray(X)&&(X=X.map(he=>he)),x(n,["safetySettings"],X)}const $=v(e,["tools"]);if(n!==void 0&&$!=null){let X=xu($);Array.isArray(X)&&(X=X.map(he=>Dk(_u(he)))),x(n,["tools"],X)}const U=v(e,["toolConfig"]);n!==void 0&&U!=null&&x(n,["toolConfig"],U);const z=v(e,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const Z=v(e,["cachedContent"]);n!==void 0&&Z!=null&&x(n,["cachedContent"],To(t,Z));const V=v(e,["responseModalities"]);V!=null&&x(i,["responseModalities"],V);const q=v(e,["mediaResolution"]);q!=null&&x(i,["mediaResolution"],q);const ee=v(e,["speechConfig"]);ee!=null&&x(i,["speechConfig"],xw(ee));const J=v(e,["audioTimestamp"]);J!=null&&x(i,["audioTimestamp"],J);const oe=v(e,["thinkingConfig"]);oe!=null&&x(i,["thinkingConfig"],oe);const ae=v(e,["imageConfig"]);if(ae!=null&&x(i,["imageConfig"],C3(ae)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const de=v(e,["modelArmorConfig"]);return n!==void 0&&de!=null&&x(n,["modelArmorConfig"],de),i}function FE(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let u=Sr(o);Array.isArray(u)&&(u=u.map(f=>Lf(f))),x(r,["contents"],u)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],e3(t,a,r)),r}function UE(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["contents"]);if(o!=null){let u=Sr(o);Array.isArray(u)&&(u=u.map(f=>f)),x(r,["contents"],u)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],t3(t,a,r)),r}function zE(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>SU(p))),x(n,["candidates"],d)}const o=v(t,["modelVersion"]);o!=null&&x(n,["modelVersion"],o);const a=v(t,["promptFeedback"]);a!=null&&x(n,["promptFeedback"],a);const u=v(t,["responseId"]);u!=null&&x(n,["responseId"],u);const f=v(t,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function qE(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(m=>m)),x(n,["candidates"],p)}const o=v(t,["createTime"]);o!=null&&x(n,["createTime"],o);const a=v(t,["modelVersion"]);a!=null&&x(n,["modelVersion"],a);const u=v(t,["promptFeedback"]);u!=null&&x(n,["promptFeedback"],u);const f=v(t,["responseId"]);f!=null&&x(n,["responseId"],f);const d=v(t,["usageMetadata"]);return d!=null&&x(n,["usageMetadata"],d),n}function n3(t,e,n){const r={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&x(e,["parameters","safetySetting"],u);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&x(e,["parameters","includeSafetyAttributes"],d);const p=v(t,["includeRaiReason"]);e!==void 0&&p!=null&&x(e,["parameters","includeRaiReason"],p);const m=v(t,["language"]);e!==void 0&&m!=null&&x(e,["parameters","language"],m);const _=v(t,["outputMimeType"]);e!==void 0&&_!=null&&x(e,["parameters","outputOptions","mimeType"],_);const S=v(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=v(t,["imageSize"]);if(e!==void 0&&E!=null&&x(e,["parameters","sampleImageSize"],E),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function r3(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const o=v(t,["negativePrompt"]);e!==void 0&&o!=null&&x(e,["parameters","negativePrompt"],o);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const f=v(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const p=v(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&x(e,["parameters","safetySetting"],p);const m=v(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const _=v(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&x(e,["parameters","includeSafetyAttributes"],_);const S=v(t,["includeRaiReason"]);e!==void 0&&S!=null&&x(e,["parameters","includeRaiReason"],S);const E=v(t,["language"]);e!==void 0&&E!=null&&x(e,["parameters","language"],E);const A=v(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const T=v(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","compressionQuality"],T);const M=v(t,["addWatermark"]);e!==void 0&&M!=null&&x(e,["parameters","addWatermark"],M);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const R=v(t,["imageSize"]);e!==void 0&&R!=null&&x(e,["parameters","sampleImageSize"],R);const j=v(t,["enhancePrompt"]);return e!==void 0&&j!=null&&x(e,["parameters","enhancePrompt"],j),r}function i3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const a=v(e,["config"]);return a!=null&&n3(a,r),r}function o3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const a=v(e,["config"]);return a!=null&&r3(a,r),r}function a3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>y3(u))),x(n,["generatedImages"],a)}const o=v(t,["positivePromptSafetyAttributes"]);return o!=null&&x(n,["positivePromptSafetyAttributes"],Rk(o)),n}function s3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Gp(u))),x(n,["generatedImages"],a)}const o=v(t,["positivePromptSafetyAttributes"]);return o!=null&&x(n,["positivePromptSafetyAttributes"],Lk(o)),n}function l3(t,e,n){const r={},i=v(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=v(t,["durationSeconds"]);if(e!==void 0&&o!=null&&x(e,["parameters","durationSeconds"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const u=v(t,["resolution"]);e!==void 0&&u!=null&&x(e,["parameters","resolution"],u);const f=v(t,["personGeneration"]);if(e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=v(t,["negativePrompt"]);e!==void 0&&d!=null&&x(e,["parameters","negativePrompt"],d);const p=v(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&x(e,["parameters","enhancePrompt"],p),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=v(t,["lastFrame"]);e!==void 0&&m!=null&&x(e,["instances[0]","lastFrame"],Vp(m));const _=v(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>cz(E))),x(e,["instances[0]","referenceImages"],S)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function u3(t,e,n){const r={},i=v(t,["numberOfVideos"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const o=v(t,["outputGcsUri"]);e!==void 0&&o!=null&&x(e,["parameters","storageUri"],o);const a=v(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const u=v(t,["durationSeconds"]);e!==void 0&&u!=null&&x(e,["parameters","durationSeconds"],u);const f=v(t,["seed"]);e!==void 0&&f!=null&&x(e,["parameters","seed"],f);const d=v(t,["aspectRatio"]);e!==void 0&&d!=null&&x(e,["parameters","aspectRatio"],d);const p=v(t,["resolution"]);e!==void 0&&p!=null&&x(e,["parameters","resolution"],p);const m=v(t,["personGeneration"]);e!==void 0&&m!=null&&x(e,["parameters","personGeneration"],m);const _=v(t,["pubsubTopic"]);e!==void 0&&_!=null&&x(e,["parameters","pubsubTopic"],_);const S=v(t,["negativePrompt"]);e!==void 0&&S!=null&&x(e,["parameters","negativePrompt"],S);const E=v(t,["enhancePrompt"]);e!==void 0&&E!=null&&x(e,["parameters","enhancePrompt"],E);const A=v(t,["generateAudio"]);e!==void 0&&A!=null&&x(e,["parameters","generateAudio"],A);const T=v(t,["lastFrame"]);e!==void 0&&T!=null&&x(e,["instances[0]","lastFrame"],vi(T));const M=v(t,["referenceImages"]);if(e!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(O=>fz(O))),x(e,["instances[0]","referenceImages"],j)}const N=v(t,["mask"]);e!==void 0&&N!=null&&x(e,["instances[0]","mask"],uz(N));const R=v(t,["compressionQuality"]);return e!==void 0&&R!=null&&x(e,["parameters","compressionQuality"],R),r}function c3(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["name"],r);const i=v(t,["metadata"]);i!=null&&x(n,["metadata"],i);const o=v(t,["done"]);o!=null&&x(n,["done"],o);const a=v(t,["error"]);a!=null&&x(n,["error"],a);const u=v(t,["response","generateVideoResponse"]);return u!=null&&x(n,["response"],p3(u)),n}function f3(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["name"],r);const i=v(t,["metadata"]);i!=null&&x(n,["metadata"],i);const o=v(t,["done"]);o!=null&&x(n,["done"],o);const a=v(t,["error"]);a!=null&&x(n,["error"],a);const u=v(t,["response"]);return u!=null&&x(n,["response"],m3(u)),n}function d3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],Vp(a));const u=v(e,["video"]);u!=null&&x(r,["instances[0]","video"],jk(u));const f=v(e,["source"]);f!=null&&g3(f,r);const d=v(e,["config"]);return d!=null&&l3(d,r),r}function h3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],vi(a));const u=v(e,["video"]);u!=null&&x(r,["instances[0]","video"],$k(u));const f=v(e,["source"]);f!=null&&v3(f,r);const d=v(e,["config"]);return d!=null&&u3(d,r),r}function p3(t,e){const n={},r=v(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>x3(u))),x(n,["generatedVideos"],a)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const o=v(t,["raiMediaFilteredReasons"]);return o!=null&&x(n,["raiMediaFilteredReasons"],o),n}function m3(t,e){const n={},r=v(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>b3(u))),x(n,["generatedVideos"],a)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const o=v(t,["raiMediaFilteredReasons"]);return o!=null&&x(n,["raiMediaFilteredReasons"],o),n}function g3(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&x(e,["instances[0]","image"],Vp(o));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],jk(a)),r}function v3(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&x(e,["instances[0]","image"],vi(o));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],$k(a)),r}function y3(t,e){const n={},r=v(t,["_self"]);r!=null&&x(n,["image"],N3(r));const i=v(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const o=v(t,["_self"]);return o!=null&&x(n,["safetyAttributes"],Rk(o)),n}function Gp(t,e){const n={},r=v(t,["_self"]);r!=null&&x(n,["image"],kk(r));const i=v(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const o=v(t,["_self"]);o!=null&&x(n,["safetyAttributes"],Lk(o));const a=v(t,["prompt"]);return a!=null&&x(n,["enhancedPrompt"],a),n}function _3(t,e){const n={},r=v(t,["_self"]);r!=null&&x(n,["mask"],kk(r));const i=v(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(n,["labels"],o)}return n}function x3(t,e){const n={},r=v(t,["video"]);return r!=null&&x(n,["video"],sz(r)),n}function b3(t,e){const n={},r=v(t,["_self"]);return r!=null&&x(n,["video"],lz(r)),n}function w3(t,e){const n={},r=v(t,["modelSelectionConfig"]);r!=null&&x(n,["modelConfig"],r);const i=v(t,["responseJsonSchema"]);i!=null&&x(n,["responseJsonSchema"],i);const o=v(t,["audioTimestamp"]);o!=null&&x(n,["audioTimestamp"],o);const a=v(t,["candidateCount"]);a!=null&&x(n,["candidateCount"],a);const u=v(t,["enableAffectiveDialog"]);u!=null&&x(n,["enableAffectiveDialog"],u);const f=v(t,["frequencyPenalty"]);f!=null&&x(n,["frequencyPenalty"],f);const d=v(t,["logprobs"]);d!=null&&x(n,["logprobs"],d);const p=v(t,["maxOutputTokens"]);p!=null&&x(n,["maxOutputTokens"],p);const m=v(t,["mediaResolution"]);m!=null&&x(n,["mediaResolution"],m);const _=v(t,["presencePenalty"]);_!=null&&x(n,["presencePenalty"],_);const S=v(t,["responseLogprobs"]);S!=null&&x(n,["responseLogprobs"],S);const E=v(t,["responseMimeType"]);E!=null&&x(n,["responseMimeType"],E);const A=v(t,["responseModalities"]);A!=null&&x(n,["responseModalities"],A);const T=v(t,["responseSchema"]);T!=null&&x(n,["responseSchema"],T);const M=v(t,["routingConfig"]);M!=null&&x(n,["routingConfig"],M);const N=v(t,["seed"]);N!=null&&x(n,["seed"],N);const R=v(t,["speechConfig"]);R!=null&&x(n,["speechConfig"],R);const j=v(t,["stopSequences"]);j!=null&&x(n,["stopSequences"],j);const O=v(t,["temperature"]);O!=null&&x(n,["temperature"],O);const k=v(t,["thinkingConfig"]);k!=null&&x(n,["thinkingConfig"],k);const $=v(t,["topK"]);$!=null&&x(n,["topK"],$);const U=v(t,["topP"]);if(U!=null&&x(n,["topP"],U),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function S3(t,e,n){const r={},i=v(e,["model"]);return i!=null&&x(r,["_url","name"],gt(t,i)),r}function T3(t,e,n){const r={},i=v(e,["model"]);return i!=null&&x(r,["_url","name"],gt(t,i)),r}function E3(t,e){const n={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=v(t,["enableWidget"]);return r!=null&&x(n,["enableWidget"],r),n}function A3(t,e){const n={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(t,["timeRangeFilter"]);return r!=null&&x(n,["timeRangeFilter"],r),n}function P3(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=v(t,["imageSize"]);if(i!=null&&x(n,["imageSize"],i),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function C3(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=v(t,["imageSize"]);i!=null&&x(n,["imageSize"],i);const o=v(t,["personGeneration"]);o!=null&&x(n,["personGeneration"],o);const a=v(t,["outputMimeType"]);a!=null&&x(n,["imageOutputOptions","mimeType"],a);const u=v(t,["outputCompressionQuality"]);return u!=null&&x(n,["imageOutputOptions","compressionQuality"],u),n}function N3(t,e){const n={},r=v(t,["bytesBase64Encoded"]);r!=null&&x(n,["imageBytes"],Pa(r));const i=v(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function kk(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&x(n,["imageBytes"],Pa(i));const o=v(t,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function Vp(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=v(t,["imageBytes"]);r!=null&&x(n,["bytesBase64Encoded"],Pa(r));const i=v(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function vi(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=v(t,["imageBytes"]);i!=null&&x(n,["bytesBase64Encoded"],Pa(i));const o=v(t,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function I3(t,e,n,r){const i={},o=v(e,["pageSize"]);n!==void 0&&o!=null&&x(n,["_query","pageSize"],o);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const u=v(e,["filter"]);n!==void 0&&u!=null&&x(n,["_query","filter"],u);const f=v(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],Ak(t,f)),i}function M3(t,e,n,r){const i={},o=v(e,["pageSize"]);n!==void 0&&o!=null&&x(n,["_query","pageSize"],o);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const u=v(e,["filter"]);n!==void 0&&u!=null&&x(n,["_query","filter"],u);const f=v(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],Ak(t,f)),i}function O3(t,e,n){const r={},i=v(e,["config"]);return i!=null&&I3(t,i,r),r}function k3(t,e,n){const r={},i=v(e,["config"]);return i!=null&&M3(t,i,r),r}function R3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["_self"]);if(o!=null){let a=Pk(o);Array.isArray(a)&&(a=a.map(u=>Ix(u))),x(n,["models"],a)}return n}function L3(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["_self"]);if(o!=null){let a=Pk(o);Array.isArray(a)&&(a=a.map(u=>Mx(u))),x(n,["models"],a)}return n}function D3(t,e){const n={},r=v(t,["maskMode"]);r!=null&&x(n,["maskMode"],r);const i=v(t,["segmentationClasses"]);i!=null&&x(n,["maskClasses"],i);const o=v(t,["maskDilation"]);return o!=null&&x(n,["dilation"],o),n}function Ix(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["name"],r);const i=v(t,["displayName"]);i!=null&&x(n,["displayName"],i);const o=v(t,["description"]);o!=null&&x(n,["description"],o);const a=v(t,["version"]);a!=null&&x(n,["version"],a);const u=v(t,["_self"]);u!=null&&x(n,["tunedModelInfo"],X3(u));const f=v(t,["inputTokenLimit"]);f!=null&&x(n,["inputTokenLimit"],f);const d=v(t,["outputTokenLimit"]);d!=null&&x(n,["outputTokenLimit"],d);const p=v(t,["supportedGenerationMethods"]);p!=null&&x(n,["supportedActions"],p);const m=v(t,["temperature"]);m!=null&&x(n,["temperature"],m);const _=v(t,["maxTemperature"]);_!=null&&x(n,["maxTemperature"],_);const S=v(t,["topP"]);S!=null&&x(n,["topP"],S);const E=v(t,["topK"]);E!=null&&x(n,["topK"],E);const A=v(t,["thinking"]);return A!=null&&x(n,["thinking"],A),n}function Mx(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["name"],r);const i=v(t,["displayName"]);i!=null&&x(n,["displayName"],i);const o=v(t,["description"]);o!=null&&x(n,["description"],o);const a=v(t,["versionId"]);a!=null&&x(n,["version"],a);const u=v(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(S=>ZU(S))),x(n,["endpoints"],_)}const f=v(t,["labels"]);f!=null&&x(n,["labels"],f);const d=v(t,["_self"]);d!=null&&x(n,["tunedModelInfo"],Q3(d));const p=v(t,["defaultCheckpointId"]);p!=null&&x(n,["defaultCheckpointId"],p);const m=v(t,["checkpoints"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),x(n,["checkpoints"],_)}return n}function j3(t,e){const n={},r=v(t,["mediaResolution"]);r!=null&&x(n,["mediaResolution"],r);const i=v(t,["codeExecutionResult"]);i!=null&&x(n,["codeExecutionResult"],i);const o=v(t,["executableCode"]);o!=null&&x(n,["executableCode"],o);const a=v(t,["fileData"]);a!=null&&x(n,["fileData"],YU(a));const u=v(t,["functionCall"]);u!=null&&x(n,["functionCall"],JU(u));const f=v(t,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const d=v(t,["inlineData"]);d!=null&&x(n,["inlineData"],wU(d));const p=v(t,["text"]);p!=null&&x(n,["text"],p);const m=v(t,["thought"]);m!=null&&x(n,["thought"],m);const _=v(t,["thoughtSignature"]);_!=null&&x(n,["thoughtSignature"],_);const S=v(t,["videoMetadata"]);return S!=null&&x(n,["videoMetadata"],S),n}function $3(t,e){const n={},r=v(t,["productImage"]);return r!=null&&x(n,["image"],vi(r)),n}function B3(t,e,n){const r={},i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const o=v(t,["baseSteps"]);e!==void 0&&o!=null&&x(e,["parameters","baseSteps"],o);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const p=v(t,["addWatermark"]);e!==void 0&&p!=null&&x(e,["parameters","addWatermark"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&x(e,["parameters","outputOptions","mimeType"],m);const _=v(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&x(e,["parameters","outputOptions","compressionQuality"],_);const S=v(t,["enhancePrompt"]);e!==void 0&&S!=null&&x(e,["parameters","enhancePrompt"],S);const E=v(t,["labels"]);return e!==void 0&&E!=null&&x(e,["labels"],E),r}function F3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["source"]);o!=null&&z3(o,r);const a=v(e,["config"]);return a!=null&&B3(a,r),r}function U3(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Gp(o))),x(n,["generatedImages"],i)}return n}function z3(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const o=v(t,["personImage"]);e!==void 0&&o!=null&&x(e,["instances[0]","personImage","image"],vi(o));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>$3(f))),x(e,["instances[0]","productImages"],u)}return r}function q3(t,e){const n={},r=v(t,["referenceImage"]);r!=null&&x(n,["referenceImage"],vi(r));const i=v(t,["referenceId"]);i!=null&&x(n,["referenceId"],i);const o=v(t,["referenceType"]);o!=null&&x(n,["referenceType"],o);const a=v(t,["maskImageConfig"]);a!=null&&x(n,["maskImageConfig"],D3(a));const u=v(t,["controlImageConfig"]);u!=null&&x(n,["controlImageConfig"],NU(u));const f=v(t,["styleImageConfig"]);f!=null&&x(n,["styleImageConfig"],f);const d=v(t,["subjectImageConfig"]);return d!=null&&x(n,["subjectImageConfig"],d),n}function Rk(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const o=v(t,["contentType"]);return o!=null&&x(n,["contentType"],o),n}function Lk(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const o=v(t,["contentType"]);return o!=null&&x(n,["contentType"],o),n}function H3(t,e){const n={},r=v(t,["category"]);if(r!=null&&x(n,["category"],r),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=v(t,["threshold"]);return i!=null&&x(n,["threshold"],i),n}function G3(t,e){const n={},r=v(t,["image"]);return r!=null&&x(n,["image"],vi(r)),n}function V3(t,e,n){const r={},i=v(t,["mode"]);e!==void 0&&i!=null&&x(e,["parameters","mode"],i);const o=v(t,["maxPredictions"]);e!==void 0&&o!=null&&x(e,["parameters","maxPredictions"],o);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const u=v(t,["maskDilation"]);e!==void 0&&u!=null&&x(e,["parameters","maskDilation"],u);const f=v(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&x(e,["parameters","binaryColorThreshold"],f);const d=v(t,["labels"]);return e!==void 0&&d!=null&&x(e,["labels"],d),r}function W3(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["source"]);o!=null&&Z3(o,r);const a=v(e,["config"]);return a!=null&&V3(a,r),r}function K3(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_3(o))),x(n,["generatedMasks"],i)}return n}function Z3(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const o=v(t,["image"]);e!==void 0&&o!=null&&x(e,["instances[0]","image"],vi(o));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],G3(a)),r}function Y3(t,e){const n={},r=v(t,["retrievalConfig"]);r!=null&&x(n,["retrievalConfig"],r);const i=v(t,["functionCallingConfig"]);return i!=null&&x(n,["functionCallingConfig"],XU(i)),n}function J3(t,e){const n={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["computerUse"]);r!=null&&x(n,["computerUse"],r);const i=v(t,["fileSearch"]);i!=null&&x(n,["fileSearch"],i);const o=v(t,["codeExecution"]);if(o!=null&&x(n,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=v(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),x(n,["functionDeclarations"],m)}const u=v(t,["googleMaps"]);u!=null&&x(n,["googleMaps"],E3(u));const f=v(t,["googleSearch"]);f!=null&&x(n,["googleSearch"],A3(f));const d=v(t,["googleSearchRetrieval"]);d!=null&&x(n,["googleSearchRetrieval"],d);const p=v(t,["urlContext"]);return p!=null&&x(n,["urlContext"],p),n}function Dk(t,e){const n={},r=v(t,["retrieval"]);r!=null&&x(n,["retrieval"],r);const i=v(t,["computerUse"]);if(i!=null&&x(n,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(n,["codeExecution"],o);const a=v(t,["enterpriseWebSearch"]);a!=null&&x(n,["enterpriseWebSearch"],a);const u=v(t,["functionDeclarations"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(S=>QU(S))),x(n,["functionDeclarations"],_)}const f=v(t,["googleMaps"]);f!=null&&x(n,["googleMaps"],f);const d=v(t,["googleSearch"]);d!=null&&x(n,["googleSearch"],d);const p=v(t,["googleSearchRetrieval"]);p!=null&&x(n,["googleSearchRetrieval"],p);const m=v(t,["urlContext"]);return m!=null&&x(n,["urlContext"],m),n}function X3(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&x(n,["createTime"],i);const o=v(t,["updateTime"]);return o!=null&&x(n,["updateTime"],o),n}function Q3(t,e){const n={},r=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&x(n,["createTime"],i);const o=v(t,["updateTime"]);return o!=null&&x(n,["updateTime"],o),n}function ez(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),r}function tz(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),r}function nz(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","name"],gt(t,i));const o=v(e,["config"]);return o!=null&&ez(o,r),r}function rz(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["config"]);return o!=null&&tz(o,r),r}function iz(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&x(e,["parameters","safetySetting"],o);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const u=v(t,["includeRaiReason"]);e!==void 0&&u!=null&&x(e,["parameters","includeRaiReason"],u);const f=v(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const d=v(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","compressionQuality"],d);const p=v(t,["enhanceInputImage"]);e!==void 0&&p!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],p);const m=v(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const _=v(t,["labels"]);e!==void 0&&_!=null&&x(e,["labels"],_);const S=v(t,["numberOfImages"]);e!==void 0&&S!=null&&x(e,["parameters","sampleCount"],S);const E=v(t,["mode"]);return e!==void 0&&E!=null&&x(e,["parameters","mode"],E),r}function oz(t,e,n){const r={},i=v(e,["model"]);i!=null&&x(r,["_url","model"],gt(t,i));const o=v(e,["image"]);o!=null&&x(r,["instances[0]","image"],vi(o));const a=v(e,["upscaleFactor"]);a!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],a);const u=v(e,["config"]);return u!=null&&iz(u,r),r}function az(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gp(a))),x(n,["generatedImages"],o)}return n}function sz(t,e){const n={},r=v(t,["uri"]);r!=null&&x(n,["uri"],r);const i=v(t,["encodedVideo"]);i!=null&&x(n,["videoBytes"],Pa(i));const o=v(t,["encoding"]);return o!=null&&x(n,["mimeType"],o),n}function lz(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["uri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&x(n,["videoBytes"],Pa(i));const o=v(t,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function uz(t,e){const n={},r=v(t,["image"]);r!=null&&x(n,["_self"],vi(r));const i=v(t,["maskMode"]);return i!=null&&x(n,["maskMode"],i),n}function cz(t,e){const n={},r=v(t,["image"]);r!=null&&x(n,["image"],Vp(r));const i=v(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function fz(t,e){const n={},r=v(t,["image"]);r!=null&&x(n,["image"],vi(r));const i=v(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function jk(t,e){const n={},r=v(t,["uri"]);r!=null&&x(n,["uri"],r);const i=v(t,["videoBytes"]);i!=null&&x(n,["encodedVideo"],Pa(i));const o=v(t,["mimeType"]);return o!=null&&x(n,["encoding"],o),n}function $k(t,e){const n={},r=v(t,["uri"]);r!=null&&x(n,["gcsUri"],r);const i=v(t,["videoBytes"]);i!=null&&x(n,["bytesBase64Encoded"],Pa(i));const o=v(t,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function dz(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function hz(t){const e={},n=v(t,["config"]);return n!=null&&dz(n,e),e}function pz(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function mz(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&pz(r,e),e}function gz(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function vz(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["customMetadata"],o)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function yz(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],xz(a)),e}function _z(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&vz(i,e),e}function xz(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function bz(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function wz(t){const e={},n=v(t,["config"]);return n!=null&&bz(n,e),e}function Sz(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["fileSearchStores"],o)}return e}function Bk(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=v(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),x(e,["customMetadata"],u)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&x(e,["chunkingConfig"],a),n}function Tz(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&Bk(r,e),e}function Ez(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}const Az="Content-Type",Pz="X-Server-Timeout",Cz="User-Agent",Ox="x-goog-api-client",Nz="1.42.0",Iz=`google-genai-sdk/${Nz}`,Mz="v1beta1",Oz="v1beta",kz=5,Rz=[408,429,500,502,503,504];class Lz{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Mz}else{if(!this.clientOptions.apiKey)throw new Xc({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Oz,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ax.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Dz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HE(i),new Px(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return hi(this,arguments,function*(){var r;const i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:p}=yield et(i.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(p,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const A=JSON.parse(JSON.stringify(E.error)),T=A.status,M=A.code,N=`got status: ${T}. ${JSON.stringify(E)}`;if(M>=400&&M<600)throw new Xc({message:N,status:M})}}catch(E){if(E.name==="ApiError")throw E}a+=m;let _=-1,S=0;for(;;){_=-1,S=0;for(const T of f){const M=a.indexOf(T);M!==-1&&(_===-1||M<_)&&(_=M,S=T.length)}if(_===-1)break;const E=a.substring(0,_);a=a.substring(_+S);const A=E.trim();if(A.startsWith(u)){const T=A.substring(u.length).trim();try{const M=new Response(T,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield et(new Px(M))}catch(M){throw new Error(`exception parsing stream chunk ${T}. ${M}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return T$(async()=>{const a=await fetch(e,n);if(a.ok)return a;throw Rz.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new vk.AbortError(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:kz)-1})}getDefaultHeaders(){const e={},n=Iz+" "+this.clientOptions.userAgentExtra;return e[Cz]=n,e[Ox]=n,e[Az]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Pz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),p=Ne("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,f,n?.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),u=String(a.size),f=(i=r?.mimeType)!==null&&i!==void 0?i:a.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&Bk(r,m);const _=await this.fetchUploadUrl(d,u,f,p,m,r?.httpOptions);return o.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var u;let f={};a?f=a:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function HE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Xc({message:i,status:n}):new Error(i)}}function Dz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const d=a[f],p=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?u[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}const jz="mcp_used/unknown";let $z=!1;function Fk(t){for(const e of t)if(Bz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return $z}function Uk(t){var e;const n=(e=t[Ox])!==null&&e!==void 0?e:"";t[Ox]=(n+` ${jz}`).trimStart()}function Bz(t){return t!==null&&typeof t=="object"&&t instanceof ww}function Fz(t){return hi(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield et(n.listTools({cursor:i}));for(const u of a.tools)yield yield et(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ww{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ww(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const p of this.mcpClients)try{for(var u=!0,f=(n=void 0,pi(Fz(p))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;a.push(m);const _=m.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=p}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),dB(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}async function Uz(t,e,n){const r=new iB;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class zz{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Gz(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const p=new Promise(R=>{d=R}),m=e.callbacks,_=function(){d({})},S=this.apiClient,E={onopen:_,onmessage:R=>{Uz(S,m.onmessage,R)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(R){}},A=this.webSocketFactory.create(f,Hz(a),E);A.connect(),await p;const N={setup:{model:gt(this.apiClient,e.model)}};return A.send(JSON.stringify(N)),new qz(A,this.apiClient)}}class qz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dU(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=fU(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Il.PLAY)}pause(){this.sendPlaybackControl(Il.PAUSE)}stop(){this.sendPlaybackControl(Il.STOP)}resetContext(){this.sendPlaybackControl(Il.RESET_CONTEXT)}close(){this.conn.close()}}function Hz(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Gz(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Vz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wz(t,e,n){const r=new rB;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=mU(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Kz{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Fk(e.config.tools)&&Uk(m);const _=Xz(m);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),Z=this.apiClient.getLocation(),V=this.apiClient.getApiKey(),q=!!z&&!!Z||!!V;this.apiClient.getCustomBaseUrl()&&!q?p=f:(p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,p))}else{const z=this.apiClient.getApiKey();let Z="BidiGenerateContent",V="key";z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",V="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Z}?${V}=${z}`}let S=()=>{};const E=new Promise(z=>{S=z}),A=e.callbacks,T=function(){var z;(z=A?.onopen)===null||z===void 0||z.call(A),S({})},M=this.apiClient,N={onopen:T,onmessage:z=>{Wz(M,A.onmessage,z)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=A?.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(p,Jz(_),N);R.connect(),await E;let j=gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const z=this.apiClient.getProject(),Z=this.apiClient.getLocation();z&&Z&&(j=`projects/${z}/locations/${Z}/`+j)}let O={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Mh.AUDIO]}:e.config.responseModalities=[Mh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],$=[];for(const z of k)if(this.isCallableTool(z)){const Z=z;$.push(await Z.tool())}else $.push(z);$.length>0&&(e.config.tools=$);const U={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=cU(this.apiClient,U):O=uU(this.apiClient,U),delete O.config,R.send(JSON.stringify(O)),new Yz(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Zz={turnComplete:!0};class Yz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sr(n.turns),e.isVertexAI()||(r=r.map(i=>Lf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Vz)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Zz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pU(e)}:n={realtimeInput:hU(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Jz(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Xz(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const GE=10;function VE(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if($l(a)){i=!0;break}if(!i)return!0;const o=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function $l(t){return"callTool"in t&&typeof t.callTool=="function"}function Qz(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>$l(i)))!==null&&r!==void 0?r:!1}function WE(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if($l(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function KE(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class e4 extends So{constructor(e){super(),this.apiClient=e,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=Sr(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:Oh.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:Oh.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,a,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Qz(n)||VE(n.config))return await this.generateContentInternal(f);const d=WE(n);if(d.length>0){const A=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let p,m;const _=Sr(f.contents),S=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:GE;let E=0;for(;E<S&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,T=[];for(const M of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if($l(M)){const R=await M.callTool(p.functionCalls);T.push(...R)}E++,m={role:"user",parts:T},f.contents=Sr(f.contents),f.contents.push(A),f.contents.push(m),KE(f.config)&&(_.push(A),_.push(m))}return KE(f.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async n=>{var r,i,o,a,u;if(this.maybeMoveToResponseJsonSchem(n),VE(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=WE(n);if(f.length>0){const m=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(u=(a=n?.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((i=f?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f?.safetyAttributes:a.push(f);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ps(_o.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async f=>$l(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&Fk(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Uk(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if($l(a)){const u=a,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:GE;let a=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,p,m){return hi(this,arguments,function*(){for(var _,S,E,A,T,M;u<o;){a&&(u++,a=!1);const O=yield et(d.processParamsMaybeAddMcpUsage(m)),k=yield et(d.generateContentStreamInternal(O)),$=[],U=[];try{for(var N=!0,R=(S=void 0,pi(k)),j;j=yield et(R.next()),_=j.done,!_;N=!0){A=j.value,N=!1;const z=A;if(yield yield et(z),z.candidates&&(!((T=z.candidates[0])===null||T===void 0)&&T.content)){U.push(z.candidates[0].content);for(const Z of(M=z.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(u<o&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(Z.functionCall.name)){const V=yield et(p.get(Z.functionCall.name).callTool([Z.functionCall]));$.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(z){S={error:z}}finally{try{!N&&!_&&(E=R.return)&&(yield et(E.call(R)))}finally{if(S)throw S.error}}if($.length>0){a=!0;const z=new Ec;z.candidates=[{content:{role:"user",parts:$}}],yield yield et(z);const Z=[];Z.push(...U),Z.push({role:"user",parts:$});const V=Sr(m.contents).concat(Z);m.contents=V}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=UE(this.apiClient,e);return u=Ne("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=qE(p),_=new Ec;return Object.assign(_,m),_})}else{const d=FE(this.apiClient,e);return u=Ne("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=zE(p),_=new Ec;return Object.assign(_,m),_})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=UE(this.apiClient,e);return u=Ne("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(m){return hi(this,arguments,function*(){var _,S,E,A;try{for(var T=!0,M=pi(m),N;N=yield et(M.next()),_=N.done,!_;T=!0){A=N.value,T=!1;const R=A,j=qE(yield et(R.json()),e);j.sdkHttpResponse={headers:R.headers};const O=new Ec;Object.assign(O,j),yield yield et(O)}}catch(R){S={error:R}}finally{try{!T&&!_&&(E=M.return)&&(yield et(E.call(M)))}finally{if(S)throw S.error}}})})}else{const d=FE(this.apiClient,e);return u=Ne("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(m){return hi(this,arguments,function*(){var _,S,E,A;try{for(var T=!0,M=pi(m),N;N=yield et(M.next()),_=N.done,!_;T=!0){A=N.value,T=!1;const R=A,j=zE(yield et(R.json()),e);j.sdkHttpResponse={headers:R.headers};const O=new Ec;Object.assign(O,j),yield yield et(O)}}catch(R){S={error:R}}finally{try{!T&&!_&&(E=M.return)&&(yield et(E.call(M)))}finally{if(S)throw S.error}}})})}}async embedContentInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=VU(this.apiClient,e,e),p=pB(e.model)?"{model}:embedContent":"{model}:predict";return u=Ne(p,d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:m.headers},S})),a.then(m=>{const _=KU(m,e),S=new SE;return Object.assign(S,_),S})}else{const d=GU(this.apiClient,e);return u=Ne("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=WU(p),_=new SE;return Object.assign(_,m),_})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=o3(this.apiClient,e);return u=Ne("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=s3(p),_=new TE;return Object.assign(_,m),_})}else{const d=i3(this.apiClient,e);return u=Ne("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=a3(p),_=new TE;return Object.assign(_,m),_})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=UU(this.apiClient,e);return o=Ne("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=zU(f),p=new G$;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=oz(this.apiClient,e);return o=Ne("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=az(f),p=new V$;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=F3(this.apiClient,e);return o=Ne("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=U3(f),p=new W$;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=W3(this.apiClient,e);return o=Ne("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=K3(f),p=new K$;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=T3(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Mx(p))}else{const d=S3(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Ix(p))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=k3(this.apiClient,e);return u=Ne("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=L3(p),_=new EE;return Object.assign(_,m),_})}else{const d=O3(this.apiClient,e);return u=Ne("{models_url}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=R3(p),_=new EE;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=rz(this.apiClient,e);return u=Ne("{model}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Mx(p))}else{const d=nz(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Ix(p))}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=jU(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=BU(p),_=new AE;return Object.assign(_,m),_})}else{const d=DU(this.apiClient,e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=$U(p),_=new AE;return Object.assign(_,m),_})}}async countTokens(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=kU(this.apiClient,e);return u=Ne("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=LU(p),_=new PE;return Object.assign(_,m),_})}else{const d=OU(this.apiClient,e);return u=Ne("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=RU(p),_=new PE;return Object.assign(_,m),_})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=EU(this.apiClient,e);return o=Ne("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=AU(f),p=new Z$;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=h3(this.apiClient,e);return u=Ne("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const m=f3(p),_=new kh;return Object.assign(_,m),_})}else{const d=d3(this.apiClient,e);return u=Ne("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=c3(p),_=new kh;return Object.assign(_,m),_})}}}class t4 extends So{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=B$(e);return u=Ne("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a}else{const d=$$(e);return u=Ne("{operationName}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=M$(e);return o=Ne("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function n4(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function r4(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>d4(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function i4(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const a=v(e,["uses"]);n!==void 0&&a!=null&&x(n,["uses"],a);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],f4(t,u));const f=v(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&x(n,["fieldMask"],f),r}function o4(t,e){const n={},r=v(e,["config"]);return r!=null&&x(n,["config"],i4(t,r,n)),n}function a4(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function s4(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l4(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function u4(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function c4(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const u=v(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],bw(m));const _=v(t,["thinkingConfig"]);e!==void 0&&_!=null&&x(e,["setup","generationConfig","thinkingConfig"],_);const S=v(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],r4(bn(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let k=xu(A);Array.isArray(k)&&(k=k.map($=>p4(_u($)))),x(e,["setup","tools"],k)}const T=v(t,["sessionResumption"]);e!==void 0&&T!=null&&x(e,["setup","sessionResumption"],h4(T));const M=v(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&x(e,["setup","inputAudioTranscription"],M);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&x(e,["setup","realtimeInputConfig"],R);const j=v(t,["contextWindowCompression"]);e!==void 0&&j!=null&&x(e,["setup","contextWindowCompression"],j);const O=v(t,["proactivity"]);if(e!==void 0&&O!=null&&x(e,["setup","proactivity"],O),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function f4(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],gt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],c4(i,n)),n}function d4(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],a4(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],s4(a));const u=v(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const f=v(t,["inlineData"]);f!=null&&x(e,["inlineData"],n4(f));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const m=v(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const _=v(t,["videoMetadata"]);return _!=null&&x(e,["videoMetadata"],_),e}function h4(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function p4(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}const a=v(t,["googleMaps"]);a!=null&&x(e,["googleMaps"],l4(a));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],u4(u));const f=v(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function m4(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function g4(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=m4(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)o?t.fieldMask=o:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class v4 extends So{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=o4(this.apiClient,e);o=Ne("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const f=g4(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function y4(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function _4(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&y4(r,e),e}function x4(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function b4(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function w4(t){const e={},n=v(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&b4(r,e),e}function S4(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["documents"],o)}return e}class T4 extends So{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ps(_o.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=x4(e);return o=Ne("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_4(e);i=Ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=w4(e);return o=Ne("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=S4(f),p=new Y$;return Object.assign(p,d),p})}}}class E4 extends So{constructor(e,n=new T4(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ps(_o.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hz(e);return o=Ne("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gz(e);return o=Ne("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mz(e);i=Ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wz(e);return o=Ne("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Sz(f),p=new J$;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tz(e);return o=Ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Ez(f),p=new X$;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_z(e);return o=Ne("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=yz(f),p=new gw;return Object.assign(p,d),p})}}}let zk=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return zk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const A4=()=>zk();function kx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Rx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Gr extends Error{}class Kn extends Gr{constructor(e,n,r,i){super(`${Kn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Wp({message:r,cause:Rx(n)});const o=n;return e===400?new Hk(e,o,r,i):e===401?new Gk(e,o,r,i):e===403?new Vk(e,o,r,i):e===404?new Wk(e,o,r,i):e===409?new Kk(e,o,r,i):e===422?new Zk(e,o,r,i):e===429?new Yk(e,o,r,i):e>=500?new Jk(e,o,r,i):new Kn(e,o,r,i)}}class Lx extends Kn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Wp extends Kn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class qk extends Wp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Hk extends Kn{}class Gk extends Kn{}class Vk extends Kn{}class Wk extends Kn{}class Kk extends Kn{}class Zk extends Kn{}class Yk extends Kn{}class Jk extends Kn{}const P4=/^[a-z][a-z0-9+.-]*:/i,C4=t=>P4.test(t);let Dx=t=>(Dx=Array.isArray,Dx(t));const N4=Dx;let I4=N4;const ZE=I4;function M4(t){if(!t)return!0;for(const e in t)return!1;return!0}function O4(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const k4=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Gr(`${t} must be an integer`);if(e<0)throw new Gr(`${t} must be a positive integer`);return e},R4=t=>{try{return JSON.parse(t)}catch{return}};const L4=t=>new Promise(e=>setTimeout(e,t));const Nl="0.0.1";function D4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const j4=()=>{var t,e,n,r,i;const o=D4();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nl,"X-Stainless-OS":JE(Deno.build.os),"X-Stainless-Arch":YE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nl,"X-Stainless-OS":JE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":YE((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=$4();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $4(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const YE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",JE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oh;const B4=()=>oh??(oh=j4());function F4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Xk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function U4(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Xk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Qk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function z4(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}const q4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const eR=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hv(t,e,n){return eR(),new File(t,e??"unknown_file",n)}function H4(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const G4=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const tR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",V4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&tR(t),W4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function K4(t,e,n){if(eR(),t=await t,V4(t))return t instanceof File?t:hv([await t.arrayBuffer()],t.name);if(W4(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hv(await jx(i),e,n)}const r=await jx(t);if(e||(e=H4(t)),!n?.type){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return hv(r,e,n)}async function jx(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(tR(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(G4(t))try{for(var u=!0,f=pi(t),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;a.push(...await jx(p))}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const p=(o=t?.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${Z4(t)}`)}return a}function Z4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class nR{constructor(e){this._client=e}}nR._key=[];function rR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XE=Object.freeze(Object.create(null)),Y4=(t=rR)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((p,m,_)=>{var S,E,A;/[?#]/.test(m)&&(i=!0);const T=r[_];let M=(i?encodeURIComponent:t)(""+T);return _!==r.length&&(T==null||typeof T=="object"&&T.toString===((A=Object.getPrototypeOf((E=Object.getPrototypeOf((S=T.hasOwnProperty)!==null&&S!==void 0?S:XE))!==null&&E!==void 0?E:XE))===null||A===void 0?void 0:A.toString))&&(M=T+"",o.push({start:p.length+m.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),p+m+(_===r.length?"":M)},""),u=a.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((p,m)=>p.start-m.start),o.length>0){let p=0;const m=o.reduce((_,S)=>{const E=" ".repeat(S.start-p),A="^".repeat(S.length);return p=S.start+S.length,_+E+A},"");throw new Gr(`Path parameters result in path with invalid segments:
${o.map(_=>_.error).join(`
`)}
${a}
${m}`)}return a}),ah=Y4(rR);class iR extends nR{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Lh(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ah`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ah`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ah`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,u=Lh(o,["api_version"]);return this._client.get(ah`/${a}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}}iR._key=Object.freeze(["interactions"]);class oR extends iR{}function J4(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let sh;function Sw(t){let e;return(sh??(e=new globalThis.TextEncoder,sh=e.encode.bind(e)))(t)}let lh;function QE(t){let e;return(lh??(e=new globalThis.TextDecoder,lh=e.decode.bind(e)))(t)}class Kp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Sw(e):e;this.buffer=J4([this.buffer,n]);const r=[];let i;for(;(i=X4(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(QE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=QE(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Kp.NEWLINE_CHARS=new Set([`
`,"\r"]);Kp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function X4(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Q4(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Dh={off:0,error:200,warn:300,info:400,debug:500},eA=(t,e,n)=>{if(t){if(O4(Dh,t))return t;qn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Dh))}`)}};function Dc(){}function uh(t,e,n){return!e||Dh[t]>Dh[n]?Dc:e[t].bind(e)}const eq={error:Dc,warn:Dc,info:Dc,debug:Dc};let tA=new WeakMap;function qn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return eq;const i=tA.get(n);if(i&&i[0]===r)return i[1];const o={error:uh("error",n,r),warn:uh("warn",n,r),info:uh("info",n,r),debug:uh("debug",n,r)};return tA.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Ml{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?qn(r):console;function a(){return hi(this,arguments,function*(){var f,d,p,m;if(i)throw new Gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var S=!0,E=pi(tq(e,n)),A;A=yield et(E.next()),f=A.done,!f;S=!0){m=A.value,S=!1;const T=m;if(!_)if(T.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield et(JSON.parse(T.data))}catch(M){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),M}}}catch(T){d={error:T}}finally{try{!S&&!f&&(p=E.return)&&(yield et(p.call(E)))}finally{if(d)throw d.error}}_=!0}catch(T){if(kx(T))return yield et(void 0);throw T}finally{_||n.abort()}})}return new Ml(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return hi(this,arguments,function*(){var f,d,p,m;const _=new Kp,S=Qk(e);try{for(var E=!0,A=pi(S),T;T=yield et(A.next()),f=T.done,!f;E=!0){m=T.value,E=!1;const M=m;for(const N of _.decode(M))yield yield et(N)}}catch(M){d={error:M}}finally{try{!E&&!f&&(p=A.return)&&(yield et(p.call(A)))}finally{if(d)throw d.error}}for(const M of _.flush())yield yield et(M)})}function a(){return hi(this,arguments,function*(){var f,d,p,m;if(i)throw new Gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var S=!0,E=pi(o()),A;A=yield et(E.next()),f=A.done,!f;S=!0){m=A.value,S=!1;const T=m;_||T&&(yield yield et(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!S&&!f&&(p=E.return)&&(yield et(p.call(E)))}finally{if(d)throw d.error}}_=!0}catch(T){if(kx(T))return yield et(void 0);throw T}finally{_||n.abort()}})}return new Ml(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Ml(()=>i(e),this.controller,this.client),new Ml(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Xk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Sw(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function tq(t,e){return hi(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gr("Attempted to iterate over a response with no body");const u=new rq,f=new Kp,d=Qk(t.body);try{for(var p=!0,m=pi(nq(d)),_;_=yield et(m.next()),r=_.done,!r;p=!0){a=_.value,p=!1;const S=a;for(const E of f.decode(S)){const A=u.decode(E);A&&(yield yield et(A))}}}catch(S){i={error:S}}finally{try{!p&&!r&&(o=m.return)&&(yield et(o.call(m)))}finally{if(i)throw i.error}}for(const S of f.flush()){const E=u.decode(S);E&&(yield yield et(E))}})}function nq(t){return hi(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var u=!0,f=pi(t),d;d=yield et(f.next()),n=d.done,!n;u=!0){o=d.value,u=!1;const p=o;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Sw(p):p;let _=new Uint8Array(a.length+m.length);_.set(a),_.set(m,a.length),a=_;let S;for(;(S=Q4(a))!==-1;)yield yield et(a.slice(0,S)),a=a.slice(S)}}catch(p){r={error:p}}finally{try{!u&&!n&&(i=f.return)&&(yield et(i.call(f)))}finally{if(r)throw r.error}}a.length>0&&(yield yield et(a))})}class rq{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=iq(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function iq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function oq(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var u;if(e.options.stream)return qn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ml.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(u=f?.split(";")[0])===null||u===void 0?void 0:u.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return qn(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}class Tw extends Promise{constructor(e,n,r=oq){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Tw(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const aR=Symbol("brand.privateNullableHeaders");function*aq(t){if(!t)return;if(aR in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ZE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ZE(r[1])?r[1]:[r[1]];let a=!1;for(const u of o)u!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,u])}}const Ac=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of aq(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),a===null?(e.delete(o),n.add(u)):(e.append(o,a),n.delete(u))}}return{[aR]:!0,values:e,nulls:n}};const pv=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=E$)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};var sR;class Zp{constructor(e){var n,r,i,o,a,u,f,{baseURL:d=pv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=pv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,_=Lh(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:p,apiVersion:m},_),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(r=S.timeout)!==null&&r!==void 0?r:Zp.DEFAULT_TIMEOUT,this.logger=(i=S.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(a=(o=eA(S.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:eA(pv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:E,this.fetchOptions=S.fetchOptions,this.maxRetries=(u=S.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=S.fetch)!==null&&f!==void 0?f:F4(),this.encoder=q4,this._options=S,this.apiKey=p,this.apiVersion=m,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ac([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ac([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ac([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Gr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Nl}`}defaultIdempotencyKey(){return`stainless-node-retry-${A4()}`}makeStatusError(e,n,r,i){return Kn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=C4(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return M4(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Tw(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const u=await e,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:d,url:p,timeout:m}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(d,{url:p,options:u});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(qn(this).debug(`[${_}] sending request`,us({retryOfRequestLogID:r,method:u.method,url:p,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new Lx;const A=new AbortController,T=await this.fetchWithTimeout(p,d,m,A).catch(Rx),M=Date.now();if(T instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Lx;const j=kx(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return qn(this).info(`[${_}] connection ${j?"timed out":"failed"} - ${R}`),qn(this).debug(`[${_}] connection ${j?"timed out":"failed"} (${R})`,us({retryOfRequestLogID:r,url:p,durationMs:M-E,message:T.message})),this.retryRequest(u,n,r??_);throw qn(this).info(`[${_}] connection ${j?"timed out":"failed"} - error; no more retries left`),qn(this).debug(`[${_}] connection ${j?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:p,durationMs:M-E,message:T.message})),j?new qk:new Wp({cause:T})}const N=`[${_}${S}] ${d.method} ${p} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${M-E}ms`;if(!T.ok){const R=await this.shouldRetry(T);if(n&&R){const z=`retrying, ${n} attempts remaining`;return await z4(T.body),qn(this).info(`${N} - ${z}`),qn(this).debug(`[${_}] response error (${z})`,us({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:M-E})),this.retryRequest(u,n,r??_,T.headers)}const j=R?"error; no more retries left":"error; not retryable";qn(this).info(`${N} - ${j}`);const O=await T.text().catch(z=>Rx(z).message),k=R4(O),$=k?void 0:O;throw qn(this).debug(`[${_}] response error (${j})`,us({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:$,durationMs:Date.now()-E})),this.makeStatusError(T.status,k,$,T.headers)}return qn(this).info(N),qn(this).debug(`[${_}] response start`,us({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:M-E})),{response:T,options:u,controller:A,requestLogID:_,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:u}=o,f=Lh(o,["signal","method"]),d=this._makeAbort(i);a&&a.addEventListener("abort",d,{once:!0});const p=setTimeout(d,r),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,_=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);u&&(_.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const u=i?.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(a=d)}const f=i?.get("retry-after");if(f&&!a){const d=parseFloat(f);Number.isNaN(d)?a=Date.parse(f)-Date.now():a=d*1e3}if(!(a&&0<=a&&a<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,d)}return await L4(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:u,path:f,query:d,defaultBaseURL:p}=a,m=this.buildURL(f,d,p);"timeout"in a&&k4("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:S}=this.buildBody({options:a}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:_,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let u=Ac([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),B4()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(u),u.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ac([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:U4(e)}:typeof e=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(e)}:this.encoder({body:e,headers:r})}}Zp.DEFAULT_TIMEOUT=6e4;class wn extends Zp{constructor(){super(...arguments),this.interactions=new oR(this)}}sR=wn;wn.GeminiNextGenAPIClient=sR;wn.GeminiNextGenAPIClientError=Gr;wn.APIError=Kn;wn.APIConnectionError=Wp;wn.APIConnectionTimeoutError=qk;wn.APIUserAbortError=Lx;wn.NotFoundError=Wk;wn.ConflictError=Kk;wn.RateLimitError=Yk;wn.BadRequestError=Hk;wn.AuthenticationError=Gk;wn.InternalServerError=Jk;wn.PermissionDeniedError=Vk;wn.UnprocessableEntityError=Zk;wn.toFile=K4;wn.Interactions=oR;function sq(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function lq(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function uq(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function cq(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function fq(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(t,["epochCount"]);e!==void 0&&o!=null&&x(e,["tuningTask","hyperparameters","epochCount"],o);const a=v(t,["learningRateMultiplier"]);if(a!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(v(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(v(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","batchSize"],u);const f=v(t,["learningRate"]);if(e!==void 0&&f!=null&&x(e,["tuningTask","hyperparameters","learningRate"],f),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(v(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(v(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(v(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(v(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(v(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function dq(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const k=v(t,["validationDataset"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec"],mv(k))}else if(i==="PREFERENCE_TUNING"){const k=v(t,["validationDataset"]);e!==void 0&&k!=null&&x(e,["preferenceOptimizationSpec"],mv(k))}else if(i==="DISTILLATION"){const k=v(t,["validationDataset"]);e!==void 0&&k!=null&&x(e,["distillationSpec"],mv(k))}const o=v(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&x(e,["tunedModelDisplayName"],o);const a=v(t,["description"]);e!==void 0&&a!=null&&x(e,["description"],a);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const k=v(t,["epochCount"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],k)}else if(u==="PREFERENCE_TUNING"){const k=v(t,["epochCount"]);e!==void 0&&k!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],k)}else if(u==="DISTILLATION"){const k=v(t,["epochCount"]);e!==void 0&&k!=null&&x(e,["distillationSpec","hyperParameters","epochCount"],k)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const k=v(t,["learningRateMultiplier"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],k)}else if(f==="PREFERENCE_TUNING"){const k=v(t,["learningRateMultiplier"]);e!==void 0&&k!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],k)}else if(f==="DISTILLATION"){const k=v(t,["learningRateMultiplier"]);e!==void 0&&k!=null&&x(e,["distillationSpec","hyperParameters","learningRateMultiplier"],k)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const k=v(t,["exportLastCheckpointOnly"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],k)}else if(d==="PREFERENCE_TUNING"){const k=v(t,["exportLastCheckpointOnly"]);e!==void 0&&k!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],k)}else if(d==="DISTILLATION"){const k=v(t,["exportLastCheckpointOnly"]);e!==void 0&&k!=null&&x(e,["distillationSpec","exportLastCheckpointOnly"],k)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const k=v(t,["adapterSize"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],k)}else if(p==="PREFERENCE_TUNING"){const k=v(t,["adapterSize"]);e!==void 0&&k!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],k)}else if(p==="DISTILLATION"){const k=v(t,["adapterSize"]);e!==void 0&&k!=null&&x(e,["distillationSpec","hyperParameters","adapterSize"],k)}let m=v(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const k=v(t,["tuningMode"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","tuningMode"],k)}const _=v(t,["customBaseModel"]);e!==void 0&&_!=null&&x(e,["customBaseModel"],_);let S=v(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const k=v(t,["batchSize"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","hyperParameters","batchSize"],k)}let E=v(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const k=v(t,["learningRate"]);e!==void 0&&k!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRate"],k)}const A=v(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const T=v(t,["beta"]);e!==void 0&&T!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],T);const M=v(t,["baseTeacherModel"]);e!==void 0&&M!=null&&x(e,["distillationSpec","baseTeacherModel"],M);const N=v(t,["tunedTeacherModelSource"]);e!==void 0&&N!=null&&x(e,["distillationSpec","tunedTeacherModelSource"],N);const R=v(t,["sftLossWeightMultiplier"]);e!==void 0&&R!=null&&x(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],R);const j=v(t,["outputUri"]);e!==void 0&&j!=null&&x(e,["outputUri"],j);const O=v(t,["encryptionSpec"]);return e!==void 0&&O!=null&&x(e,["encryptionSpec"],O),r}function hq(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&Tq(o);const a=v(t,["config"]);return a!=null&&fq(a,n),n}function pq(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&Eq(o,n,e);const a=v(t,["config"]);return a!=null&&dq(a,n,e),n}function mq(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function gq(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function vq(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&x(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),r}function yq(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&x(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),r}function _q(t,e){const n={},r=v(t,["config"]);return r!=null&&vq(r,n),n}function xq(t,e){const n={},r=v(t,["config"]);return r!=null&&yq(r,n),n}function bq(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>lR(u))),x(n,["tuningJobs"],a)}return n}function wq(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>$x(u))),x(n,["tuningJobs"],a)}return n}function Sq(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["model"],r);const i=v(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function Tq(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function Eq(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&x(e,["distillationSpec","promptDatasetUri"],a)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&x(e,["distillationSpec","promptDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function lR(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["state"]);o!=null&&x(n,["state"],Tk(o));const a=v(t,["createTime"]);a!=null&&x(n,["createTime"],a);const u=v(t,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const f=v(t,["tuningTask","completeTime"]);f!=null&&x(n,["endTime"],f);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["description"]);p!=null&&x(n,["description"],p);const m=v(t,["baseModel"]);m!=null&&x(n,["baseModel"],m);const _=v(t,["_self"]);return _!=null&&x(n,["tunedModel"],Sq(_)),n}function $x(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["state"]);o!=null&&x(n,["state"],Tk(o));const a=v(t,["createTime"]);a!=null&&x(n,["createTime"],a);const u=v(t,["startTime"]);u!=null&&x(n,["startTime"],u);const f=v(t,["endTime"]);f!=null&&x(n,["endTime"],f);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["error"]);p!=null&&x(n,["error"],p);const m=v(t,["description"]);m!=null&&x(n,["description"],m);const _=v(t,["baseModel"]);_!=null&&x(n,["baseModel"],_);const S=v(t,["tunedModel"]);S!=null&&x(n,["tunedModel"],S);const E=v(t,["preTunedModel"]);E!=null&&x(n,["preTunedModel"],E);const A=v(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const T=v(t,["preferenceOptimizationSpec"]);T!=null&&x(n,["preferenceOptimizationSpec"],T);const M=v(t,["distillationSpec"]);M!=null&&x(n,["distillationSpec"],M);const N=v(t,["tuningDataStats"]);N!=null&&x(n,["tuningDataStats"],N);const R=v(t,["encryptionSpec"]);R!=null&&x(n,["encryptionSpec"],R);const j=v(t,["partnerModelTuningSpec"]);j!=null&&x(n,["partnerModelTuningSpec"],j);const O=v(t,["customBaseModel"]);O!=null&&x(n,["customBaseModel"],O);const k=v(t,["experiment"]);k!=null&&x(n,["experiment"],k);const $=v(t,["labels"]);$!=null&&x(n,["labels"],$);const U=v(t,["outputUri"]);U!=null&&x(n,["outputUri"],U);const z=v(t,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const Z=v(t,["serviceAccount"]);Z!=null&&x(n,["serviceAccount"],Z);const V=v(t,["tunedModelDisplayName"]);V!=null&&x(n,["tunedModelDisplayName"],V);const q=v(t,["veoTuningSpec"]);return q!=null&&x(n,["veoTuningSpec"],q),n}function Aq(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["metadata"]);o!=null&&x(n,["metadata"],o);const a=v(t,["done"]);a!=null&&x(n,["done"],a);const u=v(t,["error"]);return u!=null&&x(n,["error"],u),n}function mv(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}class Pq extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ps(_o.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Ex.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=gq(e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>$x(p))}else{const d=mq(e);return u=Ne("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>lR(p))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=xq(e);return u=Ne("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=wq(p),_=new CE;return Object.assign(_,m),_})}else{const d=_q(e);return u=Ne("tunedModels",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=bq(p),_=new CE;return Object.assign(_,m),_})}}async cancel(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=lq(e);return u=Ne("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=cq(p),_=new NE;return Object.assign(_,m),_})}else{const d=sq(e);return u=Ne("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const m=uq(p),_=new NE;return Object.assign(_,m),_})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=pq(e,e);return o=Ne("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>$x(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hq(e);return o=Ne("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>Aq(f))}}}class Cq{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Nq=1024*1024*8,Iq=3,Mq=1e3,Oq=2,jh="x-goog-upload-status";async function kq(t,e,n){var r;const i=await uR(t,e,n),o=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[jh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Rq(t,e,n){var r;const i=await uR(t,e,n),o=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[jh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=yk(o),u=new vw;return Object.assign(u,a),u}async function uR(t,e,n){var r,i;let o=0,a=0,u=new Px(new Response),f="upload";for(o=t.size;a<o;){const d=Math.min(Nq,o-a),p=t.slice(a,a+d);a+d>=o&&(f+=", finalize");let m=0,_=Mq;for(;m<Iq&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[jh]));)m++,await Dq(_),_=_*Oq;if(a+=d,((i=u?.headers)===null||i===void 0?void 0:i[jh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Lq(t){return{size:t.size,type:t.type}}function Dq(t){return new Promise(e=>setTimeout(e,t))}class jq{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kq(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rq(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lq(e)}}class $q{create(e,n,r){return new Bq(e,n,r)}}class Bq{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const nA="x-goog-api-key";class Fq{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(nA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nA,this.apiKey)}}}const Uq="gl-node/";class zq{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new wn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n?.timeout,maxRetries:(e=n?.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=N$(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Fq(this.apiKey);this.apiClient=new Lz({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Uq+"web",uploader:new jq,downloader:new Cq}),this.models=new e4(this.apiClient),this.live=new Kz(this.apiClient,i,new $q),this.batches=new aF(this.apiClient),this.chats=new UF(this.models,this.apiClient),this.caches=new $F(this.apiClient),this.files=new QF(this.apiClient),this.operations=new t4(this.apiClient),this.authTokens=new v4(this.apiClient),this.tunings=new Pq(this.apiClient),this.fileSearchStores=new E4(this.apiClient)}}const qq={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Hq=({records:t,coordRecords:e,isLoading:n,onSubmit:r,onBulkSubmit:i,onEdit:o,onDelete:a,onNavigateToTree:u,onSyncToTable:f,coordPlotFilter:d,setCoordPlotFilter:p,coordTreeCode:m,setCoordTreeCode:_,coordUtmX:S,setCoordUtmX:E,coordUtmY:A,setCoordUtmY:T})=>{const[M,N]=K.useState(1),R=20,[j,O]=K.useState(!1),[k,$]=K.useState(!1),[U,z]=K.useState(!1),[Z,V]=K.useState([]),q=K.useRef(null),ee=K.useMemo(()=>{const re=new Map;return t.forEach(me=>{re.has(me.tree_code)||(!d||me.plot_code===d)&&re.set(me.tree_code,me)}),Array.from(re.values()).sort((me,ge)=>me.tree_code.localeCompare(ge.tree_code))},[t,d]),J=K.useMemo(()=>{const re=new Map;t.forEach(ge=>{re.has(ge.tree_code)||re.set(ge.tree_code,{tree_code:ge.tree_code,plot_code:ge.plot_code,utm_x:"",utm_y:"",lat:"",lng:"",hasCoord:!1})}),e.forEach(ge=>{if(re.has(ge.tree_code)){const xe=re.get(ge.tree_code);re.set(ge.tree_code,{...xe,...ge,hasCoord:!0})}else re.set(ge.tree_code,{...ge,hasCoord:!0})});let me=Array.from(re.values());return d&&(me=me.filter(ge=>ge.plot_code===d)),me.sort((ge,xe)=>ge.tree_code.localeCompare(xe.tree_code))},[t,e,d]),oe=K.useMemo(()=>{const re=(M-1)*R;return J.slice(re,re+R)},[J,M]),ae=Math.ceil(J.length/R),de=async re=>{const me=re.target.files?.[0];if(me){z(!0),q.current&&(q.current.value="");try{const ge=await new Promise((dt,Nt)=>{const Xt=new FileReader;Xt.readAsDataURL(me),Xt.onload=()=>{const Qt=Xt.result?.toString().split(",")[1];Qt?dt(Qt):Nt(new Error("Failed to read file as base64"))},Xt.onerror=Qt=>Nt(Qt)}),xe=qq?.VITE_GEMINI_API_KEY;if(!xe)throw new Error("VITE_GEMINI_API_KEY is not set in environment variables");const ze=(await new zq({apiKey:xe}).getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([`
        Analyze this image/document. It contains a table of tree coordinates.
        Extract the data into a JSON array of objects.

        Target Columns:
        - '' (Tree Code) -> map to key "tree_code"
        - ' X' (UTM X) -> map to key "utm_x"
        - ' Y' (UTM Y) -> map to key "utm_y"

        Rules:
        - Ignore rows where 'tree_code' is empty.
        - "utm_x" and "utm_y" should be strings (digits).
        - Return ONLY the JSON array. No markdown formatting.
      `,{inlineData:{mimeType:me.type,data:ge}}])).response.text();console.log("Gemini Response:",ze);let ye=ze.replace(/```json/g,"").replace(/```/g,"").trim();const at=ye.indexOf("["),Pe=ye.lastIndexOf("]");at!==-1&&Pe!==-1&&(ye=ye.substring(at,Pe+1));const _t=JSON.parse(ye).map((dt,Nt)=>({id:Date.now()+"-"+Nt,tree_code:dt.tree_code||"",utm_x:dt.utm_x||"",utm_y:dt.utm_y||"",status:"unverified"}));V(dt=>[...dt,..._t])}catch(ge){console.error("Error analyzing file:",ge),alert(": "+ge.message)}finally{z(!1)}}},X=re=>{V(me=>me.map(ge=>ge.id===re?{...ge,status:"verified"}:ge))},he=re=>{V(me=>me.map(ge=>ge.id===re?{...ge,status:"unverified"}:ge))},ie=re=>{V(me=>me.filter(ge=>ge.id!==re))},G=(re,me,ge)=>{V(xe=>xe.map($e=>$e.id===re?{...$e,[me]:ge}:$e))},ne=async()=>{const re=Z.filter(me=>me.status==="verified");if(re.length!==0&&i){await i(re.map(xe=>({treeCode:xe.tree_code,utmX:xe.utm_x,utmY:xe.utm_y})));const me=new Set(t.map(xe=>xe.tree_code)),ge=re.filter(xe=>!me.has(xe.tree_code));ge.length>0&&console.log("Found missing trees to add to growth_logs:",ge),V(xe=>xe.filter($e=>$e.status!=="verified")),$(!1)}};return k?y.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[y.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3 text-blue-800",children:[y.jsx(bx,{size:24}),y.jsx("h2",{className:"text-xl font-bold",children:" (PDF/Image)"})]}),y.jsx("button",{onClick:()=>$(!1),className:"text-blue-600 hover:text-blue-800 font-bold text-sm",children:""})]}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("input",{type:"file",ref:q,className:"hidden",accept:"application/pdf,image/*",onChange:de}),y.jsxs("button",{onClick:()=>q.current?.click(),disabled:U,className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold shadow-sm hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50",children:[U?y.jsx(Tr,{className:"animate-spin",size:20}):y.jsx(Th,{size:20}),U?"...":""]}),y.jsx("span",{className:"text-sm text-gray-500",children:" PDF "})]})]}),y.jsx("div",{className:"flex-1 overflow-auto p-6",children:Z.length>0?y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[y.jsxs("h3",{className:"font-bold text-gray-700",children:[" (",Z.length,")"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>V(re=>re.map(me=>({...me,status:"verified"}))),className:"text-xs text-green-600 font-bold hover:underline",children:""}),y.jsx("button",{onClick:()=>V([]),className:"text-xs text-red-600 font-bold hover:underline",children:""})]})]}),y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-600 text-xs uppercase font-bold",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3",children:"Tree Code"}),y.jsx("th",{className:"px-4 py-3",children:"UTM X"}),y.jsx("th",{className:"px-4 py-3",children:"UTM Y"}),y.jsx("th",{className:"px-4 py-3 text-center",children:""}),y.jsx("th",{className:"px-4 py-3 text-right",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(re=>y.jsxs("tr",{className:re.status==="verified"?"bg-green-50":"hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-2",children:y.jsx("input",{value:re.tree_code,onChange:me=>G(re.id,"tree_code",me.target.value),className:"w-full bg-transparent border-b border-transparent focus:border-blue-500 outline-none font-mono text-sm"})}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("input",{value:re.utm_x,onChange:me=>G(re.id,"utm_x",me.target.value),className:"w-full bg-transparent border-b border-transparent focus:border-blue-500 outline-none font-mono text-sm"})}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("input",{value:re.utm_y,onChange:me=>G(re.id,"utm_y",me.target.value),className:"w-full bg-transparent border-b border-transparent focus:border-blue-500 outline-none font-mono text-sm"})}),y.jsx("td",{className:"px-4 py-2 text-center",children:re.status==="verified"?y.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-xs font-bold bg-green-100 px-2 py-1 rounded-full",children:[y.jsx(xx,{size:12})," "]}):y.jsx("span",{className:"inline-flex items-center gap-1 text-yellow-600 text-xs font-bold bg-yellow-100 px-2 py-1 rounded-full",children:""})}),y.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-2",children:[re.status==="unverified"?y.jsx("button",{onClick:()=>X(re.id),className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"",children:y.jsx(xx,{size:16})}):y.jsx("button",{onClick:()=>he(re.id),className:"p-1 text-yellow-600 hover:bg-yellow-100 rounded",title:"",children:y.jsx(Hp,{size:16})}),y.jsx("button",{onClick:()=>ie(re.id),className:"p-1 text-red-400 hover:bg-red-50 rounded",title:"",children:y.jsx(Ih,{size:16})})]})]},re.id))})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 border-2 border-dashed border-gray-300 rounded-xl",children:[y.jsx(Th,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{children:""})]})}),y.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end gap-3",children:[y.jsxs("div",{className:"text-sm text-gray-500 flex items-center mr-auto",children:[": ",y.jsx("span",{className:"font-bold text-green-600 ml-1",children:Z.filter(re=>re.status==="verified").length})," / ",Z.length]}),y.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-gray-600 font-bold hover:bg-gray-100 rounded-lg",children:""}),y.jsxs("button",{onClick:ne,disabled:Z.filter(re=>re.status==="verified").length===0||n,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg shadow-sm hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:[n?y.jsx(Tr,{className:"animate-spin",size:20}):y.jsx(qp,{size:20}),""]})]})]}):y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"p-6 bg-yellow-50 border-b border-yellow-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3 text-yellow-800 cursor-pointer select-none",onClick:()=>O(!j),children:[y.jsx(pw,{size:24}),y.jsx("h2",{className:"text-xl font-bold",children:""}),j?y.jsx(Yj,{size:20}):y.jsx(Wj,{size:20})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-white border border-yellow-300 text-yellow-800 px-4 py-2 rounded-lg font-bold shadow-sm hover:bg-yellow-100 transition-colors",title:"",children:[y.jsx(bx,{size:18}),""]}),y.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 bg-white border border-yellow-300 text-yellow-800 px-4 py-2 rounded-lg font-bold shadow-sm hover:bg-yellow-100 transition-colors",children:[y.jsx(Th,{size:18}),""]})]})]}),j&&y.jsxs("div",{className:"bg-white p-5 rounded-xl border border-yellow-200 shadow-sm grid grid-cols-1 md:grid-cols-4 gap-4 items-end animate-in fade-in slide-in-from-top-2 duration-200",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-bold text-yellow-700",children:""}),y.jsxs("select",{className:"w-full bg-gray-50 border border-gray-200 rounded-md p-2 text-sm",value:d,onChange:re=>{p(re.target.value),_("")},children:[y.jsx("option",{value:"",children:"  "}),Ri.map(re=>y.jsx("option",{value:re.code,children:re.code},re.code))]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-bold text-yellow-700",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{list:"tree-options",className:"w-full bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono",value:m,onChange:re=>_(re.target.value),placeholder:" code..."}),y.jsx("datalist",{id:"tree-options",children:ee.map(re=>y.jsx("option",{value:re.tree_code,children:re.tag_label||re.species_name},re.tree_code))})]})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-bold text-yellow-700",children:" X (UTM Easting)"}),y.jsx("input",{type:"number",placeholder:"439776",className:"w-full bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono",value:S,onChange:re=>E(re.target.value)})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{className:"text-xs font-bold text-yellow-700",children:" Y (UTM Northing)"}),y.jsx("input",{type:"number",placeholder:"2041323",className:"w-full bg-gray-50 border border-gray-200 rounded-md p-2 text-sm font-mono",value:A,onChange:re=>T(re.target.value)})]}),y.jsx("button",{onClick:()=>r({treeCode:m,utmX:S,utmY:A}),disabled:n,className:"bg-yellow-600 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-yellow-700 transition-colors shadow-sm disabled:opacity-50",children:n?y.jsx(Tr,{className:"animate-spin",size:20}):""})]})]}),y.jsx("div",{className:"flex-1 overflow-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-gray-800 text-white text-[11px] font-bold uppercase tracking-wider sticky top-0 z-10",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"tree_code"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"UTM X"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"UTM Y"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Lat / Lng"}),y.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),y.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:oe.length>0?oe.map(re=>{let me=Number(re.lat),ge=Number(re.lng),xe=!1;if((isNaN(me)||me===0||re.lat==="")&&re.utm_x&&re.utm_y){const Re=_x(Number(re.utm_x),Number(re.utm_y));me=Re.lat,ge=Re.lng,xe=!0}const $e=!isNaN(me)&&!isNaN(ge)&&me!==0&&ge!==0,Fe=$e?"":"",be=$e?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700";return y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[y.jsx("td",{className:"px-4 py-3 font-mono font-bold text-yellow-800",children:y.jsx("button",{onClick:()=>u&&u(re.tree_code),className:"hover:underline hover:text-yellow-600 text-left",title:"",children:re.tree_code})}),y.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:re.utm_x||"-"}),y.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:re.utm_y||"-"}),y.jsx("td",{className:`px-4 py-3 font-mono text-xs ${xe?"text-blue-600 font-bold":"text-green-700"}`,children:$e?`${me.toFixed(6)}, ${ge.toFixed(6)}`:y.jsx("span",{className:"text-gray-400",children:"-"})}),y.jsx("td",{className:"px-4 py-3",children:y.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${be}`,children:[$e&&xe?" ":"",Fe]})}),y.jsxs("td",{className:"px-4 py-3 text-right flex items-center justify-end gap-2",children:[$e&&y.jsx("a",{href:`https://www.google.com/maps?q=${me},${ge}`,target:"_blank",rel:"noreferrer",className:"p-1.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded transition-all",title:" Google Maps",children:y.jsx(Xj,{size:16})}),y.jsx("button",{onClick:()=>o(re),className:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded transition-all",title:"",children:y.jsx(Jc,{size:16})}),$e&&y.jsx("button",{onClick:()=>a(re),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-all",title:"",children:y.jsx(Ih,{size:16})})]})]},re.tree_code)}):y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"py-20 text-center text-gray-400",children:""})})})]})}),ae>1&&y.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm text-gray-500",children:[" ",y.jsx("span",{className:"font-bold text-gray-800",children:M}),"  ",ae," (",e.length," )"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>N(re=>Math.max(1,re-1)),disabled:M===1,className:"p-2 bg-white border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:y.jsx(Kj,{size:16})}),y.jsx("button",{onClick:()=>N(re=>Math.min(ae,re+1)),disabled:M===ae,className:"p-2 bg-white border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:y.jsx(Zj,{size:16})})]})]})]})};function cR(t,e){const n=K.useRef(e);K.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}var Gq=ok();const Vq=1;function Wq(t){return Object.freeze({__version:Vq,map:t})}function fR(t,e){return Object.freeze({...t,...e})}const dR=K.createContext(null),hR=dR.Provider;function Yp(){const t=K.useContext(dR);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function pR(t){function e(n,r){const{instance:i,context:o}=t(n).current;return K.useImperativeHandle(r,()=>i),n.children==null?null:H.createElement(hR,{value:o},n.children)}return K.forwardRef(e)}function Kq(t){function e(n,r){const[i,o]=K.useState(!1),{instance:a}=t(n,o).current;K.useImperativeHandle(r,()=>a),K.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?Gq.createPortal(n.children,u):null}return K.forwardRef(e)}function Zq(t){function e(n,r){const{instance:i}=t(n).current;return K.useImperativeHandle(r,()=>i),null}return K.forwardRef(e)}function Ew(t,e){const n=K.useRef();K.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Jp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Yq(t,e){return function(r,i){const o=Yp(),a=t(Jp(r,o),o);return cR(o.map,r.attribution),Ew(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var jc={exports:{}};var Jq=jc.exports,rA;function Xq(){return rA||(rA=1,(function(t,e){(function(n,r){r(e)})(Jq,(function(n){var r="1.9.4";function i(l){var h,b,P,D;for(b=1,P=arguments.length;b<P;b++){D=arguments[b];for(h in D)l[h]=D[h]}return l}var o=Object.create||(function(){function l(){}return function(h){return l.prototype=h,new l}})();function a(l,h){var b=Array.prototype.slice;if(l.bind)return l.bind.apply(l,b.call(arguments,1));var P=b.call(arguments,2);return function(){return l.apply(h,P.length?P.concat(b.call(arguments)):arguments)}}var u=0;function f(l){return"_leaflet_id"in l||(l._leaflet_id=++u),l._leaflet_id}function d(l,h,b){var P,D,F,Y;return Y=function(){P=!1,D&&(F.apply(b,D),D=!1)},F=function(){P?D=arguments:(l.apply(b,arguments),setTimeout(Y,h),P=!0)},F}function p(l,h,b){var P=h[1],D=h[0],F=P-D;return l===P&&b?l:((l-D)%F+F)%F+D}function m(){return!1}function _(l,h){if(h===!1)return l;var b=Math.pow(10,h===void 0?6:h);return Math.round(l*b)/b}function S(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function E(l){return S(l).split(/\s+/)}function A(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var b in h)l.options[b]=h[b];return l.options}function T(l,h,b){var P=[];for(var D in l)P.push(encodeURIComponent(b?D.toUpperCase():D)+"="+encodeURIComponent(l[D]));return(!h||h.indexOf("?")===-1?"?":"&")+P.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function N(l,h){return l.replace(M,function(b,P){var D=h[P];if(D===void 0)throw new Error("No value provided for variable "+b);return typeof D=="function"&&(D=D(h)),D})}var R=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function j(l,h){for(var b=0;b<l.length;b++)if(l[b]===h)return b;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var $=0;function U(l){var h=+new Date,b=Math.max(0,16-(h-$));return $=h+b,window.setTimeout(l,b)}var z=window.requestAnimationFrame||k("RequestAnimationFrame")||U,Z=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function V(l,h,b){if(b&&z===U)l.call(h);else return z.call(window,a(l,h))}function q(l){l&&Z.call(window,l)}var ee={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:f,throttle:d,wrapNum:p,falseFn:m,formatNum:_,trim:S,splitWords:E,setOptions:A,getParamString:T,template:N,isArray:R,indexOf:j,emptyImageUrl:O,requestFn:z,cancelFn:Z,requestAnimFrame:V,cancelAnimFrame:q};function J(){}J.extend=function(l){var h=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=h.__super__=this.prototype,P=o(b);P.constructor=h,h.prototype=P;for(var D in this)Object.prototype.hasOwnProperty.call(this,D)&&D!=="prototype"&&D!=="__super__"&&(h[D]=this[D]);return l.statics&&i(h,l.statics),l.includes&&(oe(l.includes),i.apply(null,[P].concat(l.includes))),i(P,l),delete P.statics,delete P.includes,P.options&&(P.options=b.options?o(b.options):{},i(P.options,l.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,Y=P._initHooks.length;F<Y;F++)P._initHooks[F].call(this)}},h},J.include=function(l){var h=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},J.mergeOptions=function(l){return i(this.prototype.options,l),this},J.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),b=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function oe(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=R(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(l,h,b){if(typeof l=="object")for(var P in l)this._on(P,l[P],h);else{l=E(l);for(var D=0,F=l.length;D<F;D++)this._on(l[D],h,b)}return this},off:function(l,h,b){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var P in l)this._off(P,l[P],h);else{l=E(l);for(var D=arguments.length===1,F=0,Y=l.length;F<Y;F++)D?this._off(l[F]):this._off(l[F],h,b)}return this},_on:function(l,h,b,P){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,b)===!1){b===this&&(b=void 0);var D={fn:h,ctx:b};P&&(D.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(D)}},_off:function(l,h,b){var P,D,F;if(this._events&&(P=this._events[l],!!P)){if(arguments.length===1){if(this._firingCount)for(D=0,F=P.length;D<F;D++)P[D].fn=m;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Y=this._listens(l,h,b);if(Y!==!1){var se=P[Y];this._firingCount&&(se.fn=m,this._events[l]=P=P.slice()),P.splice(Y,1)}}},fire:function(l,h,b){if(!this.listens(l,b))return this;var P=i({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var D=this._events[l];if(D){this._firingCount=this._firingCount+1||1;for(var F=0,Y=D.length;F<Y;F++){var se=D[F],ce=se.fn;se.once&&this.off(l,ce,se.ctx),ce.call(se.ctx||this,P)}this._firingCount--}}return b&&this._propagateEvent(P),this},listens:function(l,h,b,P){typeof l!="string"&&console.warn('"string" type argument expected');var D=h;typeof h!="function"&&(P=!!h,D=void 0,b=void 0);var F=this._events&&this._events[l];if(F&&F.length&&this._listens(l,D,b)!==!1)return!0;if(P){for(var Y in this._eventParents)if(this._eventParents[Y].listens(l,h,b,P))return!0}return!1},_listens:function(l,h,b){if(!this._events)return!1;var P=this._events[l]||[];if(!h)return!!P.length;b===this&&(b=void 0);for(var D=0,F=P.length;D<F;D++)if(P[D].fn===h&&P[D].ctx===b)return D;return!1},once:function(l,h,b){if(typeof l=="object")for(var P in l)this._on(P,l[P],h,!0);else{l=E(l);for(var D=0,F=l.length;D<F;D++)this._on(l[D],h,b,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[f(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[f(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var de=J.extend(ae);function X(l,h,b){this.x=b?Math.round(l):l,this.y=b?Math.round(h):h}var he=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(l){return this.clone()._add(ie(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ie(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new X(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new X(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(l){l=ie(l);var h=l.x-this.x,b=l.y-this.y;return Math.sqrt(h*h+b*b)},equals:function(l){return l=ie(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=ie(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function ie(l,h,b){return l instanceof X?l:R(l)?new X(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new X(l.x,l.y):new X(l,h,b)}function G(l,h){if(l)for(var b=h?[l,h]:l,P=0,D=b.length;P<D;P++)this.extend(b[P])}G.prototype={extend:function(l){var h,b;if(!l)return this;if(l instanceof X||typeof l[0]=="number"||"x"in l)h=b=ie(l);else if(l=ne(l),h=l.min,b=l.max,!h||!b)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=b.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(l){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,b;return typeof l[0]=="number"||l instanceof X?l=ie(l):l=ne(l),l instanceof G?(h=l.min,b=l.max):h=b=l,h.x>=this.min.x&&b.x<=this.max.x&&h.y>=this.min.y&&b.y<=this.max.y},intersects:function(l){l=ne(l);var h=this.min,b=this.max,P=l.min,D=l.max,F=D.x>=h.x&&P.x<=b.x,Y=D.y>=h.y&&P.y<=b.y;return F&&Y},overlaps:function(l){l=ne(l);var h=this.min,b=this.max,P=l.min,D=l.max,F=D.x>h.x&&P.x<b.x,Y=D.y>h.y&&P.y<b.y;return F&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,b=this.max,P=Math.abs(h.x-b.x)*l,D=Math.abs(h.y-b.y)*l;return ne(ie(h.x-P,h.y-D),ie(b.x+P,b.y+D))},equals:function(l){return l?(l=ne(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ne(l,h){return!l||l instanceof G?l:new G(l,h)}function re(l,h){if(l)for(var b=h?[l,h]:l,P=0,D=b.length;P<D;P++)this.extend(b[P])}re.prototype={extend:function(l){var h=this._southWest,b=this._northEast,P,D;if(l instanceof ge)P=l,D=l;else if(l instanceof re){if(P=l._southWest,D=l._northEast,!P||!D)return this}else return l?this.extend(xe(l)||me(l)):this;return!h&&!b?(this._southWest=new ge(P.lat,P.lng),this._northEast=new ge(D.lat,D.lng)):(h.lat=Math.min(P.lat,h.lat),h.lng=Math.min(P.lng,h.lng),b.lat=Math.max(D.lat,b.lat),b.lng=Math.max(D.lng,b.lng)),this},pad:function(l){var h=this._southWest,b=this._northEast,P=Math.abs(h.lat-b.lat)*l,D=Math.abs(h.lng-b.lng)*l;return new re(new ge(h.lat-P,h.lng-D),new ge(b.lat+P,b.lng+D))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof ge||"lat"in l?l=xe(l):l=me(l);var h=this._southWest,b=this._northEast,P,D;return l instanceof re?(P=l.getSouthWest(),D=l.getNorthEast()):P=D=l,P.lat>=h.lat&&D.lat<=b.lat&&P.lng>=h.lng&&D.lng<=b.lng},intersects:function(l){l=me(l);var h=this._southWest,b=this._northEast,P=l.getSouthWest(),D=l.getNorthEast(),F=D.lat>=h.lat&&P.lat<=b.lat,Y=D.lng>=h.lng&&P.lng<=b.lng;return F&&Y},overlaps:function(l){l=me(l);var h=this._southWest,b=this._northEast,P=l.getSouthWest(),D=l.getNorthEast(),F=D.lat>h.lat&&P.lat<b.lat,Y=D.lng>h.lng&&P.lng<b.lng;return F&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=me(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(l,h){return l instanceof re?l:new re(l,h)}function ge(l,h,b){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,b!==void 0&&(this.alt=+b)}ge.prototype={equals:function(l,h){if(!l)return!1;l=xe(l);var b=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return b<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+_(this.lat,l)+", "+_(this.lng,l)+")"},distanceTo:function(l){return Fe.distance(this,xe(l))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,b=h/Math.cos(Math.PI/180*this.lat);return me([this.lat-h,this.lng-b],[this.lat+h,this.lng+b])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function xe(l,h,b){return l instanceof ge?l:R(l)&&typeof l[0]!="object"?l.length===3?new ge(l[0],l[1],l[2]):l.length===2?new ge(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new ge(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new ge(l,h,b)}var $e={latLngToPoint:function(l,h){var b=this.projection.project(l),P=this.scale(h);return this.transformation._transform(b,P)},pointToLatLng:function(l,h){var b=this.scale(h),P=this.transformation.untransform(l,b);return this.projection.unproject(P)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,b=this.scale(l),P=this.transformation.transform(h.min,b),D=this.transformation.transform(h.max,b);return new G(P,D)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?p(l.lng,this.wrapLng,!0):l.lng,b=this.wrapLat?p(l.lat,this.wrapLat,!0):l.lat,P=l.alt;return new ge(b,h,P)},wrapLatLngBounds:function(l){var h=l.getCenter(),b=this.wrapLatLng(h),P=h.lat-b.lat,D=h.lng-b.lng;if(P===0&&D===0)return l;var F=l.getSouthWest(),Y=l.getNorthEast(),se=new ge(F.lat-P,F.lng-D),ce=new ge(Y.lat-P,Y.lng-D);return new re(se,ce)}},Fe=i({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var b=Math.PI/180,P=l.lat*b,D=h.lat*b,F=Math.sin((h.lat-l.lat)*b/2),Y=Math.sin((h.lng-l.lng)*b/2),se=F*F+Math.cos(P)*Math.cos(D)*Y*Y,ce=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*ce}}),be=6378137,Re={R:be,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,b=this.MAX_LATITUDE,P=Math.max(Math.min(b,l.lat),-b),D=Math.sin(P*h);return new X(this.R*l.lng*h,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(l){var h=180/Math.PI;return new ge((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:(function(){var l=be*Math.PI;return new G([-l,-l],[l,l])})()};function ze(l,h,b,P){if(R(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=b,this._d=P}ze.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new X((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function ye(l,h,b,P){return new ze(l,h,b,P)}var at=i({},Fe,{code:"EPSG:3857",projection:Re,transformation:(function(){var l=.5/(Math.PI*Re.R);return ye(l,.5,-l,.5)})()}),Pe=i({},at,{code:"EPSG:900913"});function ct(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function _t(l,h){var b="",P,D,F,Y,se,ce;for(P=0,F=l.length;P<F;P++){for(se=l[P],D=0,Y=se.length;D<Y;D++)ce=se[D],b+=(D?"L":"M")+ce.x+" "+ce.y;b+=h?Me.svg?"z":"x":""}return b||"M0 0"}var dt=document.documentElement.style,Nt="ActiveXObject"in window,Xt=Nt&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),en=Tn("webkit"),Cn=Tn("android"),Zr=Tn("android 2")||Tn("android 3"),Fi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ui=Cn&&Tn("Google")&&Fi<537&&!("AudioNode"in window),Io=!!window.opera,Mo=!Qt&&Tn("chrome"),zi=Tn("gecko")&&!en&&!Io&&!Nt,Ls=!Mo&&Tn("safari"),_i=Tn("phantom"),Yr="OTransition"in dt,Ou=navigator.platform.indexOf("Win")===0,ka=Nt&&"transition"in dt,qi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zr,Ds="MozPerspective"in dt,pe=!window.L_DISABLE_3D&&(ka||qi||Ds)&&!Yr&&!_i,Ue=typeof orientation<"u"||Tn("mobile"),Xe=Ue&&en,St=Ue&&qi,ot=!window.PointerEvent&&window.MSPointerEvent,ht=!!(window.PointerEvent||ot),It="ontouchstart"in window||!!window.TouchEvent,st=!window.L_NO_TOUCH&&(It||ht),Pt=Ue&&Io,Mt=Ue&&zi,an=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=(function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return l})(),sr=(function(){return!!document.createElement("canvas").getContext})(),Yn=!!(document.createElementNS&&ct("svg").createSVGRect),mn=!!Yn&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Oo=!Yn&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Hi=navigator.platform.indexOf("Mac")===0,ku=navigator.platform.indexOf("Linux")===0;function Tn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Me={ie:Nt,ielt9:Xt,edge:Qt,webkit:en,android:Cn,android23:Zr,androidStock:Ui,opera:Io,chrome:Mo,gecko:zi,safari:Ls,phantom:_i,opera12:Yr,win:Ou,ie3d:ka,webkit3d:qi,gecko3d:Ds,any3d:pe,mobile:Ue,mobileWebkit:Xe,mobileWebkit3d:St,msPointer:ot,pointer:ht,touch:st,touchNative:It,mobileOpera:Pt,mobileGecko:Mt,retina:an,passiveEvents:Zn,canvas:sr,svg:Yn,vml:Oo,inlineSvg:mn,mac:Hi,linux:ku},Ra=Me.msPointer?"MSPointerDown":"pointerdown",js=Me.msPointer?"MSPointerMove":"pointermove",Hf=Me.msPointer?"MSPointerUp":"pointerup",Gf=Me.msPointer?"MSPointerCancel":"pointercancel",Ru={touchstart:Ra,touchmove:js,touchend:Hf,touchcancel:Gf},xi={touchstart:qt,touchmove:$s,touchend:$s,touchcancel:$s},Gi={},Lu=!1;function Dm(l,h,b){return h==="touchstart"&&jm(),xi[h]?(b=xi[h].bind(this,b),l.addEventListener(Ru[h],b,!1),b):(console.warn("wrong event specified:",h),m)}function Vf(l,h,b){if(!Ru[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(Ru[h],b,!1)}function Wf(l){Gi[l.pointerId]=l}function Kf(l){Gi[l.pointerId]&&(Gi[l.pointerId]=l)}function Du(l){delete Gi[l.pointerId]}function jm(){Lu||(document.addEventListener(Ra,Wf,!0),document.addEventListener(js,Kf,!0),document.addEventListener(Hf,Du,!0),document.addEventListener(Gf,Du,!0),Lu=!0)}function $s(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var b in Gi)h.touches.push(Gi[b]);h.changedTouches=[h],l(h)}}function qt(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ht(h),$s(l,h)}function $m(l){var h={},b,P;for(P in l)b=l[P],h[P]=b&&b.bind?b.bind(l):b;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ju=200;function Zf(l,h){l.addEventListener("dblclick",h);var b=0,P;function D(F){if(F.detail!==1){P=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var Y=Ki(F);if(!(Y.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!Y.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var se=Date.now();se-b<=ju?(P++,P===2&&h($m(F))):P=1,b=se}}}return l.addEventListener("click",D),{dblclick:h,simDblclick:D}}function Bs(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var $u=Do(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ko=Do(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),La=ko==="webkitTransition"||ko==="OTransition"?ko+"End":"transitionend";function lr(l){return typeof l=="string"?document.getElementById(l):l}function Da(l,h){var b=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!b||b==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(l,null);b=P?P[h]:null}return b==="auto"?null:b}function tt(l,h,b){var P=document.createElement(l);return P.className=h||"",b&&b.appendChild(P),P}function jt(l){var h=l.parentNode;h&&h.removeChild(l)}function Fs(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Ro(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function Jr(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function Lo(l,h){if(l.classList!==void 0)return l.classList.contains(h);var b=Us(l);return b.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(b)}function Qe(l,h){if(l.classList!==void 0)for(var b=E(h),P=0,D=b.length;P<D;P++)l.classList.add(b[P]);else if(!Lo(l,h)){var F=Us(l);Bu(l,(F?F+" ":"")+h)}}function Ot(l,h){l.classList!==void 0?l.classList.remove(h):Bu(l,S((" "+Us(l)+" ").replace(" "+h+" "," ")))}function Bu(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function Us(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Nn(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&Yf(l,h)}function Yf(l,h){var b=!1,P="DXImageTransform.Microsoft.Alpha";try{b=l.filters.item(P)}catch{if(h===1)return}h=Math.round(h*100),b?(b.Enabled=h!==100,b.Opacity=h):l.style.filter+=" progid:"+P+"(opacity="+h+")"}function Do(l){for(var h=document.documentElement.style,b=0;b<l.length;b++)if(l[b]in h)return l[b];return!1}function ur(l,h,b){var P=h||new X(0,0);l.style[$u]=(Me.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(b?" scale("+b+")":"")}function Kt(l,h){l._leaflet_pos=h,Me.any3d?ur(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function Xr(l){return l._leaflet_pos||new X(0,0)}var ft,jo,zs;if("onselectstart"in document)ft=function(){Ye(window,"selectstart",Ht)},jo=function(){Tt(window,"selectstart",Ht)};else{var Vi=Do(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ft=function(){if(Vi){var l=document.documentElement.style;zs=l[Vi],l[Vi]="none"}},jo=function(){Vi&&(document.documentElement.style[Vi]=zs,zs=void 0)}}function qs(){Ye(window,"dragstart",Ht)}function Hs(){Tt(window,"dragstart",Ht)}var ja,$a;function $o(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(cr(),ja=l,$a=l.style.outlineStyle,l.style.outlineStyle="none",Ye(window,"keydown",cr))}function cr(){ja&&(ja.style.outlineStyle=$a,ja=void 0,$a=void 0,Tt(window,"keydown",cr))}function Qr(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Ar(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var Ba={__proto__:null,TRANSFORM:$u,TRANSITION:ko,TRANSITION_END:La,get:lr,getStyle:Da,create:tt,remove:jt,empty:Fs,toFront:Ro,toBack:Jr,hasClass:Lo,addClass:Qe,removeClass:Ot,setClass:Bu,getClass:Us,setOpacity:Nn,testProp:Do,setTransform:ur,setPosition:Kt,getPosition:Xr,get disableTextSelection(){return ft},get enableTextSelection(){return jo},disableImageDrag:qs,enableImageDrag:Hs,preventOutline:$o,restoreOutline:cr,getSizedParentNode:Qr,getScale:Ar};function Ye(l,h,b,P){if(h&&typeof h=="object")for(var D in h)Uu(l,D,h[D],b);else{h=E(h);for(var F=0,Y=h.length;F<Y;F++)Uu(l,h[F],b,P)}return this}var sn="_leaflet_events";function Tt(l,h,b,P){if(arguments.length===1)Fu(l),delete l[sn];else if(h&&typeof h=="object")for(var D in h)Gs(l,D,h[D],b);else if(h=E(h),arguments.length===2)Fu(l,function(se){return j(h,se)!==-1});else for(var F=0,Y=h.length;F<Y;F++)Gs(l,h[F],b,P);return this}function Fu(l,h){for(var b in l[sn]){var P=b.split(/\d/)[0];(!h||h(P))&&Gs(l,P,null,null,b)}}var Wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Uu(l,h,b,P){var D=h+f(b)+(P?"_"+f(P):"");if(l[sn]&&l[sn][D])return this;var F=function(se){return b.call(P||l,se||window.event)},Y=F;!Me.touchNative&&Me.pointer&&h.indexOf("touch")===0?F=Dm(l,h,F):Me.touch&&h==="dblclick"?F=Zf(l,F):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(Wi[h]||h,F,Me.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(F=function(se){se=se||window.event,za(l,se)&&Y(se)},l.addEventListener(Wi[h],F,!1)):l.addEventListener(h,Y,!1):l.attachEvent("on"+h,F),l[sn]=l[sn]||{},l[sn][D]=F}function Gs(l,h,b,P,D){D=D||h+f(b)+(P?"_"+f(P):"");var F=l[sn]&&l[sn][D];if(!F)return this;!Me.touchNative&&Me.pointer&&h.indexOf("touch")===0?Vf(l,h,F):Me.touch&&h==="dblclick"?Bs(l,F):"removeEventListener"in l?l.removeEventListener(Wi[h]||h,F,!1):l.detachEvent("on"+h,F),l[sn][D]=null}function Pr(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Vs(l){return Uu(l,"wheel",Pr),this}function Fa(l){return Ye(l,"mousedown touchstart dblclick contextmenu",Pr),l._leaflet_disable_click=!0,this}function Ht(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function fr(l){return Ht(l),Pr(l),this}function Ki(l){if(l.composedPath)return l.composedPath();for(var h=[],b=l.target;b;)h.push(b),b=b.parentNode;return h}function Ua(l,h){if(!h)return new X(l.clientX,l.clientY);var b=Ar(h),P=b.boundingClientRect;return new X((l.clientX-P.left)/b.x-h.clientLeft,(l.clientY-P.top)/b.y-h.clientTop)}var Bm=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jf(l){return Me.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Bm:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function za(l,h){var b=h.relatedTarget;if(!b)return!0;try{for(;b&&b!==l;)b=b.parentNode}catch{return!1}return b!==l}var Ws={__proto__:null,on:Ye,off:Tt,stopPropagation:Pr,disableScrollPropagation:Vs,disableClickPropagation:Fa,preventDefault:Ht,stop:fr,getPropagationPath:Ki,getMousePosition:Ua,getWheelDelta:Jf,isExternalTarget:za,addListener:Ye,removeListener:Tt},Ks=de.extend({run:function(l,h,b,P){this.stop(),this._el=l,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=Xr(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,b=this._duration*1e3;h<b?this._runFrame(this._easeOut(h/b),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var b=this._startPos.add(this._offset.multiplyBy(l));h&&b._round(),Kt(this._el,b),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),ut=de.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=A(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(xe(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ko&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ye(this._proxy,La,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,b){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(xe(l),h,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=i({animate:b.animate},b.zoom),b.pan=i({animate:b.animate,duration:b.duration},b.pan));var P=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,b.zoom):this._tryAnimatedPan(l,b.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,b.pan&&b.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,b){var P=this.getZoomScale(h),D=this.getSize().divideBy(2),F=l instanceof X?l:this.latLngToContainerPoint(l),Y=F.subtract(D).multiplyBy(1-1/P),se=this.containerPointToLatLng(D.add(Y));return this.setView(se,h,{zoom:b})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():me(l);var b=ie(h.paddingTopLeft||h.padding||[0,0]),P=ie(h.paddingBottomRight||h.padding||[0,0]),D=this.getBoundsZoom(l,!1,b.add(P));if(D=typeof h.maxZoom=="number"?Math.min(h.maxZoom,D):D,D===1/0)return{center:l.getCenter(),zoom:D};var F=P.subtract(b).divideBy(2),Y=this.project(l.getSouthWest(),D),se=this.project(l.getNorthEast(),D),ce=this.unproject(Y.add(se).divideBy(2).add(F),D);return{center:ce,zoom:D}},fitBounds:function(l,h){if(l=me(l),!l.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(l,h);return this.setView(b.center,b.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=ie(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Qe(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,b,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,b){if(b=b||{},b.animate===!1||!Me.any3d)return this.setView(l,h,b);this._stop();var P=this.project(this.getCenter()),D=this.project(l),F=this.getSize(),Y=this._zoom;l=xe(l),h=h===void 0?Y:h;var se=Math.max(F.x,F.y),ce=se*this.getZoomScale(Y,h),_e=D.distanceTo(P)||1,Ce=1.42,qe=Ce*Ce;function rt(xt){var Qo=xt?-1:1,Qm=xt?ce:se,eg=ce*ce-se*se+Qo*qe*qe*_e*_e,to=2*Qm*qe*_e,no=eg/to,ro=Math.sqrt(no*no+1)-no,ll=ro<1e-9?-18:Math.log(ro);return ll}function ln(xt){return(Math.exp(xt)-Math.exp(-xt))/2}function tn(xt){return(Math.exp(xt)+Math.exp(-xt))/2}function Fn(xt){return ln(xt)/tn(xt)}var Mn=rt(0);function Jo(xt){return se*(tn(Mn)/tn(Mn+Ce*xt))}function lc(xt){return se*(tn(Mn)*Fn(Mn+Ce*xt)-ln(Mn))/qe}function Ci(xt){return 1-Math.pow(1-xt,1.5)}var yd=Date.now(),eo=(rt(1)-Mn)/Ce,Mr=b.duration?1e3*b.duration:1e3*eo*.8;function Xo(){var xt=(Date.now()-yd)/Mr,Qo=Ci(xt)*eo;xt<=1?(this._flyToFrame=V(Xo,this),this._move(this.unproject(P.add(D.subtract(P).multiplyBy(lc(Qo)/_e)),Y),this.getScaleZoom(se/Jo(Qo),Y),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Xo.call(this),this},flyToBounds:function(l,h){var b=this._getBoundsCenterZoom(l,h);return this.flyTo(b.center,b.zoom,h)},setMaxBounds:function(l){return l=me(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var b=this.getCenter(),P=this._limitCenter(b,this._zoom,me(l));return b.equals(P)||this.panTo(P,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var b=ie(h.paddingTopLeft||h.padding||[0,0]),P=ie(h.paddingBottomRight||h.padding||[0,0]),D=this.project(this.getCenter()),F=this.project(l),Y=this.getPixelBounds(),se=ne([Y.min.add(b),Y.max.subtract(P)]),ce=se.getSize();if(!se.contains(F)){this._enforcingBounds=!0;var _e=F.subtract(se.getCenter()),Ce=se.extend(F).getSize().subtract(ce);D.x+=_e.x<0?-Ce.x:Ce.x,D.y+=_e.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(D),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),P=h.divideBy(2).round(),D=b.divideBy(2).round(),F=P.subtract(D);return!F.x&&!F.y?this:(l.animate&&l.pan?this.panBy(F):(l.pan&&this._rawPanBy(F),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),b=a(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,b,l):navigator.geolocation.getCurrentPosition(h,b,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,b=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,b=l.coords.longitude,P=new ge(h,b),D=P.toBounds(l.coords.accuracy*2),F=this._locateOptions;if(F.setView){var Y=this.getBoundsZoom(D);this.setView(P,F.maxZoom?Math.min(Y,F.maxZoom):Y)}var se={latlng:P,bounds:D,timestamp:l.timestamp};for(var ce in l.coords)typeof l.coords[ce]=="number"&&(se[ce]=l.coords[ce]);this.fire("locationfound",se)}},addHandler:function(l,h){if(!h)return this;var b=this[l]=new h(this);return this._handlers.push(b),this.options[l]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)jt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var b="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),P=tt("div",b,h||this._mapPane);return l&&(this._panes[l]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),b=this.unproject(l.getTopRight());return new re(h,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,b){l=me(l),b=ie(b||[0,0]);var P=this.getZoom()||0,D=this.getMinZoom(),F=this.getMaxZoom(),Y=l.getNorthWest(),se=l.getSouthEast(),ce=this.getSize().subtract(b),_e=ne(this.project(se,P),this.project(Y,P)).getSize(),Ce=Me.any3d?this.options.zoomSnap:1,qe=ce.x/_e.x,rt=ce.y/_e.y,ln=h?Math.max(qe,rt):Math.min(qe,rt);return P=this.getScaleZoom(ln,P),Ce&&(P=Math.round(P/(Ce/100))*(Ce/100),P=h?Math.ceil(P/Ce)*Ce:Math.floor(P/Ce)*Ce),Math.max(D,Math.min(F,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var b=this._getTopLeftPoint(l,h);return new G(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var b=this.options.crs;return h=h===void 0?this._zoom:h,b.scale(l)/b.scale(h)},getScaleZoom:function(l,h){var b=this.options.crs;h=h===void 0?this._zoom:h;var P=b.zoom(l*b.scale(h));return isNaN(P)?1/0:P},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(xe(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ie(l),h)},layerPointToLatLng:function(l){var h=ie(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(xe(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(xe(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(me(l))},distance:function(l,h){return this.options.crs.distance(xe(l),xe(h))},containerPointToLayerPoint:function(l){return ie(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ie(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(ie(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(l)))},mouseEventToContainerPoint:function(l){return Ua(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=lr(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ye(h,"scroll",this._onScroll,this),this._containerId=f(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,Qe(l,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Da(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qe(l.markerPane,"leaflet-zoom-hide"),Qe(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,b){Kt(this._mapPane,new X(0,0));var P=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var D=this._zoom!==h;this._moveStart(D,b)._move(l,h)._moveEnd(D),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,b,P){h===void 0&&(h=this._zoom);var D=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),P?b&&b.pinch&&this.fire("zoom",b):((D||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Kt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[f(this._container)]=this;var h=l?Tt:Ye;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var b=[],P,D=h==="mouseout"||h==="mouseover",F=l.target||l.srcElement,Y=!1;F;){if(P=this._targets[f(F)],P&&(h==="click"||h==="preclick")&&this._draggableMoved(P)){Y=!0;break}if(P&&P.listens(h,!0)&&(D&&!za(F,l)||(b.push(P),D))||F===this._container)break;F=F.parentNode}return!b.length&&!Y&&!D&&this.listens(h,!0)&&(b=[this]),b},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var b=l.type;b==="mousedown"&&$o(h),this._fireDOMEvent(l,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,b){if(l.type==="click"){var P=i({},l);P.type="preclick",this._fireDOMEvent(P,P.type,b)}var D=this._findEventTargets(l,h);if(b){for(var F=[],Y=0;Y<b.length;Y++)b[Y].listens(h,!0)&&F.push(b[Y]);D=F.concat(D)}if(D.length){h==="contextmenu"&&Ht(l);var se=D[0],ce={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var _e=se.getLatLng&&(!se._radius||se._radius<=10);ce.containerPoint=_e?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(l),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=_e?se.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(Y=0;Y<D.length;Y++)if(D[Y].fire(h,ce,!0),ce.originalEvent._stopped||D[Y].options.bubblingMouseEvents===!1&&j(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return Xr(this._mapPane)||new X(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var b=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var b=this.getSize()._divideBy(2);return this.project(l,h)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,b){var P=this._getNewPixelOrigin(b,h);return this.project(l,h)._subtract(P)},_latLngBoundsToNewLayerBounds:function(l,h,b){var P=this._getNewPixelOrigin(b,h);return ne([this.project(l.getSouthWest(),h)._subtract(P),this.project(l.getNorthWest(),h)._subtract(P),this.project(l.getSouthEast(),h)._subtract(P),this.project(l.getNorthEast(),h)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,b){if(!b)return l;var P=this.project(l,h),D=this.getSize().divideBy(2),F=new G(P.subtract(D),P.add(D)),Y=this._getBoundsOffset(F,b,h);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?l:this.unproject(P.add(Y),h)},_limitOffset:function(l,h){if(!h)return l;var b=this.getPixelBounds(),P=new G(b.min.add(l),b.max.add(l));return l.add(this._getBoundsOffset(P,h))},_getBoundsOffset:function(l,h,b){var P=ne(this.project(h.getNorthEast(),b),this.project(h.getSouthWest(),b)),D=P.min.subtract(l.min),F=P.max.subtract(l.max),Y=this._rebound(D.x,-F.x),se=this._rebound(D.y,-F.y);return new X(Y,se)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),b=this.getMaxZoom(),P=Me.any3d?this.options.zoomSnap:1;return P&&(l=Math.round(l/P)*P),Math.max(h,Math.min(b,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ot(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var b=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,h),!0)},_createAnimProxy:function(){var l=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var b=$u,P=this._proxy.style[b];ur(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),P===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();ur(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(h),D=this._getCenterOffset(l)._divideBy(1-1/P);return b.animate!==!0&&!this.getSize().contains(D)?!1:(V(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,b,P){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,Qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ot(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bi(l,h){return new ut(l,h)}var $n=J.extend({options:{position:"topright"},initialize:function(l){A(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),b=this.getPosition(),P=l._controlCorners[b];return Qe(h,"leaflet-control"),b.indexOf("bottom")!==-1?P.insertBefore(h,P.firstChild):P.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),wi=function(l){return new $n(l)};ut.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",b=this._controlContainer=tt("div",h+"control-container",this._container);function P(D,F){var Y=h+D+" "+h+F;l[D+F]=tt("div",Y,b)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)jt(this._controlCorners[l]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zu=$n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,b,P){return b<P?-1:P<b?1:0}},initialize:function(l,h,b){A(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in l)this._addLayer(l[P],P);for(P in h)this._addLayer(h[P],P,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return $n.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(f(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Ot(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ot(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=tt("div",l),b=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Fa(h),Vs(h);var P=this._section=tt("section",l+"-list");b&&(this._map.on("click",this.collapse,this),Ye(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var D=this._layersLink=tt("a",l+"-toggle",h);D.href="#",D.title="Layers",D.setAttribute("role","button"),Ye(D,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Ht(F),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=tt("div",l+"-base",P),this._separator=tt("div",l+"-separator",P),this._overlaysList=tt("div",l+"-overlays",P),h.appendChild(P)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&f(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,b){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:b}),this.options.sortLayers&&this._layers.sort(a(function(P,D){return this.options.sortFunction(P.layer,D.layer,P.name,D.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fs(this._baseLayersList),Fs(this._overlaysList),this._layerControlInputs=[];var l,h,b,P,D=0;for(b=0;b<this._layers.length;b++)P=this._layers[b],this._addItem(P),h=h||P.overlay,l=l||!P.overlay,D+=P.overlay?0:1;return this.options.hideSingleBase&&(l=l&&D>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(f(l.target)),b=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;b&&this._map.fire(b,h)},_createRadioElement:function(l,h){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=b,P.firstChild},_addItem:function(l){var h=document.createElement("label"),b=this._map.hasLayer(l.layer),P;l.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=b):P=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(P),P.layerId=f(l.layer),Ye(P,"click",this._onInputClick,this);var D=document.createElement("span");D.innerHTML=" "+l.name;var F=document.createElement("span");h.appendChild(F),F.appendChild(P),F.appendChild(D);var Y=l.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,b,P=[],D=[];this._handlingClick=!0;for(var F=l.length-1;F>=0;F--)h=l[F],b=this._getLayer(h.layerId).layer,h.checked?P.push(b):h.checked||D.push(b);for(F=0;F<D.length;F++)this._map.hasLayer(D[F])&&this._map.removeLayer(D[F]);for(F=0;F<P.length;F++)this._map.hasLayer(P[F])||this._map.addLayer(P[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,b,P=this._map.getZoom(),D=l.length-1;D>=0;D--)h=l[D],b=this._getLayer(h.layerId).layer,h.disabled=b.options.minZoom!==void 0&&P<b.options.minZoom||b.options.maxZoom!==void 0&&P>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Ye(l,"click",Ht),this.expand();var h=this;setTimeout(function(){Tt(l,"click",Ht),h._preventClick=!1})}}),Zs=function(l,h,b){return new zu(l,h,b)},Bo=$n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",b=tt("div",h+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,h+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,h+"-out",b,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,b,P,D){var F=tt("a",b,P);return F.innerHTML=l,F.href="#",F.title=h,F.setAttribute("role","button"),F.setAttribute("aria-label",h),Fa(F),Ye(F,"click",fr),Ye(F,"click",D,this),Ye(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";Ot(this._zoomInButton,h),Ot(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Qe(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Qe(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bo,this.addControl(this.zoomControl))});var Xf=function(l){return new Bo(l)},In=$n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",b=tt("div",h),P=this.options;return this._addScales(P,h+"-line",b),l.on(P.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),b},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,b){l.metric&&(this._mScale=tt("div",h,b)),l.imperial&&(this._iScale=tt("div",h,b))},_update:function(){var l=this._map,h=l.getSize().y/2,b=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(b)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),b=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,b,h/l)},_updateImperial:function(l){var h=l*3.2808399,b,P,D;h>5280?(b=h/5280,P=this._getRoundNum(b),this._updateScale(this._iScale,P+" mi",P/b)):(D=this._getRoundNum(h),this._updateScale(this._iScale,D+" ft",D/h))},_updateScale:function(l,h,b){l.style.width=Math.round(this.options.maxWidth*b)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),b=l/h;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,h*b}}),Fo=function(l){return new In(l)},qu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zi=$n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?qu+" ":"")+"Leaflet</a>"},initialize:function(l){A(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Fa(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var b=[];this.options.prefix&&b.push(this.options.prefix),l.length&&b.push(l.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new Zi().addTo(this)});var Fm=function(l){return new Zi(l)};$n.Layers=zu,$n.Zoom=Bo,$n.Scale=In,$n.Attribution=Zi,wi.layers=Zs,wi.zoom=Xf,wi.scale=Fo,wi.attribution=Fm;var Jn=J.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(l,h){return l.addHandler(h,this),this};var Hu={Events:ae},Uo=Me.touch?"touchstart mousedown":"mousedown",dr=de.extend({options:{clickTolerance:3},initialize:function(l,h,b,P){A(this,P),this._element=l,this._dragStartTarget=h||l,this._preventOutline=b},enable:function(){this._enabled||(Ye(this._dragStartTarget,Uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(dr._dragging===this&&this.finishDrag(!0),Tt(this._dragStartTarget,Uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Lo(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){dr._dragging===this&&this.finishDrag();return}if(!(dr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(dr._dragging=this,this._preventOutline&&$o(this._element),qs(),ft(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,b=Qr(this._element);this._startPoint=new X(h.clientX,h.clientY),this._startPos=Xr(this._element),this._parentScale=Ar(b);var P=l.type==="mousedown";Ye(document,P?"mousemove":"touchmove",this._onMove,this),Ye(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,b=new X(h.clientX,h.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Ht(l),this._moved||(this.fire("dragstart"),this._moved=!0,Qe(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Kt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Ot(document.body,"leaflet-dragging"),this._lastTarget&&(Ot(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Tt(document,"mousemove touchmove",this._onMove,this),Tt(document,"mouseup touchend touchcancel",this._onUp,this),Hs(),jo();var h=this._moved&&this._moving;this._moving=!1,dr._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Gu(l,h,b){var P,D=[1,4,2,8],F,Y,se,ce,_e,Ce,qe,rt;for(F=0,Ce=l.length;F<Ce;F++)l[F]._code=Yi(l[F],h);for(se=0;se<4;se++){for(qe=D[se],P=[],F=0,Ce=l.length,Y=Ce-1;F<Ce;Y=F++)ce=l[F],_e=l[Y],ce._code&qe?_e._code&qe||(rt=Js(_e,ce,qe,h,b),rt._code=Yi(rt,h),P.push(rt)):(_e._code&qe&&(rt=Js(_e,ce,qe,h,b),rt._code=Yi(rt,h),P.push(rt)),P.push(ce));l=P}return l}function Qf(l,h){var b,P,D,F,Y,se,ce,_e,Ce;if(!l||l.length===0)throw new Error("latlngs not passed");Xn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var qe=xe([0,0]),rt=me(l),ln=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());ln<1700&&(qe=Vu(l));var tn=l.length,Fn=[];for(b=0;b<tn;b++){var Mn=xe(l[b]);Fn.push(h.project(xe([Mn.lat-qe.lat,Mn.lng-qe.lng])))}for(se=ce=_e=0,b=0,P=tn-1;b<tn;P=b++)D=Fn[b],F=Fn[P],Y=D.y*F.x-F.y*D.x,ce+=(D.x+F.x)*Y,_e+=(D.y+F.y)*Y,se+=Y*3;se===0?Ce=Fn[0]:Ce=[ce/se,_e/se];var Jo=h.unproject(ie(Ce));return xe([Jo.lat+qe.lat,Jo.lng+qe.lng])}function Vu(l){for(var h=0,b=0,P=0,D=0;D<l.length;D++){var F=xe(l[D]);h+=F.lat,b+=F.lng,P++}return xe([h/P,b/P])}var Um={__proto__:null,clipPolygon:Gu,polygonCenter:Qf,centroid:Vu};function Ys(l,h){if(!h||!l.length)return l.slice();var b=h*h;return l=Hm(l,b),l=qm(l,b),l}function ed(l,h,b){return Math.sqrt(Ji(l,h,b,!0))}function zm(l,h,b){return Ji(l,h,b)}function qm(l,h){var b=l.length,P=typeof Uint8Array<"u"?Uint8Array:Array,D=new P(b);D[0]=D[b-1]=1,Wu(l,D,h,0,b-1);var F,Y=[];for(F=0;F<b;F++)D[F]&&Y.push(l[F]);return Y}function Wu(l,h,b,P,D){var F=0,Y,se,ce;for(se=P+1;se<=D-1;se++)ce=Ji(l[se],l[P],l[D],!0),ce>F&&(Y=se,F=ce);F>b&&(h[Y]=1,Wu(l,h,b,P,Y),Wu(l,h,b,Y,D))}function Hm(l,h){for(var b=[l[0]],P=1,D=0,F=l.length;P<F;P++)Gm(l[P],l[D])>h&&(b.push(l[P]),D=P);return D<F-1&&b.push(l[F-1]),b}var Ku;function td(l,h,b,P,D){var F=P?Ku:Yi(l,b),Y=Yi(h,b),se,ce,_e;for(Ku=Y;;){if(!(F|Y))return[l,h];if(F&Y)return!1;se=F||Y,ce=Js(l,h,se,b,D),_e=Yi(ce,b),se===F?(l=ce,F=_e):(h=ce,Y=_e)}}function Js(l,h,b,P,D){var F=h.x-l.x,Y=h.y-l.y,se=P.min,ce=P.max,_e,Ce;return b&8?(_e=l.x+F*(ce.y-l.y)/Y,Ce=ce.y):b&4?(_e=l.x+F*(se.y-l.y)/Y,Ce=se.y):b&2?(_e=ce.x,Ce=l.y+Y*(ce.x-l.x)/F):b&1&&(_e=se.x,Ce=l.y+Y*(se.x-l.x)/F),new X(_e,Ce,D)}function Yi(l,h){var b=0;return l.x<h.min.x?b|=1:l.x>h.max.x&&(b|=2),l.y<h.min.y?b|=4:l.y>h.max.y&&(b|=8),b}function Gm(l,h){var b=h.x-l.x,P=h.y-l.y;return b*b+P*P}function Ji(l,h,b,P){var D=h.x,F=h.y,Y=b.x-D,se=b.y-F,ce=Y*Y+se*se,_e;return ce>0&&(_e=((l.x-D)*Y+(l.y-F)*se)/ce,_e>1?(D=b.x,F=b.y):_e>0&&(D+=Y*_e,F+=se*_e)),Y=l.x-D,se=l.y-F,P?Y*Y+se*se:new X(D,F)}function Xn(l){return!R(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function nd(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xn(l)}function rd(l,h){var b,P,D,F,Y,se,ce,_e;if(!l||l.length===0)throw new Error("latlngs not passed");Xn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ce=xe([0,0]),qe=me(l),rt=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());rt<1700&&(Ce=Vu(l));var ln=l.length,tn=[];for(b=0;b<ln;b++){var Fn=xe(l[b]);tn.push(h.project(xe([Fn.lat-Ce.lat,Fn.lng-Ce.lng])))}for(b=0,P=0;b<ln-1;b++)P+=tn[b].distanceTo(tn[b+1])/2;if(P===0)_e=tn[0];else for(b=0,F=0;b<ln-1;b++)if(Y=tn[b],se=tn[b+1],D=Y.distanceTo(se),F+=D,F>P){ce=(F-P)/D,_e=[se.x-ce*(se.x-Y.x),se.y-ce*(se.y-Y.y)];break}var Mn=h.unproject(ie(_e));return xe([Mn.lat+Ce.lat,Mn.lng+Ce.lng])}var id={__proto__:null,simplify:Ys,pointToSegmentDistance:ed,closestPointOnSegment:zm,clipSegment:td,_getEdgeIntersection:Js,_getBitCode:Yi,_sqClosestPointOnSegment:Ji,isFlat:Xn,_flat:nd,polylineCenter:rd},Zu={project:function(l){return new X(l.lng,l.lat)},unproject:function(l){return new ge(l.y,l.x)},bounds:new G([-180,-90],[180,90])},Yu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,b=this.R,P=l.lat*h,D=this.R_MINOR/b,F=Math.sqrt(1-D*D),Y=F*Math.sin(P),se=Math.tan(Math.PI/4-P/2)/Math.pow((1-Y)/(1+Y),F/2);return P=-b*Math.log(Math.max(se,1e-10)),new X(l.lng*h*b,P)},unproject:function(l){for(var h=180/Math.PI,b=this.R,P=this.R_MINOR/b,D=Math.sqrt(1-P*P),F=Math.exp(-l.y/b),Y=Math.PI/2-2*Math.atan(F),se=0,ce=.1,_e;se<15&&Math.abs(ce)>1e-7;se++)_e=D*Math.sin(Y),_e=Math.pow((1-_e)/(1+_e),D/2),ce=Math.PI/2-2*Math.atan(F*_e)-Y,Y+=ce;return new ge(Y*h,l.x*h/b)}},Vm={__proto__:null,LonLat:Zu,Mercator:Yu,SphericalMercator:Re},Wm=i({},Fe,{code:"EPSG:3395",projection:Yu,transformation:(function(){var l=.5/(Math.PI*Yu.R);return ye(l,.5,-l,.5)})()}),od=i({},Fe,{code:"EPSG:4326",projection:Zu,transformation:ye(1/180,1,-1/180,.5)}),Km=i({},$e,{projection:Zu,transformation:ye(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var b=h.lng-l.lng,P=h.lat-l.lat;return Math.sqrt(b*b+P*P)},infinite:!0});$e.Earth=Fe,$e.EPSG3395=Wm,$e.EPSG3857=at,$e.EPSG900913=Pe,$e.EPSG4326=od,$e.Simple=Km;var hr=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[f(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[f(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var b=this.getEvents();h.on(b,this),this.once("remove",function(){h.off(b,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=f(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=f(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return f(l)in this._layers},eachLayer:function(l,h){for(var b in this._layers)l.call(h,this._layers[b]);return this},_addLayers:function(l){l=l?R(l)?l:[l]:[];for(var h=0,b=l.length;h<b;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[f(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=f(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,b=this._getZoomSpan();for(var P in this._zoomBoundLayers){var D=this._zoomBoundLayers[P].options;l=D.minZoom===void 0?l:Math.min(l,D.minZoom),h=D.maxZoom===void 0?h:Math.max(h,D.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Si=hr.extend({initialize:function(l,h){A(this,h),this._layers={};var b,P;if(l)for(b=0,P=l.length;b<P;b++)this.addLayer(l[b])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),b,P;for(b in this._layers)P=this._layers[b],P[l]&&P[l].apply(P,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var b in this._layers)l.call(h,this._layers[b]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return f(l)}}),qa=function(l,h){return new Si(l,h)},ei=Si.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Si.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Si.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new re;for(var h in this._layers){var b=this._layers[h];l.extend(b.getBounds?b.getBounds():b.getLatLng())}return l}}),ad=function(l,h){return new ei(l,h)},Xi=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){A(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var b=this._getIconUrl(l);if(!b){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(b,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(P,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(l,h){var b=this.options,P=b[h+"Size"];typeof P=="number"&&(P=[P,P]);var D=ie(P),F=ie(h==="shadow"&&b.shadowAnchor||b.iconAnchor||D&&D.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(b.className||""),F&&(l.style.marginLeft=-F.x+"px",l.style.marginTop=-F.y+"px"),D&&(l.style.width=D.x+"px",l.style.height=D.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Me.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function sd(l){return new Xi(l)}var zo=Xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof zo.imagePath!="string"&&(zo.imagePath=this._detectIconPath()),(this.options.imagePath||zo.imagePath)+Xi.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(b,P,D){var F=P.exec(b);return F&&F[D]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=tt("div","leaflet-default-icon-path",document.body),h=Da(l,"background-image")||Da(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Ju=Jn.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new dr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qe(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ot(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,b=h._map,P=this._marker.options.autoPanSpeed,D=this._marker.options.autoPanPadding,F=Xr(h._icon),Y=b.getPixelBounds(),se=b.getPixelOrigin(),ce=ne(Y.min._subtract(se).add(D),Y.max._subtract(se).subtract(D));if(!ce.contains(F)){var _e=ie((Math.max(ce.max.x,F.x)-ce.max.x)/(Y.max.x-ce.max.x)-(Math.min(ce.min.x,F.x)-ce.min.x)/(Y.min.x-ce.min.x),(Math.max(ce.max.y,F.y)-ce.max.y)/(Y.max.y-ce.max.y)-(Math.min(ce.min.y,F.y)-ce.min.y)/(Y.min.y-ce.min.y)).multiplyBy(P);b.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Kt(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=V(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,b=h._shadow,P=Xr(h._icon),D=h._map.layerPointToLatLng(P);b&&Kt(b,P),h._latlng=D,l.latlng=D,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ti=hr.extend({options:{icon:new zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){A(this,h),this._latlng=xe(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=xe(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=l.icon.createIcon(this._icon),P=!1;b!==this._icon&&(this._icon&&this._removeIcon(),P=!0,l.title&&(b.title=l.title),b.tagName==="IMG"&&(b.alt=l.alt||"")),Qe(b,h),l.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(b,"focus",this._panOnFocus,this);var D=l.icon.createShadow(this._shadow),F=!1;D!==this._shadow&&(this._removeShadow(),F=!0),D&&(Qe(D,h),D.alt=""),this._shadow=D,l.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),D&&F&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(this._icon,"focus",this._panOnFocus,this),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Kt(this._icon,l),this._shadow&&Kt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ju)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ju(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Nn(this._icon,l),this._shadow&&Nn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,b=h.iconSize?ie(h.iconSize):ie(0,0),P=h.iconAnchor?ie(h.iconAnchor):ie(0,0);l.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:b.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zm(l,h){return new ti(l,h)}var Ti=hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return A(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xs=Ti.extend({options:{fill:!0,radius:10},initialize:function(l,h){A(this,h),this._latlng=xe(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=xe(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return Ti.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,b=this._clickTolerance(),P=[l+b,h+b];this._pxBounds=new G(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ld(l,h){return new Xs(l,h)}var Qs=Xs.extend({initialize:function(l,h,b){if(typeof h=="number"&&(h=i({},b,{radius:h})),A(this,h),this._latlng=xe(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ti.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,b=this._map,P=b.options.crs;if(P.distance===Fe.distance){var D=Math.PI/180,F=this._mRadius/Fe.R/D,Y=b.project([h+F,l]),se=b.project([h-F,l]),ce=Y.add(se).divideBy(2),_e=b.unproject(ce).lat,Ce=Math.acos((Math.cos(F*D)-Math.sin(h*D)*Math.sin(_e*D))/(Math.cos(h*D)*Math.cos(_e*D)))/D;(isNaN(Ce)||Ce===0)&&(Ce=F/Math.cos(Math.PI/180*h)),this._point=ce.subtract(b.getPixelOrigin()),this._radius=isNaN(Ce)?0:ce.x-b.project([_e,l-Ce]).x,this._radiusY=ce.y-Y.y}else{var qe=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(qe).x}this._updateBounds()}});function Ha(l,h,b){return new Qs(l,h,b)}var Bn=Ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){A(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,b=null,P=Ji,D,F,Y=0,se=this._parts.length;Y<se;Y++)for(var ce=this._parts[Y],_e=1,Ce=ce.length;_e<Ce;_e++){D=ce[_e-1],F=ce[_e];var qe=P(l,D,F,!0);qe<h&&(h=qe,b=P(l,D,F))}return b&&(b.distance=Math.sqrt(h)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=xe(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new re,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],b=Xn(l),P=0,D=l.length;P<D;P++)b?(h[P]=xe(l[P]),this._bounds.extend(h[P])):h[P]=this._convertLatLngs(l[P]);return h},_project:function(){var l=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new X(l,l);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,b){var P=l[0]instanceof ge,D=l.length,F,Y;if(P){for(Y=[],F=0;F<D;F++)Y[F]=this._map.latLngToLayerPoint(l[F]),b.extend(Y[F]);h.push(Y)}else for(F=0;F<D;F++)this._projectLatlngs(l[F],h,b)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,b,P,D,F,Y,se,ce;for(b=0,D=0,F=this._rings.length;b<F;b++)for(ce=this._rings[b],P=0,Y=ce.length;P<Y-1;P++)se=td(ce[P],ce[P+1],l,P,!0),se&&(h[D]=h[D]||[],h[D].push(se[0]),(se[1]!==ce[P+1]||P===Y-2)&&(h[D].push(se[1]),D++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,b=0,P=l.length;b<P;b++)l[b]=Ys(l[b],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var b,P,D,F,Y,se,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(b=0,F=this._parts.length;b<F;b++)for(se=this._parts[b],P=0,Y=se.length,D=Y-1;P<Y;D=P++)if(!(!h&&P===0)&&ed(l,se[D],se[P])<=ce)return!0;return!1}});function Ym(l,h){return new Bn(l,h)}Bn._flat=nd;var ni=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=Bn.prototype._convertLatLngs.call(this,l),b=h.length;return b>=2&&h[0]instanceof ge&&h[0].equals(h[b-1])&&h.pop(),h},_setLatLngs:function(l){Bn.prototype._setLatLngs.call(this,l),Xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,b=new X(h,h);if(l=new G(l.min.subtract(b),l.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,D=this._rings.length,F;P<D;P++)F=Gu(this._rings[P],l,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,b,P,D,F,Y,se,ce,_e;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(F=0,ce=this._parts.length;F<ce;F++)for(b=this._parts[F],Y=0,_e=b.length,se=_e-1;Y<_e;se=Y++)P=b[Y],D=b[se],P.y>l.y!=D.y>l.y&&l.x<(D.x-P.x)*(l.y-P.y)/(D.y-P.y)+P.x&&(h=!h);return h||Bn.prototype._containsPoint.call(this,l,!0)}});function Jm(l,h){return new ni(l,h)}var Cr=ei.extend({initialize:function(l,h){A(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=R(l)?l:l.features,b,P,D;if(h){for(b=0,P=h.length;b<P;b++)D=h[b],(D.geometries||D.geometry||D.features||D.coordinates)&&this.addData(D);return this}var F=this.options;if(F.filter&&!F.filter(l))return this;var Y=qo(l,F);return Y?(Y.feature=il(l),Y.defaultOptions=Y.options,this.resetStyle(Y),F.onEachFeature&&F.onEachFeature(l,Y),this.addLayer(Y)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function qo(l,h){var b=l.type==="Feature"?l.geometry:l,P=b?b.coordinates:null,D=[],F=h&&h.pointToLayer,Y=h&&h.coordsToLatLng||tl,se,ce,_e,Ce;if(!P&&!b)return null;switch(b.type){case"Point":return se=Y(P),el(F,l,se,h);case"MultiPoint":for(_e=0,Ce=P.length;_e<Ce;_e++)se=Y(P[_e]),D.push(el(F,l,se,h));return new ei(D);case"LineString":case"MultiLineString":return ce=Ga(P,b.type==="LineString"?0:1,Y),new Bn(ce,h);case"Polygon":case"MultiPolygon":return ce=Ga(P,b.type==="Polygon"?1:2,Y),new ni(ce,h);case"GeometryCollection":for(_e=0,Ce=b.geometries.length;_e<Ce;_e++){var qe=qo({geometry:b.geometries[_e],type:"Feature",properties:l.properties},h);qe&&D.push(qe)}return new ei(D);case"FeatureCollection":for(_e=0,Ce=b.features.length;_e<Ce;_e++){var rt=qo(b.features[_e],h);rt&&D.push(rt)}return new ei(D);default:throw new Error("Invalid GeoJSON object.")}}function el(l,h,b,P){return l?l(h,b):new ti(b,P&&P.markersInheritOptions&&P)}function tl(l){return new ge(l[1],l[0],l[2])}function Ga(l,h,b){for(var P=[],D=0,F=l.length,Y;D<F;D++)Y=h?Ga(l[D],h-1,b):(b||tl)(l[D]),P.push(Y);return P}function nl(l,h){return l=xe(l),l.alt!==void 0?[_(l.lng,h),_(l.lat,h),_(l.alt,h)]:[_(l.lng,h),_(l.lat,h)]}function rl(l,h,b,P){for(var D=[],F=0,Y=l.length;F<Y;F++)D.push(h?rl(l[F],Xn(l[F])?0:h-1,b,P):nl(l[F],P));return!h&&b&&D.length>0&&D.push(D[0].slice()),D}function Ho(l,h){return l.feature?i({},l.feature,{geometry:h}):il(h)}function il(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Xu={toGeoJSON:function(l){return Ho(this,{type:"Point",coordinates:nl(this.getLatLng(),l)})}};ti.include(Xu),Qs.include(Xu),Xs.include(Xu),Bn.include({toGeoJSON:function(l){var h=!Xn(this._latlngs),b=rl(this._latlngs,h?1:0,!1,l);return Ho(this,{type:(h?"Multi":"")+"LineString",coordinates:b})}}),ni.include({toGeoJSON:function(l){var h=!Xn(this._latlngs),b=h&&!Xn(this._latlngs[0]),P=rl(this._latlngs,b?2:h?1:0,!0,l);return h||(P=[P]),Ho(this,{type:(b?"Multi":"")+"Polygon",coordinates:P})}}),Si.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(b){h.push(b.toGeoJSON(l).geometry.coordinates)}),Ho(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var b=h==="GeometryCollection",P=[];return this.eachLayer(function(D){if(D.toGeoJSON){var F=D.toGeoJSON(l);if(b)P.push(F.geometry);else{var Y=il(F);Y.type==="FeatureCollection"?P.push.apply(P,Y.features):P.push(Y)}}}),b?Ho(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function ud(l,h){return new Cr(l,h)}var pr=ud,Ei=hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,b){this._url=l,this._bounds=me(h),A(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Ro(this._image),this},bringToBack:function(){return this._map&&Jr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=me(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:tt("img");if(Qe(h,"leaflet-image-layer"),this._zoomAnimated&&Qe(h,"leaflet-zoom-animated"),this.options.className&&Qe(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ur(this._image,b,h)},_reset:function(){var l=this._image,h=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=h.getSize();Kt(l,h.min),l.style.width=b.x+"px",l.style.height=b.y+"px"},_updateOpacity:function(){Nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),cd=function(l,h,b){return new Ei(l,h,b)},Qu=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:tt("video");if(Qe(h,"leaflet-image-layer"),this._zoomAnimated&&Qe(h,"leaflet-zoom-animated"),this.options.className&&Qe(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=a(this.fire,this,"load"),l){for(var b=h.getElementsByTagName("source"),P=[],D=0;D<b.length;D++)P.push(b[D].src);this._url=b.length>0?P:[h.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var Y=tt("source");Y.src=this._url[F],h.appendChild(Y)}}});function fd(l,h,b){return new Qu(l,h,b)}var ec=Ei.extend({_initImage:function(){var l=this._image=this._url;Qe(l,"leaflet-image-layer"),this._zoomAnimated&&Qe(l,"leaflet-zoom-animated"),this.options.className&&Qe(l,this.options.className),l.onselectstart=m,l.onmousemove=m}});function tc(l,h,b){return new ec(l,h,b)}var Nr=hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof ge||R(l))?(this._latlng=xe(l),A(this,h)):(A(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Nn(this._container,1),this.bringToFront(),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Nn(this._container,0),this._removeTimeout=setTimeout(a(jt,void 0,this._container),200)):jt(this._container),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=xe(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ro(this._container),this},bringToBack:function(){return this._map&&Jr(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof ei){h=null;var b=this._source._layers;for(var P in b)if(b[P]._map){h=b[P];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=ie(this.options.offset),b=this._getAnchor();this._zoomAnimated?Kt(this._container,l.add(b)):h=h.add(l).add(b);var P=this._containerBottom=-h.y,D=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=P+"px",this._container.style.left=D+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(l,h,b,P){var D=h;return D instanceof l||(D=new l(P).setContent(h)),b&&D.setLatLng(b),D}}),hr.include({_initOverlay:function(l,h,b,P){var D=b;return D instanceof l?(A(D,P),D._source=this):(D=h&&!P?h:new l(P,this),D.setContent(b)),D}});var ol=Nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Nr.prototype.openOn.call(this,l)},onAdd:function(l){Nr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ti||this._source.on("preclick",Pr))},onRemove:function(l){Nr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ti||this._source.off("preclick",Pr))},getEvents:function(){var l=Nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=tt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=tt("div",l+"-content-wrapper",h);if(this._contentNode=tt("div",l+"-content",b),Fa(h),Vs(this._contentNode),Ye(h,"contextmenu",Pr),this._tipContainer=tt("div",l+"-tip-container",h),this._tip=tt("div",l+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=tt("a",l+"-close-button",h);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',Ye(P,"click",function(D){Ht(D),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var b=l.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),h.width=b+1+"px",h.whiteSpace="",h.height="";var P=l.offsetHeight,D=this.options.maxHeight,F="leaflet-popup-scrolled";D&&P>D?(h.height=D+"px",Qe(l,F)):Ot(l,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),b=this._getAnchor();Kt(this._container,h.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(Da(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+h,P=this._containerWidth,D=new X(this._containerLeft,-b-this._containerBottom);D._add(Xr(this._container));var F=l.layerPointToContainerPoint(D),Y=ie(this.options.autoPanPadding),se=ie(this.options.autoPanPaddingTopLeft||Y),ce=ie(this.options.autoPanPaddingBottomRight||Y),_e=l.getSize(),Ce=0,qe=0;F.x+P+ce.x>_e.x&&(Ce=F.x+P-_e.x+ce.x),F.x-Ce-se.x<0&&(Ce=F.x-se.x),F.y+b+ce.y>_e.y&&(qe=F.y+b-_e.y+ce.y),F.y-qe-se.y<0&&(qe=F.y-se.y),(Ce||qe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Ce,qe]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Go=function(l,h){return new ol(l,h)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(l,h,b){return this._initOverlay(ol,l,h,b).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),hr.include({bindPopup:function(l,h){return this._popup=this._initOverlay(ol,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof ei||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){fr(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof Ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Vo=Nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Nr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Nr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Nr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,b,P=this._map,D=this._container,F=P.latLngToContainerPoint(P.getCenter()),Y=P.layerPointToContainerPoint(l),se=this.options.direction,ce=D.offsetWidth,_e=D.offsetHeight,Ce=ie(this.options.offset),qe=this._getAnchor();se==="top"?(h=ce/2,b=_e):se==="bottom"?(h=ce/2,b=0):se==="center"?(h=ce/2,b=_e/2):se==="right"?(h=0,b=_e/2):se==="left"?(h=ce,b=_e/2):Y.x<F.x?(se="right",h=0,b=_e/2):(se="left",h=ce+(Ce.x+qe.x)*2,b=_e/2),l=l.subtract(ie(h,b,!0)).add(Ce).add(qe),Ot(D,"leaflet-tooltip-right"),Ot(D,"leaflet-tooltip-left"),Ot(D,"leaflet-tooltip-top"),Ot(D,"leaflet-tooltip-bottom"),Qe(D,"leaflet-tooltip-"+se),Kt(D,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Nn(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Va=function(l,h){return new Vo(l,h)};ut.include({openTooltip:function(l,h,b){return this._initOverlay(Vo,l,h,b).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),hr.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vo,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[h](b),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof ei||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(Ye(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Ye(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,b,P;this._tooltip.options.sticky&&l.originalEvent&&(b=this._map.mouseEventToContainerPoint(l.originalEvent),P=this._map.containerPointToLayerPoint(b),h=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(h)}});var al=Xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Fs(h),h.appendChild(b.html)):h.innerHTML=b.html!==!1?b.html:"",b.bgPos){var P=ie(b.bgPos);h.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function dd(l){return new al(l)}Xi.Default=zo;var Ai=hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){A(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),jt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ro(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof X?l:new X(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,b=-l(-1/0,1/0),P=0,D=h.length,F;P<D;P++)F=h[P].style.zIndex,h[P]!==this._container&&F&&(b=l(b,+F));isFinite(b)&&(this.options.zIndex=b+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){Nn(this._container,this.options.opacity);var l=+new Date,h=!1,b=!1;for(var P in this._tiles){var D=this._tiles[P];if(!(!D.current||!D.loaded)){var F=Math.min(1,(l-D.loaded)/200);Nn(D.el,F),F<1?h=!0:(D.active?b=!0:this._onOpaqueTile(D),D.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),h&&(q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===l?(this._levels[b].el.style.zIndex=h-Math.abs(l-b),this._onUpdateLevel(b)):(jt(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var P=this._levels[l],D=this._map;return P||(P=this._levels[l]={},P.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=h,P.origin=D.project(D.unproject(D.getPixelOrigin()),l).round(),P.zoom=l,this._setZoomTransform(P,D.getCenter(),D.getZoom()),m(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var l,h,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var P=h.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)jt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,b,P){var D=Math.floor(l/2),F=Math.floor(h/2),Y=b-1,se=new X(+D,+F);se.z=+Y;var ce=this._tileCoordsToKey(se),_e=this._tiles[ce];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),Y>P?this._retainParent(D,F,Y,P):!1)},_retainChildren:function(l,h,b,P){for(var D=2*l;D<2*l+2;D++)for(var F=2*h;F<2*h+2;F++){var Y=new X(D,F);Y.z=b+1;var se=this._tileCoordsToKey(Y),ce=this._tiles[se];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);b+1<P&&this._retainChildren(D,F,b+1,P)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,b,P){var D=Math.round(h);this.options.maxZoom!==void 0&&D>this.options.maxZoom||this.options.minZoom!==void 0&&D<this.options.minZoom?D=void 0:D=this._clampZoom(D);var F=this.options.updateWhenZooming&&D!==this._tileZoom;(!P||F)&&(this._tileZoom=D,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),D!==void 0&&this._update(l),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var b in this._levels)this._setZoomTransform(this._levels[b],l,h)},_setZoomTransform:function(l,h,b){var P=this._map.getZoomScale(b,l.zoom),D=l.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(h,b)).round();Me.any3d?ur(l.el,D,P):Kt(l.el,D)},_resetGrid:function(){var l=this._map,h=l.options.crs,b=this._tileSize=this.getTileSize(),P=this._tileZoom,D=this._map.getPixelWorldBounds(this._tileZoom);D&&(this._globalTileRange=this._pxBoundsToTileRange(D)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],P).x/b.x),Math.ceil(l.project([0,h.wrapLng[1]],P).x/b.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],P).y/b.x),Math.ceil(l.project([h.wrapLat[1],0],P).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,b=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),P=h.getZoomScale(b,this._tileZoom),D=h.project(l,this._tileZoom).floor(),F=h.getSize().divideBy(P*2);return new G(D.subtract(F),D.add(F))},_update:function(l){var h=this._map;if(h){var b=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(l),D=this._pxBoundsToTileRange(P),F=D.getCenter(),Y=[],se=this.options.keepBuffer,ce=new G(D.getBottomLeft().subtract([se,-se]),D.getTopRight().add([se,-se]));if(!(isFinite(D.min.x)&&isFinite(D.min.y)&&isFinite(D.max.x)&&isFinite(D.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ce=this._tiles[_e].coords;(Ce.z!==this._tileZoom||!ce.contains(new X(Ce.x,Ce.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(l,b);return}for(var qe=D.min.y;qe<=D.max.y;qe++)for(var rt=D.min.x;rt<=D.max.x;rt++){var ln=new X(rt,qe);if(ln.z=this._tileZoom,!!this._isValidTile(ln)){var tn=this._tiles[this._tileCoordsToKey(ln)];tn?tn.current=!0:Y.push(ln)}}if(Y.sort(function(Mn,Jo){return Mn.distanceTo(F)-Jo.distanceTo(F)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fn=document.createDocumentFragment();for(rt=0;rt<Y.length;rt++)this._addTile(Y[rt],Fn);this._level.el.appendChild(Fn)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var b=this._globalTileRange;if(!h.wrapLng&&(l.x<b.min.x||l.x>b.max.x)||!h.wrapLat&&(l.y<b.min.y||l.y>b.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(l);return me(this.options.bounds).overlaps(P)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,b=this.getTileSize(),P=l.scaleBy(b),D=P.add(b),F=h.unproject(P,l.z),Y=h.unproject(D,l.z);return[F,Y]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),b=new re(h[0],h[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),b=new X(+h[0],+h[1]);return b.z=+h[2],b},_removeTile:function(l){var h=this._tiles[l];h&&(jt(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Qe(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=m,l.onmousemove=m,Me.ielt9&&this.options.opacity<1&&Nn(l,this.options.opacity)},_addTile:function(l,h){var b=this._getTilePos(l),P=this._tileCoordsToKey(l),D=this.createTile(this._wrapCoords(l),a(this._tileReady,this,l));this._initTile(D),this.createTile.length<2&&V(a(this._tileReady,this,l,null,D)),Kt(D,b),this._tiles[P]={el:D,coords:l,current:!0},h.appendChild(D),this.fire("tileloadstart",{tile:D,coords:l})},_tileReady:function(l,h,b){h&&this.fire("tileerror",{error:h,tile:b,coords:l});var P=this._tileCoordsToKey(l);b=this._tiles[P],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Nn(b.el,0),q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),h||(Qe(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new X(this._wrapX?p(l.x,this._wrapX):l.x,this._wrapY?p(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new G(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Wo(l){return new Ai(l)}var Pi=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=A(this,h),h.detectRetina&&Me.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var b=document.createElement("img");return Ye(b,"load",a(this._tileOnLoad,this,h,b)),Ye(b,"error",a(this._tileOnError,this,h,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(l),b},getTileUrl:function(l){var h={r:Me.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=b),h["-y"]=b}return N(this._url,i(h,this.options))},_tileOnLoad:function(l,h){Me.ielt9?setTimeout(a(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,b){var P=this.options.errorTileUrl;P&&h.getAttribute("src")!==P&&(h.src=P),l(b,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,b=this.options.zoomReverse,P=this.options.zoomOffset;return b&&(l=h-l),l+P},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=m,h.onerror=m,!h.complete)){h.src=O;var b=this._tiles[l].coords;jt(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:b})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",O),Ai.prototype._removeTile.call(this,l)},_tileReady:function(l,h,b){if(!(!this._map||b&&b.getAttribute("src")===O))return Ai.prototype._tileReady.call(this,l,h,b)}});function nc(l,h){return new Pi(l,h)}var Wa=Pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var b=i({},this.defaultWmsParams);for(var P in h)P in this.options||(b[P]=h[P]);h=A(this,h);var D=h.detectRetina&&Me.retina?2:1,F=this.getTileSize();b.width=F.x*D,b.height=F.y*D,this.wmsParams=b},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Pi.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),b=this._crs,P=ne(b.project(h[0]),b.project(h[1])),D=P.min,F=P.max,Y=(this._wmsVersion>=1.3&&this._crs===od?[D.y,D.x,F.y,F.x]:[D.x,D.y,F.x,F.y]).join(","),se=Pi.prototype.getTileUrl.call(this,l);return se+T(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(l,h){return i(this.wmsParams,l),h||this.redraw(),this}});function hd(l,h){return new Wa(l,h)}Pi.WMS=Wa,nc.wms=hd;var Ir=hr.extend({options:{padding:.1},initialize:function(l){A(this,l),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var b=this._map.getZoomScale(h,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),D=this._map.project(this._center,h),F=P.multiplyBy(-b).add(D).subtract(this._map._getNewPixelOrigin(l,h));Me.any3d?ur(this._container,F,b):Kt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),b=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new G(b,b.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rc=Ir.extend({options:{tolerance:0},getEvents:function(){var l=Ir.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Ye(l,"mousemove",this._onMouseMove,this),Ye(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ye(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,jt(this._container),Tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ir.prototype._update.call(this);var l=this._bounds,h=this._container,b=l.getSize(),P=Me.retina?2:1;Kt(h,l.min),h.width=P*b.x,h.height=P*b.y,h.style.width=b.x+"px",h.style.height=b.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[f(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,b=h.next,P=h.prev;b?b.prev=P:this._drawLast=P,P?P.next=b:this._drawFirst=b,delete l._order,delete this._layers[f(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),b=[],P,D;for(D=0;D<h.length;D++){if(P=Number(h[D]),isNaN(P))return;b.push(P)}l.options._dashArray=b}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var b=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)l=P.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var b,P,D,F,Y=l._parts,se=Y.length,ce=this._ctx;if(se){for(ce.beginPath(),b=0;b<se;b++){for(P=0,D=Y[b].length;P<D;P++)F=Y[b][P],ce[P?"lineTo":"moveTo"](F.x,F.y);h&&ce.closePath()}this._fillStroke(ce,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,b=this._ctx,P=Math.max(Math.round(l._radius),1),D=(Math.max(Math.round(l._radiusY),1)||P)/P;D!==1&&(b.save(),b.scale(1,D)),b.beginPath(),b.arc(h.x,h.y/D,P,0,Math.PI*2,!1),D!==1&&b.restore(),this._fillStroke(b,l)}},_fillStroke:function(l,h){var b=h.options;b.fill&&(l.globalAlpha=b.fillOpacity,l.fillStyle=b.fillColor||b.color,l.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=b.opacity,l.lineWidth=b.weight,l.strokeStyle=b.color,l.lineCap=b.lineCap,l.lineJoin=b.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),b,P,D=this._drawFirst;D;D=D.next)b=D.layer,b.options.interactive&&b._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(b))&&(P=b);this._fireEvent(P?[P]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var b,P,D=this._drawFirst;D;D=D.next)b=D.layer,b.options.interactive&&b._containsPoint(h)&&(P=b);P!==this._hoveredLayer&&(this._handleMouseOut(l),P&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([P],l,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,b){this._map._fireDOMEvent(h,b||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var b=h.next,P=h.prev;if(b)b.prev=P;else return;P?P.next=b:b&&(this._drawFirst=b),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var b=h.next,P=h.prev;if(P)P.next=b;else return;b?b.prev=P:P&&(this._drawLast=P),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function ic(l){return Me.canvas?new rc(l):null}var Ko=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),pd={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ir.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=Ko("shape");Qe(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=Ko("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;jt(h),l.removeInteractiveTarget(h),delete this._layers[f(l)]},_updateStyle:function(l){var h=l._stroke,b=l._fill,P=l.options,D=l._container;D.stroked=!!P.stroke,D.filled=!!P.fill,P.stroke?(h||(h=l._stroke=Ko("stroke")),D.appendChild(h),h.weight=P.weight+"px",h.color=P.color,h.opacity=P.opacity,P.dashArray?h.dashStyle=R(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=P.lineCap.replace("butt","flat"),h.joinstyle=P.lineJoin):h&&(D.removeChild(h),l._stroke=null),P.fill?(b||(b=l._fill=Ko("fill")),D.appendChild(b),b.color=P.fillColor||P.color,b.opacity=P.fillOpacity):b&&(D.removeChild(b),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),b=Math.round(l._radius),P=Math.round(l._radiusY||b);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+b+","+P+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){Ro(l._container)},_bringToBack:function(l){Jr(l._container)}},mr=Me.vml?Ko:ct,Qi=Ir.extend({_initContainer:function(){this._container=mr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),Tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ir.prototype._update.call(this);var l=this._bounds,h=l.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,b.setAttribute("width",h.x),b.setAttribute("height",h.y)),Kt(b,l.min),b.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=mr("path");l.options.className&&Qe(h,l.options.className),l.options.interactive&&Qe(h,"leaflet-interactive"),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){jt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[f(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,b=l.options;h&&(b.stroke?(h.setAttribute("stroke",b.color),h.setAttribute("stroke-opacity",b.opacity),h.setAttribute("stroke-width",b.weight),h.setAttribute("stroke-linecap",b.lineCap),h.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?h.setAttribute("stroke-dasharray",b.dashArray):h.removeAttribute("stroke-dasharray"),b.dashOffset?h.setAttribute("stroke-dashoffset",b.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),b.fill?(h.setAttribute("fill",b.fillColor||b.color),h.setAttribute("fill-opacity",b.fillOpacity),h.setAttribute("fill-rule",b.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,_t(l._parts,h))},_updateCircle:function(l){var h=l._point,b=Math.max(Math.round(l._radius),1),P=Math.max(Math.round(l._radiusY),1)||b,D="a"+b+","+P+" 0 1,0 ",F=l._empty()?"M0 0":"M"+(h.x-b)+","+h.y+D+b*2+",0 "+D+-b*2+",0 ";this._setPath(l,F)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){Ro(l._path)},_bringToBack:function(l){Jr(l._path)}});Me.vml&&Qi.include(pd);function sl(l){return Me.svg||Me.vml?new Qi(l):null}ut.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&ic(l)||sl(l)}});var md=ni.extend({initialize:function(l,h){ni.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=me(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Xm(l,h){return new md(l,h)}Qi.create=mr,Qi.pointsToPath=_t,Cr.geometryToLayer=qo,Cr.coordsToLatLng=tl,Cr.coordsToLatLngs=Ga,Cr.latLngToCoords=nl,Cr.latLngsToCoords=rl,Cr.getFeature=Ho,Cr.asFeature=il,ut.mergeOptions({boxZoom:!0});var Zo=Jn.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ft(),qs(),this._startPoint=this._map.mouseEventToContainerPoint(l),Ye(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new G(this._point,this._startPoint),b=h.getSize();Kt(this._box,h.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(jt(this._box),Ot(this._container,"leaflet-crosshair")),jo(),Hs(),Tt(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",Zo),ut.mergeOptions({doubleClickZoom:!0});var gd=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,b=h.getZoom(),P=h.options.zoomDelta,D=l.originalEvent.shiftKey?b-P:b+P;h.options.doubleClickZoom==="center"?h.setZoom(D):h.setZoomAround(l.containerPoint,D)}});ut.addInitHook("addHandler","doubleClickZoom",gd),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oc=Jn.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new dr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ot(this._map._container,"leaflet-grab"),Ot(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=me(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),b=this._initialWorldOffset,P=this._draggable._newPos.x,D=(P-h+b)%l+h-b,F=(P+h+b)%l-h-b,Y=Math.abs(D+b)<Math.abs(F+b)?D:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(l){var h=this._map,b=h.options,P=!b.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),P)h.fire("moveend");else{this._prunePositions(+new Date);var D=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,Y=b.easeLinearity,se=D.multiplyBy(Y/F),ce=se.distanceTo([0,0]),_e=Math.min(b.inertiaMaxSpeed,ce),Ce=se.multiplyBy(_e/ce),qe=_e/(b.inertiaDeceleration*Y),rt=Ce.multiplyBy(-qe/2).round();!rt.x&&!rt.y?h.fire("moveend"):(rt=h._limitOffset(rt,h.options.maxBounds),V(function(){h.panBy(rt,{duration:qe,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",oc),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ac=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Ye(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,b=l.scrollTop||h.scrollTop,P=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(P,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},b=this.keyCodes,P,D;for(P=0,D=b.left.length;P<D;P++)h[b.left[P]]=[-1*l,0];for(P=0,D=b.right.length;P<D;P++)h[b.right[P]]=[l,0];for(P=0,D=b.down.length;P<D;P++)h[b.down[P]]=[0,l];for(P=0,D=b.up.length;P<D;P++)h[b.up[P]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},b=this.keyCodes,P,D;for(P=0,D=b.zoomIn.length;P<D;P++)h[b.zoomIn[P]]=l;for(P=0,D=b.zoomOut.length;P<D;P++)h[b.zoomOut[P]]=-l},_addHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,b=this._map,P;if(h in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(P=this._panKeys[h],l.shiftKey&&(P=ie(P).multiplyBy(3)),b.options.maxBounds&&(P=b._limitOffset(ie(P),b.options.maxBounds)),b.options.worldCopyJump){var D=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(P)));b.panTo(D)}else b.panBy(P)}else if(h in this._zoomKeys)b.setZoom(b.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;fr(l)}}});ut.addInitHook("addHandler","keyboard",ac),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Et=Jn.extend({addHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=Jf(l),b=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var P=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),P),fr(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),b=this._map.options.zoomSnap||0;l._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),D=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,F=b?Math.ceil(D/b)*b:D,Y=l._limitZoom(h+(this._delta>0?F:-F))-h;this._delta=0,this._startTime=null,Y&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+Y):l.setZoomAround(this._lastMousePos,h+Y))}});ut.addInitHook("addHandler","scrollWheelZoom",Et);var sc=600;ut.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var Ka=Jn.extend({addHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new X(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ye(document,"touchend",Ht),Ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),sc),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Tt(document,"touchend",Ht),Tt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new X(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var b=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});b._simulated=!0,h.target.dispatchEvent(b)}});ut.addInitHook("addHandler","tapHold",Ka),ut.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var Yo=Jn.extend({addHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var b=h.mouseEventToContainerPoint(l.touches[0]),P=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(b.add(P)._divideBy(2))),this._startDist=b.distanceTo(P),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),Ht(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,b=h.mouseEventToContainerPoint(l.touches[0]),P=h.mouseEventToContainerPoint(l.touches[1]),D=b.distanceTo(P)/this._startDist;if(this._zoom=h.getScaleZoom(D,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&D<1||this._zoom>h.getMaxZoom()&&D>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,D===1)return}else{var F=b._add(P)._divideBy(2)._subtract(this._centerPoint);if(D===1&&F.x===0&&F.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var Y=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Y,this,!0),Ht(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",Yo),ut.BoxZoom=Zo,ut.DoubleClickZoom=gd,ut.Drag=oc,ut.Keyboard=ac,ut.ScrollWheelZoom=Et,ut.TapHold=Ka,ut.TouchZoom=Yo,n.Bounds=G,n.Browser=Me,n.CRS=$e,n.Canvas=rc,n.Circle=Qs,n.CircleMarker=Xs,n.Class=J,n.Control=$n,n.DivIcon=al,n.DivOverlay=Nr,n.DomEvent=Ws,n.DomUtil=Ba,n.Draggable=dr,n.Evented=de,n.FeatureGroup=ei,n.GeoJSON=Cr,n.GridLayer=Ai,n.Handler=Jn,n.Icon=Xi,n.ImageOverlay=Ei,n.LatLng=ge,n.LatLngBounds=re,n.Layer=hr,n.LayerGroup=Si,n.LineUtil=id,n.Map=ut,n.Marker=ti,n.Mixin=Hu,n.Path=Ti,n.Point=X,n.PolyUtil=Um,n.Polygon=ni,n.Polyline=Bn,n.Popup=ol,n.PosAnimation=Ks,n.Projection=Vm,n.Rectangle=md,n.Renderer=Ir,n.SVG=Qi,n.SVGOverlay=ec,n.TileLayer=Pi,n.Tooltip=Vo,n.Transformation=ze,n.Util=ee,n.VideoOverlay=Qu,n.bind=a,n.bounds=ne,n.canvas=ic,n.circle=Ha,n.circleMarker=ld,n.control=wi,n.divIcon=dd,n.extend=i,n.featureGroup=ad,n.geoJSON=ud,n.geoJson=pr,n.gridLayer=Wo,n.icon=sd,n.imageOverlay=cd,n.latLng=xe,n.latLngBounds=me,n.layerGroup=qa,n.map=bi,n.marker=Zm,n.point=ie,n.polygon=Jm,n.polyline=Ym,n.popup=Go,n.rectangle=Xm,n.setOptions=A,n.stamp=f,n.svg=sl,n.svgOverlay=tc,n.tileLayer=nc,n.tooltip=Va,n.transformation=ye,n.version=r,n.videoOverlay=fd;var vd=window.L;n.noConflict=function(){return window.L=vd,this},window.L=n}))})(jc,jc.exports)),jc.exports}var Cs=Xq();const iA=yt(Cs);function Df(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Xp(t,e){return e==null?function(r,i){const o=K.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=K.useRef();o.current||(o.current=t(r,i));const a=K.useRef(r),{instance:u}=o.current;return K.useEffect(function(){a.current!==r&&(e(u,r,a.current),a.current=r)},[u,r,i]),o}}function mR(t,e){K.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function gR(t){return function(n){const r=Yp(),i=t(Jp(n,r),r);return cR(r.map,n.attribution),Ew(i.current,n.eventHandlers),mR(i.current,r),i}}function Qq(t,e){const n=K.useRef();K.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function e5(t){return function(n){const r=Yp(),i=t(Jp(n,r),r);return Ew(i.current,n.eventHandlers),mR(i.current,r),Qq(i.current,n),i}}function t5(t,e){const n=Xp(t,e),r=gR(n);return pR(r)}function vR(t,e){const n=Xp(t),r=Yq(n,e);return Kq(r)}function n5(t,e){const n=Xp(t,e),r=e5(n);return pR(r)}function r5(t,e){const n=Xp(t,e),r=gR(n);return Zq(r)}function i5(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function o5(){return Yp().map}function Bx(){return Bx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function a5({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:u,whenReady:f,zoom:d,...p},m){const[_]=K.useState({className:i,id:o,style:u}),[S,E]=K.useState(null);K.useImperativeHandle(m,()=>S?.map??null,[S]);const A=K.useCallback(M=>{if(M!==null&&S===null){const N=new Cs.Map(M,p);n!=null&&d!=null?N.setView(n,d):t!=null&&N.fitBounds(t,e),f!=null&&N.whenReady(f),E(Wq(N))}},[]);K.useEffect(()=>()=>{S?.map.remove()},[S]);const T=S?H.createElement(hR,{value:S},r):a??null;return H.createElement("div",Bx({},_,{ref:A}),T)}const s5=K.forwardRef(a5),l5=t5(function({position:e,...n},r){const i=new Cs.Marker(e,n);return Df(i,fR(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),u5=n5(function({positions:e,...n},r){const i=new Cs.Polyline(e,n);return Df(i,fR(r,{overlayContainer:i}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),c5=vR(function(e,n){const r=new Cs.Popup(e,n.overlayContainer);return Df(r,n)},function(e,n,{position:r},i){K.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),i(!0))}function f(d){d.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:f}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){n.map.off({popupopen:u,popupclose:f}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),f5=r5(function({url:e,...n},r){const i=new Cs.TileLayer(e,Jp(n,r));return Df(i,r)},function(e,n,r){i5(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),d5=vR(function(e,n){const r=new Cs.Tooltip(e,n.overlayContainer);return Df(r,n)},function(e,n,{position:r},i){K.useEffect(function(){const a=n.overlayContainer;if(a==null)return;const{instance:u}=e,f=p=>{p.tooltip===u&&(r!=null&&u.setLatLng(r),u.update(),i(!0))},d=p=>{p.tooltip===u&&i(!1)};return a.on({tooltipopen:f,tooltipclose:d}),a.bindTooltip(u),function(){a.off({tooltipopen:f,tooltipclose:d}),a._map!=null&&a.unbindTooltip()}},[e,n,i,r])}),h5=({bounds:t})=>{const e=o5();return K.useEffect(()=>{t&&e.fitBounds(t,{padding:[50,50],maxZoom:18,animate:!0})},[t,e]),null},p5=({records:t,coordRecords:e,mapPlot:n,setMapPlot:r,onEdit:i,onNewSurvey:o,onSaveSpacing:a})=>{const[u,f]=K.useState(!1),[d,p]=K.useState(""),[m,_]=K.useState(""),S=K.useMemo(()=>{const N=new Set;return t.forEach(R=>{(!n||R.plot_code===n)&&N.add(xa(R))}),Array.from(N).sort()},[t,n]),E=K.useMemo(()=>{const N=new Set;return t.forEach(R=>{const j=!n||R.plot_code===n,O=!d||xa(R)===d;j&&O&&N.add(R.species_name)}),Array.from(N).sort()},[t,n,d]),A=K.useMemo(()=>e.filter(N=>{if(n&&N.plot_code!==n)return!1;const R=t.filter(O=>O.tree_code===N.tree_code);if(R.length===0)return!d&&!m;R.sort((O,k)=>new Date(k.survey_date).getTime()-new Date(O.survey_date).getTime());const j=R[0];return!(d&&xa(j)!==d||m&&j.species_name!==m)}),[e,t,n,d,m]),T=K.useMemo(()=>{if(A.length===0)return null;const N=A.map(R=>[Number(R.lat),Number(R.lng)]).filter(([R,j])=>!isNaN(R)&&!isNaN(j)&&R!==0&&j!==0);return N.length===0?null:iA.latLngBounds(N)},[A]),M=K.useMemo(()=>{if(!u)return null;const N=A.map(U=>({...U,lat:Number(U.lat),lng:Number(U.lng)})).filter(U=>!isNaN(U.lat)&&!isNaN(U.lng)&&U.lat!==0&&U.lng!==0);if(N.length<2)return null;const R=[],j=[];if(N.forEach((U,z)=>{let Z=1/0,V=-1;if(N.forEach((q,ee)=>{if(z===ee)return;const J=Fj(U.lat,U.lng,q.lat,q.lng);J<Z&&(Z=J,V=ee)}),V!==-1){const q=N[V],ee=[U.tree_code,q.tree_code].sort().join("-");R.some(J=>[J.code,U.tree_code].sort().join("-")===ee)||R.push({from:[U.lat,U.lng],to:[q.lat,q.lng],distance:Z,code:U.tree_code}),j.push(Z)}}),j.length===0)return null;const O=j.reduce((U,z)=>U+z,0)/j.length,k=Math.min(...j),$=Math.max(...j);return{connections:R,avg:O,min:k,max:$,count:N.length}},[u,A]);return y.jsxs("div",{className:"flex flex-col h-full relative",children:[y.jsxs("div",{className:"absolute top-4 left-4 z-[1000] flex flex-col gap-2 w-64 md:w-auto",children:[y.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-xl border border-gray-200 flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[y.jsx(Qj,{size:14,className:"text-green-600"}),y.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:""})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[y.jsx("div",{className:"flex flex-col gap-0.5",children:y.jsxs("select",{value:n,onChange:N=>{r(N.target.value),p(""),_("")},className:"text-xs font-bold text-gray-700 bg-gray-50 border border-gray-200 rounded-lg p-2 outline-none cursor-pointer",children:[y.jsx("option",{value:"",children:"  "}),Ri.map(N=>y.jsx("option",{value:N.code,children:N.code},N.code))]})}),y.jsx("div",{className:"flex flex-col gap-0.5",children:y.jsxs("select",{value:d,onChange:N=>{p(N.target.value),_("")},className:"text-xs font-bold text-gray-700 bg-gray-50 border border-gray-200 rounded-lg p-2 outline-none cursor-pointer",children:[y.jsx("option",{value:"",children:"  "}),S.map(N=>y.jsx("option",{value:N,children:N},N))]})}),y.jsx("div",{className:"flex flex-col gap-0.5",children:y.jsxs("select",{value:m,onChange:N=>_(N.target.value),disabled:E.length===0,className:"text-xs font-bold text-gray-700 bg-gray-50 border border-gray-200 rounded-lg p-2 outline-none cursor-pointer disabled:opacity-50",children:[y.jsx("option",{value:"",children:"  "}),E.map(N=>y.jsx("option",{value:N,children:N},N))]})})]})]}),y.jsxs("button",{onClick:()=>f(!u),className:`p-2.5 rounded-xl shadow-lg border flex items-center justify-center gap-2 transition-all font-bold text-xs ${u?"bg-blue-600 text-white border-blue-700":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:[y.jsx(_1,{size:16}),u?"":""]})]}),y.jsx("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col gap-3 items-end",children:y.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-3 rounded-xl shadow-xl border border-gray-200 hidden md:block w-48",children:[y.jsxs("h4",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400 mb-3 flex items-center gap-1.5",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})," "]}),y.jsxs("div",{className:"flex flex-col gap-2.5",children:[y.jsxs("div",{className:"flex items-center gap-2.5 text-[11px] font-bold text-gray-700",children:[y.jsx("span",{className:"w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white shadow-sm"}),"  (Alive)"]}),y.jsxs("div",{className:"flex items-center gap-2.5 text-[11px] font-bold text-gray-700",children:[y.jsx("span",{className:"w-3.5 h-3.5 bg-red-500 rounded-full border-2 border-white shadow-sm"}),"  (Dead)"]}),y.jsxs("div",{className:"flex items-center gap-2.5 text-[11px] font-bold text-gray-700",children:[y.jsx("span",{className:"w-3.5 h-3.5 bg-gray-400 rounded-full border-2 border-white shadow-sm"})," "]})]}),A.length>0&&y.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100 text-[10px] text-gray-400",children:[": ",y.jsx("span",{className:"text-green-700 font-bold",children:A.length})," "]})]})}),M&&y.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-[1000] w-full max-w-xs px-4 pointer-events-none",children:y.jsxs("div",{className:"bg-blue-600/95 backdrop-blur text-white p-3 rounded-xl shadow-2xl border border-blue-500 w-full animate-in fade-in slide-in-from-bottom-4 duration-300 pointer-events-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold text-xs",children:[y.jsx(_1,{size:14,className:"text-blue-200"}),"  ()"]}),a&&y.jsx("button",{onClick:()=>a(M),className:"bg-white/20 hover:bg-white/30 p-1.5 rounded-lg transition-colors",title:"",children:y.jsx(qp,{size:14})})]}),y.jsxs("div",{className:"flex items-end justify-between gap-4 mb-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] text-blue-200 uppercase font-bold tracking-widest mb-0.5",children:""}),y.jsxs("p",{className:"text-2xl font-mono font-bold leading-none",children:[M.avg.toFixed(2)," ",y.jsx("span",{className:"text-[10px] font-normal opacity-70",children:"m"})]})]}),y.jsxs("div",{className:"flex gap-3 text-right",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] text-blue-200 uppercase font-bold",children:""}),y.jsxs("p",{className:"text-xs font-mono font-bold",children:[M.min.toFixed(1),"m"]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[8px] text-blue-200 uppercase font-bold",children:""}),y.jsxs("p",{className:"text-xs font-mono font-bold",children:[M.max.toFixed(1),"m"]})]})]})]}),y.jsxs("div",{className:"text-[8px] text-blue-100 flex items-start gap-1.5 leading-relaxed bg-blue-800/30 p-1.5 rounded-lg",children:[y.jsx(fk,{size:10,className:"shrink-0 mt-0.5"}),y.jsx("span",{children:" "})]})]})}),y.jsxs(s5,{center:[18.49,98.38],zoom:14,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[y.jsx(f5,{attribution:' <a href="https://www.google.com/maps">Google Satellite</a>',url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20}),y.jsx(h5,{bounds:T}),M?.connections.map((N,R)=>y.jsx(u5,{positions:[N.from,N.to],color:"#3b82f6",weight:2,dashArray:"5, 5",opacity:.8,children:y.jsx(d5,{permanent:!0,direction:"center",className:"spacing-tooltip",children:y.jsxs("span",{className:"font-mono text-[10px] font-bold text-blue-700 bg-white/95 px-1.5 py-0.5 rounded-lg shadow-md border border-blue-200",children:[N.distance.toFixed(1),"m"]})})},`spacing-${R}`)),A.map((N,R)=>{if(N.lat==null||N.lat===""||N.lng==null||N.lng==="")return null;const j=Number(N.lat),O=Number(N.lng);if(isNaN(j)||isNaN(O)||j===0||O===0)return null;const k=t.filter(q=>q.tree_code===N.tree_code);k.sort((q,ee)=>new Date(ee.survey_date).getTime()-new Date(q.survey_date).getTime());const $=k[0],U=$?.status==="alive",z=$?.status==="dead",Z=U?"#22c55e":z?"#ef4444":"#9ca3af",V=new iA.DivIcon({html:`<div style="background-color: ${Z}; width: 14px; height: 14px; border: 2.5px solid white; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.5)"></div>`,className:"custom-tree-marker",iconSize:[14,14],iconAnchor:[7,7]});return y.jsx(l5,{position:[j,O],icon:V,children:y.jsx(c5,{children:y.jsxs("div",{className:"p-1 min-w-[220px]",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-100",children:[y.jsx("div",{className:"font-bold text-green-900 text-sm tracking-tight",children:N.tree_code}),y.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold ${U?"bg-green-100 text-green-700":z?"bg-red-100 text-red-700":"bg-gray-100"}`,children:U?"":z?"":"?"})]}),y.jsx("div",{className:"text-[10px] text-gray-500 mb-3 font-mono bg-gray-50 p-2 rounded-lg border border-gray-100",children:$?.tag_label||""}),y.jsxs("div",{className:"grid grid-cols-2 gap-y-1.5 text-xs mb-4 px-1",children:[y.jsx("span",{className:"text-gray-400",children:":"}),y.jsx("span",{className:"font-bold text-gray-800",children:$?.species_name||""}),y.jsx("span",{className:"text-gray-400",children:"RCD:"}),y.jsxs("span",{className:"font-mono font-bold text-blue-600",children:[$?.dbh_cm||""," cm"]}),y.jsx("span",{className:"text-gray-400",children:":"}),y.jsxs("span",{className:"font-mono font-bold text-green-600",children:[$?.height_m||""," m"]})]}),$&&y.jsxs("div",{className:"mb-4 bg-gray-50 p-2.5 rounded-xl text-[10px] text-gray-600 space-y-1.5 border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(hw,{size:12,className:"text-gray-400"}),y.jsxs("span",{children:[": ",y.jsx("b",{className:"text-gray-800",children:$.survey_date})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(di,{size:12,className:"text-gray-400"}),y.jsxs("span",{children:[": ",y.jsx("b",{className:"text-gray-800",children:$.recorder||"-"})]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[$&&y.jsxs("button",{onClick:()=>i($),className:"flex-1 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 text-[10px] py-2 rounded-lg flex items-center justify-center gap-1.5 transition-all font-bold",children:[y.jsx(Jc,{size:12})," "]}),y.jsxs("button",{onClick:()=>$?o($):alert(""),className:"flex-1 bg-green-700 hover:bg-green-800 text-white text-[10px] py-2 rounded-lg flex items-center justify-center gap-1.5 transition-all font-bold shadow-md",children:[y.jsx(Yc,{size:12})," "]})]})]})})},R)})]}),y.jsx("style",{children:`
        .spacing-tooltip {
          background: transparent !important;
          border: none !important;
          box-shadow: none !important;
        }
        .spacing-tooltip::before {
          display: none !important;
        }
        .custom-tree-marker {
          transition: transform 0.2s ease-out;
        }
        .custom-tree-marker:hover {
          transform: scale(1.3);
          z-index: 1000 !important;
        }
      `})]})};function yR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yR(t))&&(r&&(r+=" "),r+=e);return r}var gv,oA;function ar(){if(oA)return gv;oA=1;var t=Array.isArray;return gv=t,gv}var vv,aA;function _R(){if(aA)return vv;aA=1;var t=typeof rh=="object"&&rh&&rh.Object===Object&&rh;return vv=t,vv}var yv,sA;function $i(){if(sA)return yv;sA=1;var t=_R(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return yv=n,yv}var _v,lA;function jf(){if(lA)return _v;lA=1;var t=$i(),e=t.Symbol;return _v=e,_v}var xv,uA;function m5(){if(uA)return xv;uA=1;var t=jf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var u=n.call(a,i),f=a[i];try{a[i]=void 0;var d=!0}catch{}var p=r.call(a);return d&&(u?a[i]=f:delete a[i]),p}return xv=o,xv}var bv,cA;function g5(){if(cA)return bv;cA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return bv=n,bv}var wv,fA;function Eo(){if(fA)return wv;fA=1;var t=jf(),e=m5(),n=g5(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):n(u)}return wv=a,wv}var Sv,dA;function Ao(){if(dA)return Sv;dA=1;function t(e){return e!=null&&typeof e=="object"}return Sv=t,Sv}var Tv,hA;function wu(){if(hA)return Tv;hA=1;var t=Eo(),e=Ao(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Tv=r,Tv}var Ev,pA;function Aw(){if(pA)return Ev;pA=1;var t=ar(),e=wu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Ev=i,Ev}var Av,mA;function Ca(){if(mA)return Av;mA=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Av=t,Av}var Pv,gA;function Pw(){if(gA)return Pv;gA=1;var t=Eo(),e=Ca(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(u){if(!e(u))return!1;var f=t(u);return f==r||f==i||f==n||f==o}return Pv=a,Pv}var Cv,vA;function v5(){if(vA)return Cv;vA=1;var t=$i(),e=t["__core-js_shared__"];return Cv=e,Cv}var Nv,yA;function y5(){if(yA)return Nv;yA=1;var t=v5(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Nv=n,Nv}var Iv,_A;function xR(){if(_A)return Iv;_A=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Iv=n,Iv}var Mv,xA;function _5(){if(xA)return Mv;xA=1;var t=Pw(),e=y5(),n=Ca(),r=xR(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,f=a.toString,d=u.hasOwnProperty,p=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(_){if(!n(_)||e(_))return!1;var S=t(_)?p:o;return S.test(r(_))}return Mv=m,Mv}var Ov,bA;function x5(){if(bA)return Ov;bA=1;function t(e,n){return e?.[n]}return Ov=t,Ov}var kv,wA;function Ns(){if(wA)return kv;wA=1;var t=_5(),e=x5();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return kv=n,kv}var Rv,SA;function Qp(){if(SA)return Rv;SA=1;var t=Ns(),e=t(Object,"create");return Rv=e,Rv}var Lv,TA;function b5(){if(TA)return Lv;TA=1;var t=Qp();function e(){this.__data__=t?t(null):{},this.size=0}return Lv=e,Lv}var Dv,EA;function w5(){if(EA)return Dv;EA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Dv=t,Dv}var jv,AA;function S5(){if(AA)return jv;AA=1;var t=Qp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var u=a[o];return u===e?void 0:u}return r.call(a,o)?a[o]:void 0}return jv=i,jv}var $v,PA;function T5(){if(PA)return $v;PA=1;var t=Qp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return $v=r,$v}var Bv,CA;function E5(){if(CA)return Bv;CA=1;var t=Qp(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Bv=n,Bv}var Fv,NA;function A5(){if(NA)return Fv;NA=1;var t=b5(),e=w5(),n=S5(),r=T5(),i=E5();function o(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var d=a[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Fv=o,Fv}var Uv,IA;function P5(){if(IA)return Uv;IA=1;function t(){this.__data__=[],this.size=0}return Uv=t,Uv}var zv,MA;function Cw(){if(MA)return zv;MA=1;function t(e,n){return e===n||e!==e&&n!==n}return zv=t,zv}var qv,OA;function em(){if(OA)return qv;OA=1;var t=Cw();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return qv=e,qv}var Hv,kA;function C5(){if(kA)return Hv;kA=1;var t=em(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var u=o.length-1;return a==u?o.pop():n.call(o,a,1),--this.size,!0}return Hv=r,Hv}var Gv,RA;function N5(){if(RA)return Gv;RA=1;var t=em();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Gv=e,Gv}var Vv,LA;function I5(){if(LA)return Vv;LA=1;var t=em();function e(n){return t(this.__data__,n)>-1}return Vv=e,Vv}var Wv,DA;function M5(){if(DA)return Wv;DA=1;var t=em();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Wv=e,Wv}var Kv,jA;function tm(){if(jA)return Kv;jA=1;var t=P5(),e=C5(),n=N5(),r=I5(),i=M5();function o(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var d=a[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Kv=o,Kv}var Zv,$A;function Nw(){if($A)return Zv;$A=1;var t=Ns(),e=$i(),n=t(e,"Map");return Zv=n,Zv}var Yv,BA;function O5(){if(BA)return Yv;BA=1;var t=A5(),e=tm(),n=Nw();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Yv=r,Yv}var Jv,FA;function k5(){if(FA)return Jv;FA=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Jv=t,Jv}var Xv,UA;function nm(){if(UA)return Xv;UA=1;var t=k5();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Xv=e,Xv}var Qv,zA;function R5(){if(zA)return Qv;zA=1;var t=nm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Qv=e,Qv}var ey,qA;function L5(){if(qA)return ey;qA=1;var t=nm();function e(n){return t(this,n).get(n)}return ey=e,ey}var ty,HA;function D5(){if(HA)return ty;HA=1;var t=nm();function e(n){return t(this,n).has(n)}return ty=e,ty}var ny,GA;function j5(){if(GA)return ny;GA=1;var t=nm();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return ny=e,ny}var ry,VA;function Iw(){if(VA)return ry;VA=1;var t=O5(),e=R5(),n=L5(),r=D5(),i=j5();function o(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var d=a[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ry=o,ry}var iy,WA;function bR(){if(WA)return iy;WA=1;var t=Iw(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,u=i?i.apply(this,a):a[0],f=o.cache;if(f.has(u))return f.get(u);var d=r.apply(this,a);return o.cache=f.set(u,d)||f,d};return o.cache=new(n.Cache||t),o}return n.Cache=t,iy=n,iy}var oy,KA;function $5(){if(KA)return oy;KA=1;var t=bR(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return oy=n,oy}var ay,ZA;function B5(){if(ZA)return ay;ZA=1;var t=$5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,u,f,d){o.push(f?d.replace(n,"$1"):u||a)}),o});return ay=r,ay}var sy,YA;function Mw(){if(YA)return sy;YA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return sy=t,sy}var ly,JA;function F5(){if(JA)return ly;JA=1;var t=jf(),e=Mw(),n=ar(),r=wu(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(u){if(typeof u=="string")return u;if(n(u))return e(u,a)+"";if(r(u))return o?o.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return ly=a,ly}var uy,XA;function wR(){if(XA)return uy;XA=1;var t=F5();function e(n){return n==null?"":t(n)}return uy=e,uy}var cy,QA;function SR(){if(QA)return cy;QA=1;var t=ar(),e=Aw(),n=B5(),r=wR();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return cy=i,cy}var fy,eP;function rm(){if(eP)return fy;eP=1;var t=wu();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return fy=e,fy}var dy,tP;function Ow(){if(tP)return dy;tP=1;var t=SR(),e=rm();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return dy=n,dy}var hy,nP;function TR(){if(nP)return hy;nP=1;var t=Ow();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return hy=e,hy}var U5=TR();const Er=yt(U5);var py,rP;function z5(){if(rP)return py;rP=1;function t(e){return e==null}return py=t,py}var q5=z5();const Ve=yt(q5);var my,iP;function H5(){if(iP)return my;iP=1;var t=Eo(),e=ar(),n=Ao(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return my=i,my}var G5=H5();const ws=yt(G5);var V5=Pw();const Ke=yt(V5);var W5=Ca();const Su=yt(W5);var gy={exports:{}},bt={};var oP;function K5(){if(oP)return bt;oP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var M=T.$$typeof;switch(M){case t:switch(T=T.type,T){case n:case i:case r:case d:case p:return T;default:switch(T=T&&T.$$typeof,T){case u:case a:case f:case _:case m:case o:return T;default:return M}}case e:return M}}}return bt.ContextConsumer=a,bt.ContextProvider=o,bt.Element=t,bt.ForwardRef=f,bt.Fragment=n,bt.Lazy=_,bt.Memo=m,bt.Portal=e,bt.Profiler=i,bt.StrictMode=r,bt.Suspense=d,bt.SuspenseList=p,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(T){return A(T)===a},bt.isContextProvider=function(T){return A(T)===o},bt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},bt.isForwardRef=function(T){return A(T)===f},bt.isFragment=function(T){return A(T)===n},bt.isLazy=function(T){return A(T)===_},bt.isMemo=function(T){return A(T)===m},bt.isPortal=function(T){return A(T)===e},bt.isProfiler=function(T){return A(T)===i},bt.isStrictMode=function(T){return A(T)===r},bt.isSuspense=function(T){return A(T)===d},bt.isSuspenseList=function(T){return A(T)===p},bt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===d||T===p||T===S||typeof T=="object"&&T!==null&&(T.$$typeof===_||T.$$typeof===m||T.$$typeof===o||T.$$typeof===a||T.$$typeof===f||T.$$typeof===E||T.getModuleId!==void 0)},bt.typeOf=A,bt}var aP;function Z5(){return aP||(aP=1,gy.exports=K5()),gy.exports}var Y5=Z5(),vy,sP;function ER(){if(sP)return vy;sP=1;var t=Eo(),e=Ao(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return vy=r,vy}var yy,lP;function J5(){if(lP)return yy;lP=1;var t=ER();function e(n){return t(n)&&n!=+n}return yy=e,yy}var X5=J5();const Tu=yt(X5);var Q5=ER();const eH=yt(Q5);var Hn=function(e){return e===0?0:e>0?1:-1},ps=function(e){return ws(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return eH(e)&&!Tu(e)},tH=function(e){return Ve(e)},hn=function(e){return Ee(e)||ws(e)},nH=0,Na=function(e){var n=++nH;return"".concat(e||"").concat(n)},Gn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!ws(e))return r;var o;if(ps(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Tu(o)&&(o=r),i&&o>n&&(o=n),o},ma=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},rH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Wt=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function $h(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Er(r,e))===n})}var iH=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,u=1/0,f=-1/0,d=0,p=0,m=0;m<n;m++)d=e[m].cx||0,p=e[m].cy||0,r+=d,i+=p,o+=d*p,a+=d*d,u=Math.min(u,d),f=Math.max(f,d);var _=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:u,xmax:f,a:_,b:(i-_*r)/n}},oH=function(e,n){return Ee(e)&&Ee(n)?e-n:ws(e)&&ws(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Bl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}var aH=["viewBox","children"],sH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uP=["points","pathLength"],_y={svg:aH,polygon:uP,polyline:uP},kw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(K.isValidElement(e)&&(r=e.props),!Su(r))return null;var i={};return Object.keys(r).forEach(function(o){kw.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},lH=function(e,n,r){return function(i){return e(n,r,i),null}},Sa=function(e,n,r){if(!Su(e)||Fx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];kw.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=lH(a,n,r))}),i},uH=["children"],cH=["children"];function cP(t,e){if(t==null)return{};var n=fH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}var fP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dP=null,xy=null,Rw=function t(e){if(e===dP&&Array.isArray(xy))return xy;var n=[];return K.Children.forEach(e,function(r){Ve(r)||(Y5.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xy=n,dP=e,n};function Wn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return vo(i)}):r=[vo(e)],Rw(t).forEach(function(i){var o=Er(i,"type.displayName")||Er(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function br(t,e){var n=Wn(t,e);return n&&n[0]}var hP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},dH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hH=function(e){return e&&e.type&&ws(e.type)&&dH.indexOf(e.type)>=0},AR=function(e){return e&&Ux(e)==="object"&&"clipDot"in e},pH=function(e,n,r,i){var o,a=(o=_y?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ke(e)&&(i&&a.includes(n)||sH.includes(n))||r&&kw.includes(n)},je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(K.isValidElement(e)&&(i=e.props),!Su(i))return null;var o={};return Object.keys(i).forEach(function(a){var u;pH((u=i)===null||u===void 0?void 0:u[a],a,n,r)&&(o[a]=i[a])}),o},zx=function t(e,n){if(e===n)return!0;var r=K.Children.count(e);if(r!==K.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!pP(o,a))return!1}return!0},pP=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,o=cP(r,uH),a=n.props||{},u=a.children,f=cP(a,cH);return i&&u?Bl(o,f)&&zx(i,u):!i&&!u?Bl(o,f):!1}return!1},mP=function(e,n){var r=[],i={};return Rw(e).forEach(function(o,a){if(hH(o))r.push(o);else if(o){var u=vo(o.type),f=n[u]||{},d=f.handler,p=f.once;if(d&&(!p||!i[u])){var m=d(o,u,a);r.push(m),i[u]=!0}}}),r},mH=function(e){var n=e&&e.type;return n&&fP[n]?fP[n]:null},gH=function(e,n){return Rw(n).indexOf(e)},vH=["children","width","height","viewBox","className","style","title","desc"];function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function yH(t,e){if(t==null)return{};var n=_H(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _H(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,u=t.title,f=t.desc,d=yH(t,vH),p=i||{width:n,height:r,x:0,y:0},m=nt("recharts-surface",o);return H.createElement("svg",qx({},je(d,!0,"svg"),{className:m,width:n,height:r,style:a,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),H.createElement("title",null,u),H.createElement("desc",null,f),e)}var xH=["children","className"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function bH(t,e){if(t==null)return{};var n=wH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var it=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=bH(t,xH),o=nt("recharts-layer",r);return H.createElement("g",Gx({className:o},je(i,!0),{ref:e}),n)}),mi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},by,gP;function SH(){if(gP)return by;gP=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return by=t,by}var wy,vP;function TH(){if(vP)return wy;vP=1;var t=SH();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return wy=e,wy}var Sy,yP;function PR(){if(yP)return Sy;yP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+t+i+o+"]");function f(d){return u.test(d)}return Sy=f,Sy}var Ty,_P;function EH(){if(_P)return Ty;_P=1;function t(e){return e.split("")}return Ty=t,Ty}var Ey,xP;function AH(){if(xP)return Ey;xP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",u="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",E=d+"?",A="["+o+"]?",T="(?:"+S+"(?:"+[p,m,_].join("|")+")"+A+E+")*",M=A+E+T,N="(?:"+[p+u+"?",u,m,_,a].join("|")+")",R=RegExp(f+"(?="+f+")|"+N+M,"g");function j(O){return O.match(R)||[]}return Ey=j,Ey}var Ay,bP;function PH(){if(bP)return Ay;bP=1;var t=EH(),e=PR(),n=AH();function r(i){return e(i)?n(i):t(i)}return Ay=r,Ay}var Py,wP;function CH(){if(wP)return Py;wP=1;var t=TH(),e=PR(),n=PH(),r=wR();function i(o){return function(a){a=r(a);var u=e(a)?n(a):void 0,f=u?u[0]:a.charAt(0),d=u?t(u,1).join(""):a.slice(1);return f[o]()+d}}return Py=i,Py}var Cy,SP;function NH(){if(SP)return Cy;SP=1;var t=CH(),e=t("toUpperCase");return Cy=e,Cy}var IH=NH();const im=yt(IH);function Lt(t){return function(){return t}}const CR=Math.cos,Fh=Math.sin,yi=Math.sqrt,Uh=Math.PI,om=2*Uh,Vx=Math.PI,Wx=2*Vx,cs=1e-6,MH=Wx-cs;function NR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function OH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NR:OH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,f=r-e,d=i-n,p=a-e,m=u-n,_=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>cs)if(!(Math.abs(m*f-d*p)>cs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-a,E=i-u,A=f*f+d*d,T=S*S+E*E,M=Math.sqrt(A),N=Math.sqrt(_),R=o*Math.tan((Vx-Math.acos((A+_-T)/(2*M*N)))/2),j=R/N,O=R/M;Math.abs(j-1)>cs&&this._append`L${e+j*p},${n+j*m}`,this._append`A${o},${o},0,0,${+(m*S>p*E)},${this._x1=e+O*f},${this._y1=n+O*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,p=n+f,m=1^a,_=a?i-o:o-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>cs||Math.abs(this._y1-p)>cs)&&this._append`L${d},${p}`,r&&(_<0&&(_=_%Wx+Wx),_>MH?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=p}`:_>cs&&this._append`A${r},${r},0,${+(_>=Vx)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Lw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kH(e)}function Dw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IR(t){this._context=t}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function am(t){return new IR(t)}function MR(t){return t[0]}function OR(t){return t[1]}function kR(t,e){var n=Lt(!0),r=null,i=am,o=null,a=Lw(u);t=typeof t=="function"?t:t===void 0?MR:Lt(t),e=typeof e=="function"?e:e===void 0?OR:Lt(e);function u(f){var d,p=(f=Dw(f)).length,m,_=!1,S;for(r==null&&(o=i(S=a())),d=0;d<=p;++d)!(d<p&&n(m=f[d],d,f))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(m,d,f),+e(m,d,f));if(S)return o=null,S+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Lt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function ch(t,e,n){var r=null,i=Lt(!0),o=null,a=am,u=null,f=Lw(d);t=typeof t=="function"?t:t===void 0?MR:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OR:Lt(+n);function d(m){var _,S,E,A=(m=Dw(m)).length,T,M=!1,N,R=new Array(A),j=new Array(A);for(o==null&&(u=a(N=f())),_=0;_<=A;++_){if(!(_<A&&i(T=m[_],_,m))===M)if(M=!M)S=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=_-1;E>=S;--E)u.point(R[E],j[E]);u.lineEnd(),u.areaEnd()}M&&(R[_]=+t(T,_,m),j[_]=+e(T,_,m),u.point(r?+r(T,_,m):R[_],n?+n(T,_,m):j[_]))}if(N)return u=null,N+""||null}function p(){return kR().defined(i).curve(a).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Lt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Lt(+m),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Lt(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,o!=null&&(u=a(o)),d):a},d.context=function(m){return arguments.length?(m==null?o=u=null:u=a(o=m),d):o},d}class RR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function RH(t){return new RR(t,!0)}function LH(t){return new RR(t,!1)}const jw={draw(t,e){const n=yi(e/Uh);t.moveTo(n,0),t.arc(0,0,n,0,om)}},DH={draw(t,e){const n=yi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LR=yi(1/3),jH=LR*2,$H={draw(t,e){const n=yi(e/jH),r=n*LR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},BH={draw(t,e){const n=yi(e),r=-n/2;t.rect(r,r,n,n)}},FH=.8908130915292852,DR=Fh(Uh/10)/Fh(7*Uh/10),UH=Fh(om/10)*DR,zH=-CR(om/10)*DR,qH={draw(t,e){const n=yi(e*FH),r=UH*n,i=zH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=om*o/5,u=CR(a),f=Fh(a);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Ny=yi(3),HH={draw(t,e){const n=-yi(e/(Ny*3));t.moveTo(0,n*2),t.lineTo(-Ny*n,-n),t.lineTo(Ny*n,-n),t.closePath()}},$r=-.5,Br=yi(3)/2,Kx=1/yi(12),GH=(Kx/2+1)*3,VH={draw(t,e){const n=yi(e/GH),r=n/2,i=n*Kx,o=r,a=n*Kx+n,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo($r*r-Br*i,Br*r+$r*i),t.lineTo($r*o-Br*a,Br*o+$r*a),t.lineTo($r*u-Br*f,Br*u+$r*f),t.lineTo($r*r+Br*i,$r*i-Br*r),t.lineTo($r*o+Br*a,$r*a-Br*o),t.lineTo($r*u+Br*f,$r*f-Br*u),t.closePath()}};function WH(t,e){let n=null,r=Lw(i);t=typeof t=="function"?t:Lt(t||jw),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function zh(){}function qh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function jR(t){this._context=t}jR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KH(t){return new jR(t)}function $R(t){this._context=t}$R.prototype={areaStart:zh,areaEnd:zh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZH(t){return new $R(t)}function BR(t){this._context=t}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YH(t){return new BR(t)}function FR(t){this._context=t}FR.prototype={areaStart:zh,areaEnd:zh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JH(t){return new FR(t)}function TP(t){return t<0?-1:1}function EP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(TP(o)+TP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function AP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Hh(t){this._context=t}Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iy(this,this._t0,AP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iy(this,AP(this,n=EP(this,t,e)),n);break;default:Iy(this,this._t0,n=EP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UR(t){this._context=new zR(t)}(UR.prototype=Object.create(Hh.prototype)).point=function(t,e){Hh.prototype.point.call(this,e,t)};function zR(t){this._context=t}zR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function XH(t){return new Hh(t)}function QH(t){return new UR(t)}function qR(t){this._context=t}qR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=PP(t),i=PP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function e6(t){return new qR(t)}function sm(t,e){this._context=t,this._t=e}sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function t6(t){return new sm(t,.5)}function n6(t){return new sm(t,0)}function r6(t){return new sm(t,1)}function zl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function i6(t,e){return t[e]}function o6(t){const e=[];return e.key=t,e}function a6(){var t=Lt([]),e=Zx,n=zl,r=i6;function i(o){var a=Array.from(t.apply(this,arguments),o6),u,f=a.length,d=-1,p;for(const m of o)for(u=0,++d;u<f;++u)(a[u][d]=[0,+r(m,a[u].key,d,o)]).data=m;for(u=0,p=Dw(e(a));u<f;++u)a[p[u]].index=u;return n(a,p),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Zx:typeof o=="function"?o:Lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??zl,i):n},i}function s6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}zl(t,e)}}function l6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}zl(t,e)}}function u6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,f=0,d=0;u<a;++u){for(var p=t[e[u]],m=p[r][1]||0,_=p[r-1][1]||0,S=(m-_)/2,E=0;E<u;++E){var A=t[e[E]],T=A[r][1]||0,M=A[r-1][1]||0;S+=T-M}f+=m,d+=S*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,zl(t,e)}}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var c6=["type","size","sizeType"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){f6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f6(t,e,n){return e=d6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d6(t){var e=h6(t,"string");return Qc(e)=="symbol"?e:e+""}function h6(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t,e){if(t==null)return{};var n=m6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HR={symbolCircle:jw,symbolCross:DH,symbolDiamond:$H,symbolSquare:BH,symbolStar:qH,symbolTriangle:HH,symbolWye:VH},g6=Math.PI/180,v6=function(e){var n="symbol".concat(im(e));return HR[n]||jw},y6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*g6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_6=function(e,n){HR["symbol".concat(im(e))]=n},lm=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,u=a===void 0?"area":a,f=p6(e,c6),d=NP(NP({},f),{},{type:r,size:o,sizeType:u}),p=function(){var T=v6(r),M=WH().type(T).size(y6(o,u,r));return M()},m=d.className,_=d.cx,S=d.cy,E=je(d,!0);return _===+_&&S===+S&&o===+o?H.createElement("path",Yx({},E,{className:nt("recharts-symbols",m),transform:"translate(".concat(_,", ").concat(S,")"),d:p()})):null};lm.registerSymbol=_6;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){ef(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VR(r.key),r)}}function S6(t,e,n){return e&&w6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6(t,e,n){return e=Gh(e),E6(t,GR()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}function E6(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6(t)}function A6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(t)}function P6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xx(t,e)}function ef(t,e,n){return e=VR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VR(t){var e=C6(t,"string");return ql(e)=="symbol"?e:e+""}function C6(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fr=32,$w=(function(t){function e(){return b6(this,e),T6(this,e,arguments)}return P6(e,t),S6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Fr/2,a=Fr/6,u=Fr/3,f=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Fr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Fr,"M").concat(2*u,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var d=x6({},r);return delete d.legendIcon,H.cloneElement(r.legendIcon,d)}return H.createElement(lm,{fill:f,cx:o,cy:o,size:Fr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,u=i.layout,f=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:Fr,height:Fr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(S,E){var A=S.formatter||f,T=nt(ef(ef({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",S.inactive));if(S.type==="none")return null;var M=Ke(S.value)?null:S.value;mi(!Ke(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=S.inactive?d:S.color;return H.createElement("li",Jx({className:T,style:m,key:"legend-item-".concat(E)},Sa(r.props,S,E)),H.createElement(Hx,{width:a,height:a,viewBox:p,style:_},r.renderIcon(S)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},A?A(M,S,E):M))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(K.PureComponent);ef($w,"displayName","Legend");ef($w,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var My,MP;function N6(){if(MP)return My;MP=1;var t=tm();function e(){this.__data__=new t,this.size=0}return My=e,My}var Oy,OP;function I6(){if(OP)return Oy;OP=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Oy=t,Oy}var ky,kP;function M6(){if(kP)return ky;kP=1;function t(e){return this.__data__.get(e)}return ky=t,ky}var Ry,RP;function O6(){if(RP)return Ry;RP=1;function t(e){return this.__data__.has(e)}return Ry=t,Ry}var Ly,LP;function k6(){if(LP)return Ly;LP=1;var t=tm(),e=Nw(),n=Iw(),r=200;function i(o,a){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<r-1)return f.push([o,a]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(o,a),this.size=u.size,this}return Ly=i,Ly}var Dy,DP;function WR(){if(DP)return Dy;DP=1;var t=tm(),e=N6(),n=I6(),r=M6(),i=O6(),o=k6();function a(u){var f=this.__data__=new t(u);this.size=f.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Dy=a,Dy}var jy,jP;function R6(){if(jP)return jy;jP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return jy=e,jy}var $y,$P;function L6(){if($P)return $y;$P=1;function t(e){return this.__data__.has(e)}return $y=t,$y}var By,BP;function KR(){if(BP)return By;BP=1;var t=Iw(),e=R6(),n=L6();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,By=r,By}var Fy,FP;function ZR(){if(FP)return Fy;FP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Fy=t,Fy}var Uy,UP;function YR(){if(UP)return Uy;UP=1;function t(e,n){return e.has(n)}return Uy=t,Uy}var zy,zP;function JR(){if(zP)return zy;zP=1;var t=KR(),e=ZR(),n=YR(),r=1,i=2;function o(a,u,f,d,p,m){var _=f&r,S=a.length,E=u.length;if(S!=E&&!(_&&E>S))return!1;var A=m.get(a),T=m.get(u);if(A&&T)return A==u&&T==a;var M=-1,N=!0,R=f&i?new t:void 0;for(m.set(a,u),m.set(u,a);++M<S;){var j=a[M],O=u[M];if(d)var k=_?d(O,j,M,u,a,m):d(j,O,M,a,u,m);if(k!==void 0){if(k)continue;N=!1;break}if(R){if(!e(u,function($,U){if(!n(R,U)&&(j===$||p(j,$,f,d,m)))return R.push(U)})){N=!1;break}}else if(!(j===O||p(j,O,f,d,m))){N=!1;break}}return m.delete(a),m.delete(u),N}return zy=o,zy}var qy,qP;function D6(){if(qP)return qy;qP=1;var t=$i(),e=t.Uint8Array;return qy=e,qy}var Hy,HP;function j6(){if(HP)return Hy;HP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return Hy=t,Hy}var Gy,GP;function Bw(){if(GP)return Gy;GP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Gy=t,Gy}var Vy,VP;function $6(){if(VP)return Vy;VP=1;var t=jf(),e=D6(),n=Cw(),r=JR(),i=j6(),o=Bw(),a=1,u=2,f="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",_="[object Number]",S="[object RegExp]",E="[object Set]",A="[object String]",T="[object Symbol]",M="[object ArrayBuffer]",N="[object DataView]",R=t?t.prototype:void 0,j=R?R.valueOf:void 0;function O(k,$,U,z,Z,V,q){switch(U){case N:if(k.byteLength!=$.byteLength||k.byteOffset!=$.byteOffset)return!1;k=k.buffer,$=$.buffer;case M:return!(k.byteLength!=$.byteLength||!V(new e(k),new e($)));case f:case d:case _:return n(+k,+$);case p:return k.name==$.name&&k.message==$.message;case S:case A:return k==$+"";case m:var ee=i;case E:var J=z&a;if(ee||(ee=o),k.size!=$.size&&!J)return!1;var oe=q.get(k);if(oe)return oe==$;z|=u,q.set(k,$);var ae=r(ee(k),ee($),z,Z,V,q);return q.delete(k),ae;case T:if(j)return j.call(k)==j.call($)}return!1}return Vy=O,Vy}var Wy,WP;function XR(){if(WP)return Wy;WP=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return Wy=t,Wy}var Ky,KP;function B6(){if(KP)return Ky;KP=1;var t=XR(),e=ar();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return Ky=n,Ky}var Zy,ZP;function F6(){if(ZP)return Zy;ZP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var u=e[r];n(u,r,e)&&(a[o++]=u)}return a}return Zy=t,Zy}var Yy,YP;function U6(){if(YP)return Yy;YP=1;function t(){return[]}return Yy=t,Yy}var Jy,JP;function z6(){if(JP)return Jy;JP=1;var t=F6(),e=U6(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(u){return r.call(a,u)}))}:e;return Jy=o,Jy}var Xy,XP;function q6(){if(XP)return Xy;XP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Xy=t,Xy}var Qy,QP;function H6(){if(QP)return Qy;QP=1;var t=Eo(),e=Ao(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Qy=r,Qy}var e0,eC;function Fw(){if(eC)return e0;eC=1;var t=H6(),e=Ao(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return e0=o,e0}var $c={exports:{}},t0,tC;function G6(){if(tC)return t0;tC=1;function t(){return!1}return t0=t,t0}$c.exports;var nC;function QR(){return nC||(nC=1,(function(t,e){var n=$i(),r=G6(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,u=a?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;t.exports=d})($c,$c.exports)),$c.exports}var n0,rC;function Uw(){if(rC)return n0;rC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return n0=n,n0}var r0,iC;function zw(){if(iC)return r0;iC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return r0=e,r0}var i0,oC;function V6(){if(oC)return i0;oC=1;var t=Eo(),e=zw(),n=Ao(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",_="[object RegExp]",S="[object Set]",E="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",M="[object DataView]",N="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",$="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",Z="[object Uint32Array]",V={};V[N]=V[R]=V[j]=V[O]=V[k]=V[$]=V[U]=V[z]=V[Z]=!0,V[r]=V[i]=V[T]=V[o]=V[M]=V[a]=V[u]=V[f]=V[d]=V[p]=V[m]=V[_]=V[S]=V[E]=V[A]=!1;function q(ee){return n(ee)&&e(ee.length)&&!!V[t(ee)]}return i0=q,i0}var o0,aC;function e2(){if(aC)return o0;aC=1;function t(e){return function(n){return e(n)}}return o0=t,o0}var Bc={exports:{}};Bc.exports;var sC;function W6(){return sC||(sC=1,(function(t,e){var n=_R(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,u=(function(){try{var f=i&&i.require&&i.require("util").types;return f||a&&a.binding&&a.binding("util")}catch{}})();t.exports=u})(Bc,Bc.exports)),Bc.exports}var a0,lC;function t2(){if(lC)return a0;lC=1;var t=V6(),e=e2(),n=W6(),r=n&&n.isTypedArray,i=r?e(r):t;return a0=i,a0}var s0,uC;function K6(){if(uC)return s0;uC=1;var t=q6(),e=Fw(),n=ar(),r=QR(),i=Uw(),o=t2(),a=Object.prototype,u=a.hasOwnProperty;function f(d,p){var m=n(d),_=!m&&e(d),S=!m&&!_&&r(d),E=!m&&!_&&!S&&o(d),A=m||_||S||E,T=A?t(d.length,String):[],M=T.length;for(var N in d)(p||u.call(d,N))&&!(A&&(N=="length"||S&&(N=="offset"||N=="parent")||E&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,M)))&&T.push(N);return T}return s0=f,s0}var l0,cC;function Z6(){if(cC)return l0;cC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return l0=e,l0}var u0,fC;function n2(){if(fC)return u0;fC=1;function t(e,n){return function(r){return e(n(r))}}return u0=t,u0}var c0,dC;function Y6(){if(dC)return c0;dC=1;var t=n2(),e=t(Object.keys,Object);return c0=e,c0}var f0,hC;function J6(){if(hC)return f0;hC=1;var t=Z6(),e=Y6(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&a.push(u);return a}return f0=i,f0}var d0,pC;function $f(){if(pC)return d0;pC=1;var t=Pw(),e=zw();function n(r){return r!=null&&e(r.length)&&!t(r)}return d0=n,d0}var h0,mC;function um(){if(mC)return h0;mC=1;var t=K6(),e=J6(),n=$f();function r(i){return n(i)?t(i):e(i)}return h0=r,h0}var p0,gC;function X6(){if(gC)return p0;gC=1;var t=B6(),e=z6(),n=um();function r(i){return t(i,n,e)}return p0=r,p0}var m0,vC;function Q6(){if(vC)return m0;vC=1;var t=X6(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,u,f,d,p){var m=u&e,_=t(o),S=_.length,E=t(a),A=E.length;if(S!=A&&!m)return!1;for(var T=S;T--;){var M=_[T];if(!(m?M in a:r.call(a,M)))return!1}var N=p.get(o),R=p.get(a);if(N&&R)return N==a&&R==o;var j=!0;p.set(o,a),p.set(a,o);for(var O=m;++T<S;){M=_[T];var k=o[M],$=a[M];if(f)var U=m?f($,k,M,a,o,p):f(k,$,M,o,a,p);if(!(U===void 0?k===$||d(k,$,u,f,p):U)){j=!1;break}O||(O=M=="constructor")}if(j&&!O){var z=o.constructor,Z=a.constructor;z!=Z&&"constructor"in o&&"constructor"in a&&!(typeof z=="function"&&z instanceof z&&typeof Z=="function"&&Z instanceof Z)&&(j=!1)}return p.delete(o),p.delete(a),j}return m0=i,m0}var g0,yC;function eG(){if(yC)return g0;yC=1;var t=Ns(),e=$i(),n=t(e,"DataView");return g0=n,g0}var v0,_C;function tG(){if(_C)return v0;_C=1;var t=Ns(),e=$i(),n=t(e,"Promise");return v0=n,v0}var y0,xC;function r2(){if(xC)return y0;xC=1;var t=Ns(),e=$i(),n=t(e,"Set");return y0=n,y0}var _0,bC;function nG(){if(bC)return _0;bC=1;var t=Ns(),e=$i(),n=t(e,"WeakMap");return _0=n,_0}var x0,wC;function rG(){if(wC)return x0;wC=1;var t=eG(),e=Nw(),n=tG(),r=r2(),i=nG(),o=Eo(),a=xR(),u="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",_="[object DataView]",S=a(t),E=a(e),A=a(n),T=a(r),M=a(i),N=o;return(t&&N(new t(new ArrayBuffer(1)))!=_||e&&N(new e)!=u||n&&N(n.resolve())!=d||r&&N(new r)!=p||i&&N(new i)!=m)&&(N=function(R){var j=o(R),O=j==f?R.constructor:void 0,k=O?a(O):"";if(k)switch(k){case S:return _;case E:return u;case A:return d;case T:return p;case M:return m}return j}),x0=N,x0}var b0,SC;function iG(){if(SC)return b0;SC=1;var t=WR(),e=JR(),n=$6(),r=Q6(),i=rG(),o=ar(),a=QR(),u=t2(),f=1,d="[object Arguments]",p="[object Array]",m="[object Object]",_=Object.prototype,S=_.hasOwnProperty;function E(A,T,M,N,R,j){var O=o(A),k=o(T),$=O?p:i(A),U=k?p:i(T);$=$==d?m:$,U=U==d?m:U;var z=$==m,Z=U==m,V=$==U;if(V&&a(A)){if(!a(T))return!1;O=!0,z=!1}if(V&&!z)return j||(j=new t),O||u(A)?e(A,T,M,N,R,j):n(A,T,$,M,N,R,j);if(!(M&f)){var q=z&&S.call(A,"__wrapped__"),ee=Z&&S.call(T,"__wrapped__");if(q||ee){var J=q?A.value():A,oe=ee?T.value():T;return j||(j=new t),R(J,oe,M,N,j)}}return V?(j||(j=new t),r(A,T,M,N,R,j)):!1}return b0=E,b0}var w0,TC;function qw(){if(TC)return w0;TC=1;var t=iG(),e=Ao();function n(r,i,o,a,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,u)}return w0=n,w0}var S0,EC;function oG(){if(EC)return S0;EC=1;var t=WR(),e=qw(),n=1,r=2;function i(o,a,u,f){var d=u.length,p=d,m=!f;if(o==null)return!p;for(o=Object(o);d--;){var _=u[d];if(m&&_[2]?_[1]!==o[_[0]]:!(_[0]in o))return!1}for(;++d<p;){_=u[d];var S=_[0],E=o[S],A=_[1];if(m&&_[2]){if(E===void 0&&!(S in o))return!1}else{var T=new t;if(f)var M=f(E,A,S,o,a,T);if(!(M===void 0?e(A,E,n|r,f,T):M))return!1}}return!0}return S0=i,S0}var T0,AC;function i2(){if(AC)return T0;AC=1;var t=Ca();function e(n){return n===n&&!t(n)}return T0=e,T0}var E0,PC;function aG(){if(PC)return E0;PC=1;var t=i2(),e=um();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],u=r[a];i[o]=[a,u,t(u)]}return i}return E0=n,E0}var A0,CC;function o2(){if(CC)return A0;CC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return A0=t,A0}var P0,NC;function sG(){if(NC)return P0;NC=1;var t=oG(),e=aG(),n=o2();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return P0=r,P0}var C0,IC;function lG(){if(IC)return C0;IC=1;function t(e,n){return e!=null&&n in Object(e)}return C0=t,C0}var N0,MC;function uG(){if(MC)return N0;MC=1;var t=SR(),e=Fw(),n=ar(),r=Uw(),i=zw(),o=rm();function a(u,f,d){f=t(f,u);for(var p=-1,m=f.length,_=!1;++p<m;){var S=o(f[p]);if(!(_=u!=null&&d(u,S)))break;u=u[S]}return _||++p!=m?_:(m=u==null?0:u.length,!!m&&i(m)&&r(S,m)&&(n(u)||e(u)))}return N0=a,N0}var I0,OC;function cG(){if(OC)return I0;OC=1;var t=lG(),e=uG();function n(r,i){return r!=null&&e(r,i,t)}return I0=n,I0}var M0,kC;function fG(){if(kC)return M0;kC=1;var t=qw(),e=TR(),n=cG(),r=Aw(),i=i2(),o=o2(),a=rm(),u=1,f=2;function d(p,m){return r(p)&&i(m)?o(a(p),m):function(_){var S=e(_,p);return S===void 0&&S===m?n(_,p):t(m,S,u|f)}}return M0=d,M0}var O0,RC;function Eu(){if(RC)return O0;RC=1;function t(e){return e}return O0=t,O0}var k0,LC;function dG(){if(LC)return k0;LC=1;function t(e){return function(n){return n?.[e]}}return k0=t,k0}var R0,DC;function hG(){if(DC)return R0;DC=1;var t=Ow();function e(n){return function(r){return t(r,n)}}return R0=e,R0}var L0,jC;function pG(){if(jC)return L0;jC=1;var t=dG(),e=hG(),n=Aw(),r=rm();function i(o){return n(o)?t(r(o)):e(o)}return L0=i,L0}var D0,$C;function Bi(){if($C)return D0;$C=1;var t=sG(),e=fG(),n=Eu(),r=ar(),i=pG();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return D0=o,D0}var j0,BC;function a2(){if(BC)return j0;BC=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return j0=t,j0}var $0,FC;function mG(){if(FC)return $0;FC=1;function t(e){return e!==e}return $0=t,$0}var B0,UC;function gG(){if(UC)return B0;UC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return B0=t,B0}var F0,zC;function vG(){if(zC)return F0;zC=1;var t=a2(),e=mG(),n=gG();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return F0=r,F0}var U0,qC;function yG(){if(qC)return U0;qC=1;var t=vG();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return U0=e,U0}var z0,HC;function _G(){if(HC)return z0;HC=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return z0=t,z0}var q0,GC;function xG(){if(GC)return q0;GC=1;function t(){}return q0=t,q0}var H0,VC;function bG(){if(VC)return H0;VC=1;var t=r2(),e=xG(),n=Bw(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return H0=i,H0}var G0,WC;function wG(){if(WC)return G0;WC=1;var t=KR(),e=yG(),n=_G(),r=YR(),i=bG(),o=Bw(),a=200;function u(f,d,p){var m=-1,_=e,S=f.length,E=!0,A=[],T=A;if(p)E=!1,_=n;else if(S>=a){var M=d?null:i(f);if(M)return o(M);E=!1,_=r,T=new t}else T=d?[]:A;e:for(;++m<S;){var N=f[m],R=d?d(N):N;if(N=p||N!==0?N:0,E&&R===R){for(var j=T.length;j--;)if(T[j]===R)continue e;d&&T.push(R),A.push(N)}else _(T,R,p)||(T!==A&&T.push(R),A.push(N))}return A}return G0=u,G0}var V0,KC;function SG(){if(KC)return V0;KC=1;var t=Bi(),e=wG();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return V0=n,V0}var TG=SG();const ZC=yt(TG);function s2(t,e,n){return e===!0?ZC(t,n):Ke(e)?ZC(t,e):t}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var EG=["ref"];function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u2(r.key),r)}}function PG(t,e,n){return e&&JC(t.prototype,e),n&&JC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CG(t,e,n){return e=Vh(e),NG(t,l2()?Reflect.construct(e,n||[],Vh(t).constructor):e.apply(t,n))}function NG(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IG(t)}function IG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(t)}function MG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}function Qx(t,e){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qx(t,e)}function cm(t,e,n){return e=u2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2(t){var e=OG(t,"string");return Hl(e)=="symbol"?e:e+""}function OG(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kG(t,e){if(t==null)return{};var n=RG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LG(t){return t.value}function DG(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=kG(e,EG);return H.createElement($w,n)}var XC=1,_s=(function(t){function e(){var n;AG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CG(this,e,[].concat(i)),cm(n,"lastBoundingBox",{width:-1,height:-1}),n}return MG(e,t),PG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>XC||Math.abs(i.height-this.lastBoundingBox.height)>XC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,u=i.verticalAlign,f=i.margin,d=i.chartWidth,p=i.chartHeight,m,_;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var S=this.getBBoxSnapshot();m={left:((d||0)-S.width)/2}}else m=a==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();_={top:((p||0)-E.height)/2}}else _=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return fo(fo({},m),_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,u=i.height,f=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,m=fo(fo({position:"absolute",width:a||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return H.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(S){r.wrapperNode=S}},DG(o,fo(fo({},this.props),{},{payload:s2(p,d,LG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fo(fo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(K.PureComponent);cm(_s,"displayName","Legend");cm(_s,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var W0,QC;function jG(){if(QC)return W0;QC=1;var t=jf(),e=Fw(),n=ar(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return W0=i,W0}var K0,eN;function c2(){if(eN)return K0;eN=1;var t=XR(),e=jG();function n(r,i,o,a,u){var f=-1,d=r.length;for(o||(o=e),u||(u=[]);++f<d;){var p=r[f];i>0&&o(p)?i>1?n(p,i-1,o,a,u):t(u,p):a||(u[u.length]=p)}return u}return K0=n,K0}var Z0,tN;function $G(){if(tN)return Z0;tN=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),u=i(n),f=u.length;f--;){var d=u[e?f:++o];if(r(a[d],d,a)===!1)break}return n}}return Z0=t,Z0}var Y0,nN;function BG(){if(nN)return Y0;nN=1;var t=$G(),e=t();return Y0=e,Y0}var J0,rN;function f2(){if(rN)return J0;rN=1;var t=BG(),e=um();function n(r,i){return r&&t(r,i,e)}return J0=n,J0}var X0,iN;function FG(){if(iN)return X0;iN=1;var t=$f();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,u=r?a:-1,f=Object(i);(r?u--:++u<a)&&o(f[u],u,f)!==!1;);return i}}return X0=e,X0}var Q0,oN;function Hw(){if(oN)return Q0;oN=1;var t=f2(),e=FG(),n=e(t);return Q0=n,Q0}var e_,aN;function d2(){if(aN)return e_;aN=1;var t=Hw(),e=$f();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(u,f,d){a[++o]=i(u,f,d)}),a}return e_=n,e_}var t_,sN;function UG(){if(sN)return t_;sN=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return t_=t,t_}var n_,lN;function zG(){if(lN)return n_;lN=1;var t=wu();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,u=t(n),f=r!==void 0,d=r===null,p=r===r,m=t(r);if(!d&&!m&&!u&&n>r||u&&f&&p&&!d&&!m||o&&f&&p||!i&&p||!a)return 1;if(!o&&!u&&!m&&n<r||m&&i&&a&&!o&&!u||d&&i&&a||!f&&a||!p)return-1}return 0}return n_=e,n_}var r_,uN;function qG(){if(uN)return r_;uN=1;var t=zG();function e(n,r,i){for(var o=-1,a=n.criteria,u=r.criteria,f=a.length,d=i.length;++o<f;){var p=t(a[o],u[o]);if(p){if(o>=d)return p;var m=i[o];return p*(m=="desc"?-1:1)}}return n.index-r.index}return r_=e,r_}var i_,cN;function HG(){if(cN)return i_;cN=1;var t=Mw(),e=Ow(),n=Bi(),r=d2(),i=UG(),o=e2(),a=qG(),u=Eu(),f=ar();function d(p,m,_){m.length?m=t(m,function(A){return f(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):m=[u];var S=-1;m=t(m,o(n));var E=r(p,function(A,T,M){var N=t(m,function(R){return R(A)});return{criteria:N,index:++S,value:A}});return i(E,function(A,T){return a(A,T,_)})}return i_=d,i_}var o_,fN;function GG(){if(fN)return o_;fN=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return o_=t,o_}var a_,dN;function VG(){if(dN)return a_;dN=1;var t=GG(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,u=-1,f=e(a.length-i,0),d=Array(f);++u<f;)d[u]=a[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=a[u];return p[i]=o(d),t(r,this,p)}}return a_=n,a_}var s_,hN;function WG(){if(hN)return s_;hN=1;function t(e){return function(){return e}}return s_=t,s_}var l_,pN;function h2(){if(pN)return l_;pN=1;var t=Ns(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return l_=e,l_}var u_,mN;function KG(){if(mN)return u_;mN=1;var t=WG(),e=h2(),n=Eu(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return u_=r,u_}var c_,gN;function ZG(){if(gN)return c_;gN=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var u=n(),f=e-(u-a);if(a=u,f>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return c_=r,c_}var f_,vN;function YG(){if(vN)return f_;vN=1;var t=KG(),e=ZG(),n=e(t);return f_=n,f_}var d_,yN;function JG(){if(yN)return d_;yN=1;var t=Eu(),e=VG(),n=YG();function r(i,o){return n(e(i,o,t),i+"")}return d_=r,d_}var h_,_N;function fm(){if(_N)return h_;_N=1;var t=Cw(),e=$f(),n=Uw(),r=Ca();function i(o,a,u){if(!r(u))return!1;var f=typeof a;return(f=="number"?e(u)&&n(a,u.length):f=="string"&&a in u)?t(u[a],o):!1}return h_=i,h_}var p_,xN;function XG(){if(xN)return p_;xN=1;var t=c2(),e=HG(),n=JG(),r=fm(),i=n(function(o,a){if(o==null)return[];var u=a.length;return u>1&&r(o,a[0],a[1])?a=[]:u>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return p_=i,p_}var QG=XG();const Gw=yt(QG);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function eV(t,e){return iV(t)||rV(t,e)||nV(t,e)||tV()}function tV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){if(t){if(typeof t=="string")return bN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function iV(t){if(Array.isArray(t))return t}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){oV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oV(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=sV(t,"string");return tf(e)=="symbol"?e:e+""}function sV(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lV(t){return Array.isArray(t)&&hn(t[0])&&hn(t[1])?t.join(" ~ "):t}var uV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,u=a===void 0?{}:a,f=e.labelStyle,d=f===void 0?{}:f,p=e.payload,m=e.formatter,_=e.itemSorter,S=e.wrapperClassName,E=e.labelClassName,A=e.label,T=e.labelFormatter,M=e.accessibilityLayer,N=M===void 0?!1:M,R=function(){if(p&&p.length){var q={padding:0,margin:0},ee=(_?Gw(p,_):p).map(function(J,oe){if(J.type==="none")return null;var ae=m_({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},u),de=J.formatter||m||lV,X=J.value,he=J.name,ie=X,G=he;if(de&&ie!=null&&G!=null){var ne=de(X,he,J,oe,p);if(Array.isArray(ne)){var re=eV(ne,2);ie=re[0],G=re[1]}else ie=ne}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(oe),style:ae},hn(G)?H.createElement("span",{className:"recharts-tooltip-item-name"},G):null,hn(G)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ie),H.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:q},ee)}return null},j=m_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=m_({margin:0},d),k=!Ve(A),$=k?A:"",U=nt("recharts-default-tooltip",S),z=nt("recharts-tooltip-label",E);k&&T&&p!==void 0&&p!==null&&($=T(A,p));var Z=N?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",eb({className:U,style:j},Z),H.createElement("p",{className:z,style:O},H.isValidElement($)?$:"".concat($)),R())};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function fh(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=fV(t,"string");return nf(e)=="symbol"?e:e+""}function fV(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pc="recharts-tooltip-wrapper",dV={visibility:"hidden"};function hV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return nt(Pc,fh(fh(fh(fh({},"".concat(Pc,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(Pc,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(Pc,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(Pc,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function SN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,d=t.viewBoxDimension;if(o&&Ee(o[r]))return o[r];var p=n[r]-u-i,m=n[r]+i;if(e[r])return a[r]?p:m;if(a[r]){var _=p,S=f[r];return _<S?Math.max(m,f[r]):Math.max(p,f[r])}var E=m+u,A=f[r]+d;return E>A?Math.max(p,f[r]):Math.max(m,f[r])}function pV(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,d,p,m;return a.height>0&&a.width>0&&n?(p=SN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:f,viewBoxDimension:f.width}),m=SN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:f,viewBoxDimension:f.height}),d=pV({translateX:p,translateY:m,useTranslate3d:u})):d=dV,{cssProperties:d,cssClasses:hV({translateX:p,translateY:m,coordinate:n})}}function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){nb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function yV(t,e,n){return e&&vV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _V(t,e,n){return e=Wh(e),xV(t,p2()?Reflect.construct(e,n||[],Wh(t).constructor):e.apply(t,n))}function xV(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bV(t)}function bV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(t)}function wV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function nb(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=SV(t,"string");return Gl(e)=="symbol"?e:e+""}function SV(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AN=1,TV=(function(t){function e(){var n;gV(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_V(this,e,[].concat(i)),nb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nb(n,"handleKeyDown",function(a){if(a.key==="Escape"){var u,f,d,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),n}return wV(e,t),yV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AN||Math.abs(r.height-this.state.lastBoundingBox.height)>AN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.children,p=i.coordinate,m=i.hasPayload,_=i.isAnimationActive,S=i.offset,E=i.position,A=i.reverseDirection,T=i.useTranslate3d,M=i.viewBox,N=i.wrapperStyle,R=mV({allowEscapeViewBox:a,coordinate:p,offsetTopLeft:S,position:E,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:M}),j=R.cssClasses,O=R.cssProperties,k=EN(EN({transition:_&&o?"transform ".concat(u,"ms ").concat(f):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},N);return H.createElement("div",{tabIndex:-1,className:j,style:k,ref:function(U){r.wrapperNode=U}},d)}}])})(K.PureComponent),EV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Po={isSsr:EV()};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){Vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v2(r.key),r)}}function CV(t,e,n){return e&&PV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NV(t,e,n){return e=Kh(e),IV(t,g2()?Reflect.construct(e,n||[],Kh(t).constructor):e.apply(t,n))}function IV(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MV(t)}function MV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(t)}function OV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function Vw(t,e,n){return e=v2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2(t){var e=kV(t,"string");return Vl(e)=="symbol"?e:e+""}function kV(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RV(t){return t.dataKey}function LV(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(uV,e)}var zr=(function(t){function e(){return AV(this,e),NV(this,e,arguments)}return OV(e,t),CV(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.content,p=i.coordinate,m=i.filterNull,_=i.isAnimationActive,S=i.offset,E=i.payload,A=i.payloadUniqBy,T=i.position,M=i.reverseDirection,N=i.useTranslate3d,R=i.viewBox,j=i.wrapperStyle,O=E??[];m&&O.length&&(O=s2(E.filter(function($){return $.value!=null&&($.hide!==!0||r.props.includeHidden)}),A,RV));var k=O.length>0;return H.createElement(TV,{allowEscapeViewBox:a,animationDuration:u,animationEasing:f,isAnimationActive:_,active:o,coordinate:p,hasPayload:k,offset:S,position:T,reverseDirection:M,useTranslate3d:N,viewBox:R,wrapperStyle:j},LV(d,CN(CN({},this.props),{},{payload:O})))}}])})(K.PureComponent);Vw(zr,"displayName","Tooltip");Vw(zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var g_,NN;function DV(){if(NN)return g_;NN=1;var t=$i(),e=function(){return t.Date.now()};return g_=e,g_}var v_,IN;function jV(){if(IN)return v_;IN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return v_=e,v_}var y_,MN;function $V(){if(MN)return y_;MN=1;var t=jV(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return y_=n,y_}var __,ON;function y2(){if(ON)return __;ON=1;var t=$V(),e=Ca(),n=wu(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=o.test(d);return m||a.test(d)?u(d.slice(2),m?2:8):i.test(d)?r:+d}return __=f,__}var x_,kN;function BV(){if(kN)return x_;kN=1;var t=Ca(),e=DV(),n=y2(),r="Expected a function",i=Math.max,o=Math.min;function a(u,f,d){var p,m,_,S,E,A,T=0,M=!1,N=!1,R=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,t(d)&&(M=!!d.leading,N="maxWait"in d,_=N?i(n(d.maxWait)||0,f):_,R="trailing"in d?!!d.trailing:R);function j(ee){var J=p,oe=m;return p=m=void 0,T=ee,S=u.apply(oe,J),S}function O(ee){return T=ee,E=setTimeout(U,f),M?j(ee):S}function k(ee){var J=ee-A,oe=ee-T,ae=f-J;return N?o(ae,_-oe):ae}function $(ee){var J=ee-A,oe=ee-T;return A===void 0||J>=f||J<0||N&&oe>=_}function U(){var ee=e();if($(ee))return z(ee);E=setTimeout(U,k(ee))}function z(ee){return E=void 0,R&&p?j(ee):(p=m=void 0,S)}function Z(){E!==void 0&&clearTimeout(E),T=0,p=A=m=E=void 0}function V(){return E===void 0?S:z(e())}function q(){var ee=e(),J=$(ee);if(p=arguments,m=this,A=ee,J){if(E===void 0)return O(A);if(N)return clearTimeout(E),E=setTimeout(U,f),j(A)}return E===void 0&&(E=setTimeout(U,f)),S}return q.cancel=Z,q.flush=V,q}return x_=a,x_}var b_,RN;function FV(){if(RN)return b_;RN=1;var t=BV(),e=Ca(),n="Expected a function";function r(i,o,a){var u=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(u="leading"in a?!!a.leading:u,f="trailing"in a?!!a.trailing:f),t(i,o,{leading:u,maxWait:o,trailing:f})}return b_=r,b_}var UV=FV();const _2=yt(UV);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){zV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zV(t,e,n){return e=qV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qV(t){var e=HV(t,"string");return rf(e)=="symbol"?e:e+""}function HV(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GV(t,e){return ZV(t)||KV(t,e)||WV(t,e)||VV()}function VV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t,e){if(t){if(typeof t=="string")return DN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(t,e)}}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function ZV(t){if(Array.isArray(t))return t}var ib=K.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,u=t.height,f=u===void 0?"100%":u,d=t.minWidth,p=d===void 0?0:d,m=t.minHeight,_=t.maxHeight,S=t.children,E=t.debounce,A=E===void 0?0:E,T=t.id,M=t.className,N=t.onResize,R=t.style,j=R===void 0?{}:R,O=K.useRef(null),k=K.useRef();k.current=N,K.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var $=K.useState({containerWidth:i.width,containerHeight:i.height}),U=GV($,2),z=U[0],Z=U[1],V=K.useCallback(function(ee,J){Z(function(oe){var ae=Math.round(ee),de=Math.round(J);return oe.containerWidth===ae&&oe.containerHeight===de?oe:{containerWidth:ae,containerHeight:de}})},[]);K.useEffect(function(){var ee=function(he){var ie,G=he[0].contentRect,ne=G.width,re=G.height;V(ne,re),(ie=k.current)===null||ie===void 0||ie.call(k,ne,re)};A>0&&(ee=_2(ee,A,{trailing:!0,leading:!1}));var J=new ResizeObserver(ee),oe=O.current.getBoundingClientRect(),ae=oe.width,de=oe.height;return V(ae,de),J.observe(O.current),function(){J.disconnect()}},[V,A]);var q=K.useMemo(function(){var ee=z.containerWidth,J=z.containerHeight;if(ee<0||J<0)return null;mi(ps(a)||ps(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,f),mi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var oe=ps(a)?ee:a,ae=ps(f)?J:f;n&&n>0&&(oe?ae=oe/n:ae&&(oe=ae*n),_&&ae>_&&(ae=_)),mi(oe>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,oe,ae,a,f,p,m,n);var de=!Array.isArray(S)&&vo(S.type).endsWith("Chart");return H.Children.map(S,function(X){return H.isValidElement(X)?K.cloneElement(X,dh({width:oe,height:ae},de?{style:dh({height:"100%",width:"100%",maxHeight:ae,maxWidth:oe},X.props.style)}:{})):X})},[n,S,f,_,m,p,z,a]);return H.createElement("div",{id:T?"".concat(T):void 0,className:nt("recharts-responsive-container",M),style:dh(dh({},j),{},{width:a,height:f,minWidth:p,minHeight:m,maxHeight:_}),ref:O},q)}),Wl=function(e){return null};Wl.displayName="Cell";function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){YV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YV(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=XV(t,"string");return of(e)=="symbol"?e:e+""}function XV(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var El={widthCache:{},cacheCount:0},QV=2e3,e8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$N="recharts_measurement_span";function t8(t){var e=ob({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Uc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Po.isSsr)return{width:0,height:0};var r=t8(n),i=JSON.stringify({text:e,copyStyle:r});if(El.widthCache[i])return El.widthCache[i];try{var o=document.getElementById($N);o||(o=document.createElement("span"),o.setAttribute("id",$N),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=ob(ob({},e8),r);Object.assign(o.style,a),o.textContent="".concat(e);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return El.widthCache[i]=f,++El.cacheCount>QV&&(El.cacheCount=0,El.widthCache={}),f}catch{return{width:0,height:0}}},n8=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function Zh(t,e){return a8(t)||o8(t,e)||i8(t,e)||r8()}function r8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function a8(t){if(Array.isArray(t))return t}function s8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function l8(t,e,n){return e&&FN(t.prototype,e),n&&FN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u8(t){var e=c8(t,"string");return af(e)=="symbol"?e:e+""}function c8(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h8=Object.keys(x2),Ol="NaN";function p8(t,e){return t*x2[e]}var hh=(function(){function t(e,n){s8(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!f8.test(n)&&(this.num=NaN,this.unit=""),h8.includes(n)&&(this.num=p8(e,n),this.unit="px")}return l8(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=d8.exec(n))!==null&&r!==void 0?r:[],o=Zh(i,3),a=o[1],u=o[2];return new t(parseFloat(a),u??"")}}])})();function b2(t){if(t.includes(Ol))return Ol;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UN.exec(e))!==null&&n!==void 0?n:[],i=Zh(r,4),o=i[1],a=i[2],u=i[3],f=hh.parse(o??""),d=hh.parse(u??""),p=a==="*"?f.multiply(d):f.divide(d);if(p.isNaN())return Ol;e=e.replace(UN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,_=(m=zN.exec(e))!==null&&m!==void 0?m:[],S=Zh(_,4),E=S[1],A=S[2],T=S[3],M=hh.parse(E??""),N=hh.parse(T??""),R=A==="+"?M.add(N):M.subtract(N);if(R.isNaN())return Ol;e=e.replace(zN,R.toString())}return e}var qN=/\(([^()]*)\)/;function m8(t){for(var e=t;e.includes("(");){var n=qN.exec(e),r=Zh(n,2),i=r[1];e=e.replace(qN,b2(i))}return e}function g8(t){var e=t.replace(/\s+/g,"");return e=m8(e),e=b2(e),e}function v8(t){try{return g8(t)}catch{return Ol}}function w_(t){var e=v8(t.slice(5,-1));return e===Ol?"":e}var y8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_8=["dx","dy","angle","className","breakAll"];function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function HN(t,e){if(t==null)return{};var n=x8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GN(t,e){return T8(t)||S8(t,e)||w8(t,e)||b8()}function b8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w8(t,e){if(t){if(typeof t=="string")return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(t,e)}}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function T8(t){if(Array.isArray(t))return t}var w2=/[ \f\n\r\t\v\u2028\u2029]+/,S2=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ve(n)||(r?o=n.toString().split(""):o=n.toString().split(w2));var a=o.map(function(f){return{word:f,width:Uc(f,i).width}}),u=r?0:Uc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},E8=function(e,n,r,i,o){var a=e.maxLines,u=e.children,f=e.style,d=e.breakAll,p=Ee(a),m=u,_=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe.reduce(function(ae,de){var X=de.word,he=de.width,ie=ae[ae.length-1];if(ie&&(i==null||o||ie.width+he+r<Number(i)))ie.words.push(X),ie.width+=he+r;else{var G={words:[X],width:he};ae.push(G)}return ae},[])},S=_(n),E=function(oe){return oe.reduce(function(ae,de){return ae.width>de.width?ae:de})};if(!p)return S;for(var A="",T=function(oe){var ae=m.slice(0,oe),de=S2({breakAll:d,style:f,children:ae+A}).wordsWithComputedWidth,X=_(de),he=X.length>a||E(X).width>Number(i);return[he,X]},M=0,N=m.length-1,R=0,j;M<=N&&R<=m.length-1;){var O=Math.floor((M+N)/2),k=O-1,$=T(k),U=GN($,2),z=U[0],Z=U[1],V=T(O),q=GN(V,1),ee=q[0];if(!z&&!ee&&(M=O+1),z&&ee&&(N=O-1),!z&&ee){j=Z;break}R++}return j||S},WN=function(e){var n=Ve(e)?[]:e.toString().split(w2);return[{words:n}]},A8=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,u=e.maxLines;if((n||r)&&!Po.isSsr){var f,d,p=S2({breakAll:a,children:i,style:o});if(p){var m=p.wordsWithComputedWidth,_=p.spaceWidth;f=m,d=_}else return WN(i);return E8({breakAll:a,children:i,maxLines:u,style:o},f,d,n,r)}return WN(i)},KN="#808080",Ss=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,u=a===void 0?"1em":a,f=e.capHeight,d=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,_=e.textAnchor,S=_===void 0?"start":_,E=e.verticalAnchor,A=E===void 0?"end":E,T=e.fill,M=T===void 0?KN:T,N=HN(e,y8),R=K.useMemo(function(){return A8({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:m,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,m,N.style,N.width]),j=N.dx,O=N.dy,k=N.angle,$=N.className,U=N.breakAll,z=HN(N,_8);if(!hn(r)||!hn(o))return null;var Z=r+(Ee(j)?j:0),V=o+(Ee(O)?O:0),q;switch(A){case"start":q=w_("calc(".concat(d,")"));break;case"middle":q=w_("calc(".concat((R.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:q=w_("calc(".concat(R.length-1," * -").concat(u,")"));break}var ee=[];if(m){var J=R[0].width,oe=N.width;ee.push("scale(".concat((Ee(oe)?oe/J:1)/J,")"))}return k&&ee.push("rotate(".concat(k,", ").concat(Z,", ").concat(V,")")),ee.length&&(z.transform=ee.join(" ")),H.createElement("text",ab({},je(z,!0),{x:Z,y:V,className:nt("recharts-text",$),textAnchor:S,fill:M.includes("url")?KN:M}),R.map(function(ae,de){var X=ae.words.join(U?"":" ");return H.createElement("tspan",{x:Z,dy:de===0?q:u,key:"".concat(X,"-").concat(de)},X)}))};function ba(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ww(t){let e,n,r;t.length!==2?(e=ba,n=(u,f)=>ba(t(u),f),r=(u,f)=>t(u)-f):(e=t===ba||t===P8?t:C8,n=t,r=t);function i(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(u[m],f)<0?d=m+1:p=m}while(d<p)}return d}function o(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(u[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function a(u,f,d=0,p=u.length){const m=i(u,f,d,p-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:a,right:o}}function C8(){return 0}function T2(t){return t===null?NaN:+t}function*N8(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const I8=Ww(ba),Bf=I8.right;Ww(T2).center;class ZN extends Map{constructor(e,n=k8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YN(this,e))}has(e){return super.has(YN(this,e))}set(e,n){return super.set(M8(this,e),n)}delete(e){return super.delete(O8(this,e))}}function YN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function M8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function O8({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function k8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function R8(t=ba){if(t===ba)return E2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function E2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const L8=Math.sqrt(50),D8=Math.sqrt(10),j8=Math.sqrt(2);function Yh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=L8?10:o>=D8?5:o>=j8?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/a,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*a,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Yh(t,e,n*2):[u,f,d]}function sb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Yh(e,t,n):Yh(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(a<0)for(let d=0;d<u;++d)f[d]=(o-d)/-a;else for(let d=0;d<u;++d)f[d]=(o-d)*a;else if(a<0)for(let d=0;d<u;++d)f[d]=(i+d)/-a;else for(let d=0;d<u;++d)f[d]=(i+d)*a;return f}function lb(t,e,n){return e=+e,t=+t,n=+n,Yh(t,e,n)[2]}function ub(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?lb(e,t,n):lb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function A2(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?E2:R8(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*m*(f-m)/f)*(d-f/2<0?-1:1),S=Math.max(n,Math.floor(e-d*m/f+_)),E=Math.min(r,Math.floor(e+(f-d)*m/f+_));A2(t,e,S,E,i)}const o=t[e];let a=n,u=r;for(Cc(t,n,e),i(t[r],o)>0&&Cc(t,n,r);a<u;){for(Cc(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Cc(t,n,u):(++u,Cc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Cc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $8(t,e,n){if(t=Float64Array.from(N8(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XN(t);if(e>=1)return JN(t);var r,i=(r-1)*e,o=Math.floor(i),a=JN(A2(t,o).subarray(0,o+1)),u=XN(t.subarray(o+1));return a+(u-a)*(i-o)}}function B8(t,e,n=T2){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function F8(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Co(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cb=Symbol("implicit");function Kw(){var t=new ZN,e=[],n=[],r=cb;function i(o){let a=t.get(o);if(a===void 0){if(r!==cb)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ZN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Kw(e,n).unknown(r)},Kr.apply(i,arguments),i}function sf(){var t=Kw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,f=0,d=0,p=.5;delete t.unknown;function m(){var _=e().length,S=i<r,E=S?i:r,A=S?r:i;o=(A-E)/Math.max(1,_-f+d*2),u&&(o=Math.floor(o)),E+=(A-E-o*(_-f))*p,a=o*(1-f),u&&(E=Math.round(E),a=Math.round(a));var T=F8(_).map(function(M){return E+o*M});return n(S?T.reverse():T)}return t.domain=function(_){return arguments.length?(e(_),m()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,m()):u},t.padding=function(_){return arguments.length?(f=Math.min(1,d=+_),m()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),m()):f},t.paddingOuter=function(_){return arguments.length?(d=+_,m()):d},t.align=function(_){return arguments.length?(p=Math.max(0,Math.min(1,_)),m()):p},t.copy=function(){return sf(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(p)},Kr.apply(m(),arguments)}function P2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return P2(e())},t}function zc(){return P2(sf.apply(null,arguments).paddingInner(1))}function Zw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var lf=.7,Jh=1/lf,Fl="\\s*([+-]?\\d+)\\s*",uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U8=/^#([0-9a-f]{3,8})$/,z8=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),q8=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),H8=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${uf}\\)$`),G8=new RegExp(`^rgba\\(${Li},${Li},${Li},${uf}\\)$`),V8=new RegExp(`^hsl\\(${uf},${Li},${Li}\\)$`),W8=new RegExp(`^hsla\\(${uf},${Li},${Li},${uf}\\)$`),QN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zw(Ff,cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eI,formatHex:eI,formatHex8:K8,formatHsl:Z8,formatRgb:tI,toString:tI});function eI(){return this.rgb().formatHex()}function K8(){return this.rgb().formatHex8()}function Z8(){return N2(this).formatHsl()}function tI(){return this.rgb().formatRgb()}function cf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nI(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ph(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ph(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=z8.exec(t))?new or(e[1],e[2],e[3],1):(e=q8.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=H8.exec(t))?ph(e[1],e[2],e[3],e[4]):(e=G8.exec(t))?ph(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=V8.exec(t))?oI(e[1],e[2]/100,e[3]/100,1):(e=W8.exec(t))?oI(e[1],e[2]/100,e[3]/100,e[4]):QN.hasOwnProperty(t)?nI(QN[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function nI(t){return new or(t>>16&255,t>>8&255,t&255,1)}function ph(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function Y8(t){return t instanceof Ff||(t=cf(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function fb(t,e,n,r){return arguments.length===1?Y8(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Zw(or,fb,C2(Ff,{brighter(t){return t=t==null?Jh:Math.pow(Jh,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(xs(this.r),xs(this.g),xs(this.b),Xh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rI,formatHex:rI,formatHex8:J8,formatRgb:iI,toString:iI}));function rI(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function J8(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function iI(){const t=Xh(this.opacity);return`${t===1?"rgb(":"rgba("}${xs(this.r)}, ${xs(this.g)}, ${xs(this.b)}${t===1?")":`, ${t})`}`}function Xh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=xs(t),(t<16?"0":"")+t.toString(16)}function oI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fi(t,e,n,r)}function N2(t){if(t instanceof fi)return new fi(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=cf(t)),!t)return new fi;if(t instanceof fi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,f=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new fi(a,u,f,t.opacity)}function X8(t,e,n,r){return arguments.length===1?N2(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Zw(fi,X8,C2(Ff,{brighter(t){return t=t==null?Jh:Math.pow(Jh,t),new fi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new fi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(S_(t>=240?t-240:t+120,i,r),S_(t,i,r),S_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fi(aI(this.h),mh(this.s),mh(this.l),Xh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xh(this.opacity);return`${t===1?"hsl(":"hsla("}${aI(this.h)}, ${mh(this.s)*100}%, ${mh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aI(t){return t=(t||0)%360,t<0?t+360:t}function mh(t){return Math.max(0,Math.min(1,t||0))}function S_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yw=t=>()=>t;function Q8(t,e){return function(n){return t+n*e}}function eW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tW(t){return(t=+t)==1?I2:function(e,n){return n-e?eW(e,n,t):Yw(isNaN(e)?n:e)}}function I2(t,e){var n=e-t;return n?Q8(t,n):Yw(isNaN(t)?e:t)}const sI=(function t(e){var n=tW(e);function r(i,o){var a=n((i=fb(i)).r,(o=fb(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=I2(i.opacity,o.opacity);return function(p){return i.r=a(p),i.g=u(p),i.b=f(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function nW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function rW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Au(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function oW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function aW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Au(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var db=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T_=new RegExp(db.source,"g");function sW(t){return function(){return t}}function lW(t){return function(e){return t(e)+""}}function uW(t,e){var n=db.lastIndex=T_.lastIndex=0,r,i,o,a=-1,u=[],f=[];for(t=t+"",e=e+"";(r=db.exec(t))&&(i=T_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,f.push({i:a,x:Qh(r,i)})),n=T_.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?lW(f[0].x):sW(e):(e=f.length,function(d){for(var p=0,m;p<e;++p)u[(m=f[p]).i]=m.x(d);return u.join("")})}function Au(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yw(e):(n==="number"?Qh:n==="string"?(r=cf(e))?(e=r,sI):uW:e instanceof cf?sI:e instanceof Date?oW:rW(e)?nW:Array.isArray(e)?iW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?aW:Qh)(t,e)}function Jw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cW(t,e){e===void 0&&(e=t,t=Au);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function fW(t){return function(){return t}}function ep(t){return+t}var lI=[0,1];function Vn(t){return t}function hb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fW(isNaN(e)?NaN:.5)}function dW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hW(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=hb(i,r),o=n(a,o)):(r=hb(r,i),o=n(o,a)),function(u){return o(r(u))}}function pW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=hb(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var f=Bf(t,u,1,r)-1;return o[f](i[f](u))}}function Uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dm(){var t=lI,e=lI,n=Au,r,i,o,a=Vn,u,f,d;function p(){var _=Math.min(t.length,e.length);return a!==Vn&&(a=dW(t[0],t[_-1])),u=_>2?pW:hW,f=d=null,m}function m(_){return _==null||isNaN(_=+_)?o:(f||(f=u(t.map(r),e,n)))(r(a(_)))}return m.invert=function(_){return a(i((d||(d=u(e,t.map(r),Qh)))(_)))},m.domain=function(_){return arguments.length?(t=Array.from(_,ep),p()):t.slice()},m.range=function(_){return arguments.length?(e=Array.from(_),p()):e.slice()},m.rangeRound=function(_){return e=Array.from(_),n=Jw,p()},m.clamp=function(_){return arguments.length?(a=_?!0:Vn,p()):a!==Vn},m.interpolate=function(_){return arguments.length?(n=_,p()):n},m.unknown=function(_){return arguments.length?(o=_,m):o},function(_,S){return r=_,i=S,p()}}function Xw(){return dm()(Vn,Vn)}function mW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kl(t){return t=tp(Math.abs(t)),t?t[1]:NaN}function gW(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function vW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ff(t){if(!(e=yW.exec(t)))throw new Error("invalid format: "+t);var e;return new Qw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ff.prototype=Qw.prototype;function Qw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _W(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var np;function xW(t,e){var n=tp(t,e);if(!n)return np=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(np=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tp(t,Math.max(0,e+o-1))[0]}function uI(t,e){var n=tp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uI(t*100,e),r:uI,s:xW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fI(t){return t}var dI=Array.prototype.map,hI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bW(t){var e=t.grouping===void 0||t.thousands===void 0?fI:gW(dI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fI:vW(dI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m,_){m=ff(m);var S=m.fill,E=m.align,A=m.sign,T=m.symbol,M=m.zero,N=m.width,R=m.comma,j=m.precision,O=m.trim,k=m.type;k==="n"?(R=!0,k="g"):cI[k]||(j===void 0&&(j=12),O=!0,k="g"),(M||S==="0"&&E==="=")&&(M=!0,S="0",E="=");var $=(_&&_.prefix!==void 0?_.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),U=(T==="$"?r:/[%p]/.test(k)?a:"")+(_&&_.suffix!==void 0?_.suffix:""),z=cI[k],Z=/[defgprs%]/.test(k);j=j===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function V(q){var ee=$,J=U,oe,ae,de;if(k==="c")J=z(q)+J,q="";else{q=+q;var X=q<0||1/q<0;if(q=isNaN(q)?f:z(Math.abs(q),j),O&&(q=_W(q)),X&&+q==0&&A!=="+"&&(X=!1),ee=(X?A==="("?A:u:A==="-"||A==="("?"":A)+ee,J=(k==="s"&&!isNaN(q)&&np!==void 0?hI[8+np/3]:"")+J+(X&&A==="("?")":""),Z){for(oe=-1,ae=q.length;++oe<ae;)if(de=q.charCodeAt(oe),48>de||de>57){J=(de===46?i+q.slice(oe+1):q.slice(oe))+J,q=q.slice(0,oe);break}}}R&&!M&&(q=e(q,1/0));var he=ee.length+q.length+J.length,ie=he<N?new Array(N-he+1).join(S):"";switch(R&&M&&(q=e(ie+q,ie.length?N-J.length:1/0),ie=""),E){case"<":q=ee+q+J+ie;break;case"=":q=ee+ie+q+J;break;case"^":q=ie.slice(0,he=ie.length>>1)+ee+q+J+ie.slice(he);break;default:q=ie+ee+q+J;break}return o(q)}return V.toString=function(){return m+""},V}function p(m,_){var S=Math.max(-8,Math.min(8,Math.floor(Kl(_)/3)))*3,E=Math.pow(10,-S),A=d((m=ff(m),m.type="f",m),{suffix:hI[8+S/3]});return function(T){return A(E*T)}}return{format:d,formatPrefix:p}}var gh,eS,M2;wW({thousands:",",grouping:[3],currency:["$",""]});function wW(t){return gh=bW(t),eS=gh.format,M2=gh.formatPrefix,gh}function SW(t){return Math.max(0,-Kl(Math.abs(t)))}function TW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(e)/3)))*3-Kl(Math.abs(t)))}function EW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kl(e)-Kl(t))+1}function O2(t,e,n,r){var i=ub(t,e,n),o;switch(r=ff(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=TW(i,a))&&(r.precision=o),M2(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=EW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=SW(i))&&(r.precision=o-(r.type==="%")*2);break}}return eS(r)}function Ia(t){var e=t.domain;return t.ticks=function(n){var r=e();return sb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return O2(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],f,d,p=10;for(u<a&&(d=a,a=u,u=d,d=i,i=o,o=d);p-- >0;){if(d=lb(a,u,n),d===f)return r[i]=a,r[o]=u,e(r);if(d>0)a=Math.floor(a/d)*d,u=Math.ceil(u/d)*d;else if(d<0)a=Math.ceil(a*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function rp(){var t=Xw();return t.copy=function(){return Uf(t,rp())},Kr.apply(t,arguments),Ia(t)}function k2(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ep),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return k2(t).unknown(e)},t=arguments.length?Array.from(t,ep):[0,1],Ia(n)}function R2(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pI(t){return Math.log(t)}function mI(t){return Math.exp(t)}function AW(t){return-Math.log(-t)}function PW(t){return-Math.exp(-t)}function CW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NW(t){return t===10?CW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function IW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gI(t){return(e,n)=>-t(-e,n)}function tS(t){const e=t(pI,mI),n=e.domain;let r=10,i,o;function a(){return i=IW(r),o=NW(r),n()[0]<0?(i=gI(i),o=gI(o),t(AW,PW)):t(pI,mI),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const f=n();let d=f[0],p=f[f.length-1];const m=p<d;m&&([d,p]=[p,d]);let _=i(d),S=i(p),E,A;const T=u==null?10:+u;let M=[];if(!(r%1)&&S-_<T){if(_=Math.floor(_),S=Math.ceil(S),d>0){for(;_<=S;++_)for(E=1;E<r;++E)if(A=_<0?E/o(-_):E*o(_),!(A<d)){if(A>p)break;M.push(A)}}else for(;_<=S;++_)for(E=r-1;E>=1;--E)if(A=_>0?E/o(-_):E*o(_),!(A<d)){if(A>p)break;M.push(A)}M.length*2<T&&(M=sb(d,p,T))}else M=sb(_,S,Math.min(S-_,T)).map(o);return m?M.reverse():M},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=ff(f)).precision==null&&(f.trim=!0),f=eS(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return p=>{let m=p/o(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=d?f(p):""}},e.nice=()=>n(R2(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function L2(){const t=tS(dm()).domain([1,10]);return t.copy=()=>Uf(t,L2()).base(t.base()),Kr.apply(t,arguments),t}function vI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nS(t){var e=1,n=t(vI(e),yI(e));return n.constant=function(r){return arguments.length?t(vI(e=+r),yI(e)):e},Ia(n)}function D2(){var t=nS(dm());return t.copy=function(){return Uf(t,D2()).constant(t.constant())},Kr.apply(t,arguments)}function _I(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function MW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function OW(t){return t<0?-t*t:t*t}function rS(t){var e=t(Vn,Vn),n=1;function r(){return n===1?t(Vn,Vn):n===.5?t(MW,OW):t(_I(n),_I(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ia(e)}function iS(){var t=rS(dm());return t.copy=function(){return Uf(t,iS()).exponent(t.exponent())},Kr.apply(t,arguments),t}function kW(){return iS.apply(null,arguments).exponent(.5)}function xI(t){return Math.sign(t)*t*t}function RW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function j2(){var t=Xw(),e=[0,1],n=!1,r;function i(o){var a=RW(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(xI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ep)).map(xI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return j2(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Kr.apply(i,arguments),Ia(i)}function $2(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=B8(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Bf(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ba),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return $2().domain(t).range(e).unknown(r)},Kr.apply(o,arguments)}function B2(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[Bf(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return a}return a.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},a.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},a.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return B2().domain([t,e]).range(i).unknown(o)},Kr.apply(Ia(a),arguments)}function F2(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Bf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return F2().domain(t).range(e).unknown(n)},Kr.apply(i,arguments)}const E_=new Date,A_=new Date;function pn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<a);return f},i.filter=o=>pn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(E_.setTime(+o),A_.setTime(+a),t(E_),t(A_),Math.floor(n(E_,A_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ip=pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ip.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ip);ip.range;const po=1e3,Hr=po*60,mo=Hr*60,xo=mo*24,oS=xo*7,bI=xo*30,P_=xo*365,gs=pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCSeconds());gs.range;const aS=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*po)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getMinutes());aS.range;const sS=pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getUTCMinutes());sS.range;const lS=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*po-t.getMinutes()*Hr)},(t,e)=>{t.setTime(+t+e*mo)},(t,e)=>(e-t)/mo,t=>t.getHours());lS.range;const uS=pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mo)},(t,e)=>(e-t)/mo,t=>t.getUTCHours());uS.range;const zf=pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/xo,t=>t.getDate()-1);zf.range;const hm=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xo,t=>t.getUTCDate()-1);hm.range;const U2=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xo,t=>Math.floor(t/xo));U2.range;function Is(t){return pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/oS)}const pm=Is(0),op=Is(1),LW=Is(2),DW=Is(3),Zl=Is(4),jW=Is(5),$W=Is(6);pm.range;op.range;LW.range;DW.range;Zl.range;jW.range;$W.range;function Ms(t){return pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oS)}const mm=Ms(0),ap=Ms(1),BW=Ms(2),FW=Ms(3),Yl=Ms(4),UW=Ms(5),zW=Ms(6);mm.range;ap.range;BW.range;FW.range;Yl.range;UW.range;zW.range;const cS=pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cS.range;const fS=pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fS.range;const bo=pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bo.range;const wo=pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});wo.range;function z2(t,e,n,r,i,o){const a=[[gs,1,po],[gs,5,5*po],[gs,15,15*po],[gs,30,30*po],[o,1,Hr],[o,5,5*Hr],[o,15,15*Hr],[o,30,30*Hr],[i,1,mo],[i,3,3*mo],[i,6,6*mo],[i,12,12*mo],[r,1,xo],[r,2,2*xo],[n,1,oS],[e,1,bI],[e,3,3*bI],[t,1,P_]];function u(d,p,m){const _=p<d;_&&([d,p]=[p,d]);const S=m&&typeof m.range=="function"?m:f(d,p,m),E=S?S.range(d,+p+1):[];return _?E.reverse():E}function f(d,p,m){const _=Math.abs(p-d)/m,S=Ww(([,,T])=>T).right(a,_);if(S===a.length)return t.every(ub(d/P_,p/P_,m));if(S===0)return ip.every(Math.max(ub(d,p,m),1));const[E,A]=a[_/a[S-1][2]<a[S][2]/_?S-1:S];return E.every(A)}return[u,f]}const[qW,HW]=z2(wo,fS,mm,U2,uS,sS),[GW,VW]=z2(bo,cS,pm,zf,lS,aS);function C_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function WW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,d=Ic(i),p=Mc(i),m=Ic(o),_=Mc(o),S=Ic(a),E=Mc(a),A=Ic(u),T=Mc(u),M=Ic(f),N=Mc(f),R={a:de,A:X,b:he,B:ie,c:null,d:PI,e:PI,f:g7,g:A7,G:C7,H:h7,I:p7,j:m7,L:q2,m:v7,M:y7,p:G,q:ne,Q:II,s:MI,S:_7,u:x7,U:b7,V:w7,w:S7,W:T7,x:null,X:null,y:E7,Y:P7,Z:N7,"%":NI},j={a:re,A:me,b:ge,B:xe,c:null,d:CI,e:CI,f:k7,g:q7,G:G7,H:I7,I:M7,j:O7,L:G2,m:R7,M:L7,p:$e,q:Fe,Q:II,s:MI,S:D7,u:j7,U:$7,V:B7,w:F7,W:U7,x:null,X:null,y:z7,Y:H7,Z:V7,"%":NI},O={a:Z,A:V,b:q,B:ee,c:J,d:EI,e:EI,f:u7,g:TI,G:SI,H:AI,I:AI,j:o7,L:l7,m:i7,M:a7,p:z,q:r7,Q:f7,s:d7,S:s7,u:XW,U:QW,V:e7,w:JW,W:t7,x:oe,X:ae,y:TI,Y:SI,Z:n7,"%":c7};R.x=k(n,R),R.X=k(r,R),R.c=k(e,R),j.x=k(n,j),j.X=k(r,j),j.c=k(e,j);function k(be,Re){return function(ze){var ye=[],at=-1,Pe=0,ct=be.length,_t,dt,Nt;for(ze instanceof Date||(ze=new Date(+ze));++at<ct;)be.charCodeAt(at)===37&&(ye.push(be.slice(Pe,at)),(dt=wI[_t=be.charAt(++at)])!=null?_t=be.charAt(++at):dt=_t==="e"?" ":"0",(Nt=Re[_t])&&(_t=Nt(ze,dt)),ye.push(_t),Pe=at+1);return ye.push(be.slice(Pe,at)),ye.join("")}}function $(be,Re){return function(ze){var ye=Nc(1900,void 0,1),at=U(ye,be,ze+="",0),Pe,ct;if(at!=ze.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Re&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Pe=N_(Nc(ye.y,0,1)),ct=Pe.getUTCDay(),Pe=ct>4||ct===0?ap.ceil(Pe):ap(Pe),Pe=hm.offset(Pe,(ye.V-1)*7),ye.y=Pe.getUTCFullYear(),ye.m=Pe.getUTCMonth(),ye.d=Pe.getUTCDate()+(ye.w+6)%7):(Pe=C_(Nc(ye.y,0,1)),ct=Pe.getDay(),Pe=ct>4||ct===0?op.ceil(Pe):op(Pe),Pe=zf.offset(Pe,(ye.V-1)*7),ye.y=Pe.getFullYear(),ye.m=Pe.getMonth(),ye.d=Pe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),ct="Z"in ye?N_(Nc(ye.y,0,1)).getUTCDay():C_(Nc(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(ct+5)%7:ye.w+ye.U*7-(ct+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,N_(ye)):C_(ye)}}function U(be,Re,ze,ye){for(var at=0,Pe=Re.length,ct=ze.length,_t,dt;at<Pe;){if(ye>=ct)return-1;if(_t=Re.charCodeAt(at++),_t===37){if(_t=Re.charAt(at++),dt=O[_t in wI?Re.charAt(at++):_t],!dt||(ye=dt(be,ze,ye))<0)return-1}else if(_t!=ze.charCodeAt(ye++))return-1}return ye}function z(be,Re,ze){var ye=d.exec(Re.slice(ze));return ye?(be.p=p.get(ye[0].toLowerCase()),ze+ye[0].length):-1}function Z(be,Re,ze){var ye=S.exec(Re.slice(ze));return ye?(be.w=E.get(ye[0].toLowerCase()),ze+ye[0].length):-1}function V(be,Re,ze){var ye=m.exec(Re.slice(ze));return ye?(be.w=_.get(ye[0].toLowerCase()),ze+ye[0].length):-1}function q(be,Re,ze){var ye=M.exec(Re.slice(ze));return ye?(be.m=N.get(ye[0].toLowerCase()),ze+ye[0].length):-1}function ee(be,Re,ze){var ye=A.exec(Re.slice(ze));return ye?(be.m=T.get(ye[0].toLowerCase()),ze+ye[0].length):-1}function J(be,Re,ze){return U(be,e,Re,ze)}function oe(be,Re,ze){return U(be,n,Re,ze)}function ae(be,Re,ze){return U(be,r,Re,ze)}function de(be){return a[be.getDay()]}function X(be){return o[be.getDay()]}function he(be){return f[be.getMonth()]}function ie(be){return u[be.getMonth()]}function G(be){return i[+(be.getHours()>=12)]}function ne(be){return 1+~~(be.getMonth()/3)}function re(be){return a[be.getUTCDay()]}function me(be){return o[be.getUTCDay()]}function ge(be){return f[be.getUTCMonth()]}function xe(be){return u[be.getUTCMonth()]}function $e(be){return i[+(be.getUTCHours()>=12)]}function Fe(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Re=k(be+="",R);return Re.toString=function(){return be},Re},parse:function(be){var Re=$(be+="",!1);return Re.toString=function(){return be},Re},utcFormat:function(be){var Re=k(be+="",j);return Re.toString=function(){return be},Re},utcParse:function(be){var Re=$(be+="",!0);return Re.toString=function(){return be},Re}}}var wI={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,KW=/^%/,ZW=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function YW(t){return t.replace(ZW,"\\$&")}function Ic(t){return new RegExp("^(?:"+t.map(YW).join("|")+")","i")}function Mc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function JW(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XW(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QW(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function e7(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function t7(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SI(t,e,n){var r=Sn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TI(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function n7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function r7(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function i7(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EI(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function o7(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AI(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function a7(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function s7(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function l7(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function u7(t,e,n){var r=Sn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function c7(t,e,n){var r=KW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function f7(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function d7(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PI(t,e){return vt(t.getDate(),e,2)}function h7(t,e){return vt(t.getHours(),e,2)}function p7(t,e){return vt(t.getHours()%12||12,e,2)}function m7(t,e){return vt(1+zf.count(bo(t),t),e,3)}function q2(t,e){return vt(t.getMilliseconds(),e,3)}function g7(t,e){return q2(t,e)+"000"}function v7(t,e){return vt(t.getMonth()+1,e,2)}function y7(t,e){return vt(t.getMinutes(),e,2)}function _7(t,e){return vt(t.getSeconds(),e,2)}function x7(t){var e=t.getDay();return e===0?7:e}function b7(t,e){return vt(pm.count(bo(t)-1,t),e,2)}function H2(t){var e=t.getDay();return e>=4||e===0?Zl(t):Zl.ceil(t)}function w7(t,e){return t=H2(t),vt(Zl.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function S7(t){return t.getDay()}function T7(t,e){return vt(op.count(bo(t)-1,t),e,2)}function E7(t,e){return vt(t.getFullYear()%100,e,2)}function A7(t,e){return t=H2(t),vt(t.getFullYear()%100,e,2)}function P7(t,e){return vt(t.getFullYear()%1e4,e,4)}function C7(t,e){var n=t.getDay();return t=n>=4||n===0?Zl(t):Zl.ceil(t),vt(t.getFullYear()%1e4,e,4)}function N7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function CI(t,e){return vt(t.getUTCDate(),e,2)}function I7(t,e){return vt(t.getUTCHours(),e,2)}function M7(t,e){return vt(t.getUTCHours()%12||12,e,2)}function O7(t,e){return vt(1+hm.count(wo(t),t),e,3)}function G2(t,e){return vt(t.getUTCMilliseconds(),e,3)}function k7(t,e){return G2(t,e)+"000"}function R7(t,e){return vt(t.getUTCMonth()+1,e,2)}function L7(t,e){return vt(t.getUTCMinutes(),e,2)}function D7(t,e){return vt(t.getUTCSeconds(),e,2)}function j7(t){var e=t.getUTCDay();return e===0?7:e}function $7(t,e){return vt(mm.count(wo(t)-1,t),e,2)}function V2(t){var e=t.getUTCDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function B7(t,e){return t=V2(t),vt(Yl.count(wo(t),t)+(wo(t).getUTCDay()===4),e,2)}function F7(t){return t.getUTCDay()}function U7(t,e){return vt(ap.count(wo(t)-1,t),e,2)}function z7(t,e){return vt(t.getUTCFullYear()%100,e,2)}function q7(t,e){return t=V2(t),vt(t.getUTCFullYear()%100,e,2)}function H7(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function G7(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yl(t):Yl.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function V7(){return"+0000"}function NI(){return"%"}function II(t){return+t}function MI(t){return Math.floor(+t/1e3)}var Al,W2,K2;W7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W7(t){return Al=WW(t),W2=Al.format,Al.parse,K2=Al.utcFormat,Al.utcParse,Al}function K7(t){return new Date(t)}function Z7(t){return t instanceof Date?+t:+new Date(+t)}function dS(t,e,n,r,i,o,a,u,f,d){var p=Xw(),m=p.invert,_=p.domain,S=d(".%L"),E=d(":%S"),A=d("%I:%M"),T=d("%I %p"),M=d("%a %d"),N=d("%b %d"),R=d("%B"),j=d("%Y");function O(k){return(f(k)<k?S:u(k)<k?E:a(k)<k?A:o(k)<k?T:r(k)<k?i(k)<k?M:N:n(k)<k?R:j)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?_(Array.from(k,Z7)):_().map(K7)},p.ticks=function(k){var $=_();return t($[0],$[$.length-1],k??10)},p.tickFormat=function(k,$){return $==null?O:d($)},p.nice=function(k){var $=_();return(!k||typeof k.range!="function")&&(k=e($[0],$[$.length-1],k??10)),k?_(R2($,k)):p},p.copy=function(){return Uf(p,dS(t,e,n,r,i,o,a,u,f,d))},p}function Y7(){return Kr.apply(dS(GW,VW,bo,cS,pm,zf,lS,aS,gs,W2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J7(){return Kr.apply(dS(qW,HW,wo,fS,mm,hm,uS,sS,gs,K2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gm(){var t=0,e=1,n,r,i,o,a=Vn,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:a(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(a=m,d):a};function p(m){return function(_){var S,E;return arguments.length?([S,E]=_,a=m(S,E),d):[a(0),a(1)]}}return d.range=p(Au),d.rangeRound=p(Jw),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Ma(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z2(){var t=Ia(gm()(Vn));return t.copy=function(){return Ma(t,Z2())},Co.apply(t,arguments)}function Y2(){var t=tS(gm()).domain([1,10]);return t.copy=function(){return Ma(t,Y2()).base(t.base())},Co.apply(t,arguments)}function J2(){var t=nS(gm());return t.copy=function(){return Ma(t,J2()).constant(t.constant())},Co.apply(t,arguments)}function hS(){var t=rS(gm());return t.copy=function(){return Ma(t,hS()).exponent(t.exponent())},Co.apply(t,arguments)}function X7(){return hS.apply(null,arguments).exponent(.5)}function X2(){var t=[],e=Vn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ba),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$8(t,o/r))},n.copy=function(){return X2(e).domain(t)},Co.apply(n,arguments)}function vm(){var t=0,e=.5,n=1,r=1,i,o,a,u,f,d=Vn,p,m=!1,_;function S(A){return isNaN(A=+A)?_:(A=.5+((A=+p(A))-o)*(r*A<r*o?u:f),d(m?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([t,e,n]=A,i=p(t=+t),o=p(e=+e),a=p(n=+n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,S):[t,e,n]},S.clamp=function(A){return arguments.length?(m=!!A,S):m},S.interpolator=function(A){return arguments.length?(d=A,S):d};function E(A){return function(T){var M,N,R;return arguments.length?([M,N,R]=T,d=cW(A,[M,N,R]),S):[d(0),d(.5),d(1)]}}return S.range=E(Au),S.rangeRound=E(Jw),S.unknown=function(A){return arguments.length?(_=A,S):_},function(A){return p=A,i=A(t),o=A(e),a=A(n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,S}}function Q2(){var t=Ia(vm()(Vn));return t.copy=function(){return Ma(t,Q2())},Co.apply(t,arguments)}function eL(){var t=tS(vm()).domain([.1,1,10]);return t.copy=function(){return Ma(t,eL()).base(t.base())},Co.apply(t,arguments)}function tL(){var t=nS(vm());return t.copy=function(){return Ma(t,tL()).constant(t.constant())},Co.apply(t,arguments)}function pS(){var t=rS(vm());return t.copy=function(){return Ma(t,pS()).exponent(t.exponent())},Co.apply(t,arguments)}function Q7(){return pS.apply(null,arguments).exponent(.5)}const OI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sf,scaleDiverging:Q2,scaleDivergingLog:eL,scaleDivergingPow:pS,scaleDivergingSqrt:Q7,scaleDivergingSymlog:tL,scaleIdentity:k2,scaleImplicit:cb,scaleLinear:rp,scaleLog:L2,scaleOrdinal:Kw,scalePoint:zc,scalePow:iS,scaleQuantile:$2,scaleQuantize:B2,scaleRadial:j2,scaleSequential:Z2,scaleSequentialLog:Y2,scaleSequentialPow:hS,scaleSequentialQuantile:X2,scaleSequentialSqrt:X7,scaleSequentialSymlog:J2,scaleSqrt:kW,scaleSymlog:D2,scaleThreshold:F2,scaleTime:Y7,scaleUtc:J7,tickFormat:O2},Symbol.toStringTag,{value:"Module"}));var I_,kI;function ym(){if(kI)return I_;kI=1;var t=wu();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var u=n[o],f=r(u);if(f!=null&&(d===void 0?f===f&&!t(f):i(f,d)))var d=f,p=u}return p}return I_=e,I_}var M_,RI;function nL(){if(RI)return M_;RI=1;function t(e,n){return e>n}return M_=t,M_}var O_,LI;function e9(){if(LI)return O_;LI=1;var t=ym(),e=nL(),n=Eu();function r(i){return i&&i.length?t(i,n,e):void 0}return O_=r,O_}var t9=e9();const va=yt(t9);var k_,DI;function rL(){if(DI)return k_;DI=1;function t(e,n){return e<n}return k_=t,k_}var R_,jI;function n9(){if(jI)return R_;jI=1;var t=ym(),e=rL(),n=Eu();function r(i){return i&&i.length?t(i,n,e):void 0}return R_=r,R_}var r9=n9();const _m=yt(r9);var L_,$I;function i9(){if($I)return L_;$I=1;var t=Mw(),e=Bi(),n=d2(),r=ar();function i(o,a){var u=r(o)?t:n;return u(o,e(a,3))}return L_=i,L_}var D_,BI;function o9(){if(BI)return D_;BI=1;var t=c2(),e=i9();function n(r,i){return t(e(r,i),1)}return D_=n,D_}var a9=o9();const s9=yt(a9);var j_,FI;function l9(){if(FI)return j_;FI=1;var t=qw();function e(n,r){return t(n,r)}return j_=e,j_}var u9=l9();const Ta=yt(u9);var Pu=1e9,c9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gS,zt=!0,Vr="[DecimalError] ",bs=Vr+"Invalid argument: ",mS=Vr+"Exponent out of range: ",Cu=Math.floor,fs=Math.pow,f9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,_n=1e7,Bt=7,iL=9007199254740991,sp=Cu(iL/Bt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return yo(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Ct(yo(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return on(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(Vr+"NaN");if(n.s<1)throw Error(Vr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(zt=!1,e=yo(df(n,o),df(t,o),o),zt=!0,Ct(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sL(e,t):oL(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vr+"NaN");return n.s?(zt=!1,e=yo(n,t,0,1).times(t),zt=!0,n.minus(e)):Ct(new r(n),i)};ke.naturalExponential=ke.exp=function(){return aL(this)};ke.naturalLogarithm=ke.ln=function(){return df(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oL(e,t):sL(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bs+t);if(e=on(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,i,o,a,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Vr+"NaN")}for(t=on(u),zt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Oi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=a=n+3;;)if(o=r,r=o.plus(yo(u,o,a+2)).times(.5),Oi(o.d).slice(0,a)===(e=Oi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ct(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return zt=!0,Ct(r,n)};ke.times=ke.mul=function(t){var e,n,r,i,o,a,u,f,d,p=this,m=p.constructor,_=p.d,S=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=_.length,d=S.length,f<d&&(o=_,_=S,S=o,a=f,f=d,d=a),o=[],a=f+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+S[r]*_[i-r-1]+e,o[i--]=u%_n|0,e=u/_n|0;o[i]=(o[i]+e)%_n|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,zt?Ct(t,m.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ji(t,0,Pu),e===void 0?e=r.rounding:ji(e,0,8),Ct(n,t+on(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ts(r,!0):(ji(t,0,Pu),e===void 0?e=i.rounding:ji(e,0,8),r=Ct(new i(r),t+1,e),n=Ts(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ts(i):(ji(t,0,Pu),e===void 0?e=o.rounding:ji(e,0,8),r=Ct(new o(i),t+on(i)+1,e),n=Ts(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Ct(new e(t),on(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,i,o,a,u=this,f=u.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(wr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Vr+"Infinity");return u}if(u.eq(wr))return u;if(r=f.precision,t.eq(wr))return Ct(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=p<0?-p:p)<=iL){for(i=new f(wr),e=Math.ceil(r/Bt+4),zt=!1;n%2&&(i=i.times(u),zI(i.d,e)),n=Cu(n/2),n!==0;)u=u.times(u),zI(u.d,e);return zt=!0,t.s<0?new f(wr).div(i):Ct(i,r)}}else if(o<0)throw Error(Vr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,zt=!1,i=t.times(df(u,r+d)),zt=!0,i=aL(i),i.s=o,i};ke.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=on(i),r=Ts(i,n<=o.toExpNeg||n>=o.toExpPos)):(ji(t,1,Pu),e===void 0?e=o.rounding:ji(e,0,8),i=Ct(new o(i),t,e),n=on(i),r=Ts(i,t<=n||n<=o.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ji(t,1,Pu),e===void 0?e=r.rounding:ji(e,0,8)),Ct(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return Ts(t,e<=n.toExpNeg||e>=n.toExpPos)};function oL(t,e){var n,r,i,o,a,u,f,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),zt?Ct(e,m):e;if(f=t.d,d=e.d,a=t.e,i=e.e,f=f.slice(),o=a-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=a,u=f.length),a=Math.ceil(m/Bt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/_n|0,f[o]%=_n;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,zt?Ct(e,m):e}function ji(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bs+t)}function Oi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Bt-r.length,n&&(o+=pa(n)),o+=r;a=t[e],r=a+"",n=Bt-r.length,n&&(o+=pa(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var yo=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%_n|0,a=o/_n|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,f;if(o!=a)f=o>a?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*_n+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,f,d,p,m,_,S,E,A,T,M,N,R,j,O,k,$,U,z=r.constructor,Z=r.s==i.s?1:-1,V=r.d,q=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Vr+"Division by zero");for(f=r.e-i.e,$=q.length,O=V.length,S=new z(Z),E=S.d=[],d=0;q[d]==(V[d]||0);)++d;if(q[d]>(V[d]||0)&&--f,o==null?N=o=z.precision:a?N=o+(on(r)-on(i))+1:N=o,N<0)return new z(0);if(N=N/Bt+2|0,d=0,$==1)for(p=0,q=q[0],N++;(d<O||p)&&N--;d++)R=p*_n+(V[d]||0),E[d]=R/q|0,p=R%q|0;else{for(p=_n/(q[0]+1)|0,p>1&&(q=t(q,p),V=t(V,p),$=q.length,O=V.length),j=$,A=V.slice(0,$),T=A.length;T<$;)A[T++]=0;U=q.slice(),U.unshift(0),k=q[0],q[1]>=_n/2&&++k;do p=0,u=e(q,A,$,T),u<0?(M=A[0],$!=T&&(M=M*_n+(A[1]||0)),p=M/k|0,p>1?(p>=_n&&(p=_n-1),m=t(q,p),_=m.length,T=A.length,u=e(m,A,_,T),u==1&&(p--,n(m,$<_?U:q,_))):(p==0&&(u=p=1),m=q.slice()),_=m.length,_<T&&m.unshift(0),n(A,m,T),u==-1&&(T=A.length,u=e(q,A,$,T),u<1&&(p++,n(A,$<T?U:q,T))),T=A.length):u===0&&(p++,A=[0]),E[d++]=p,u&&A[0]?A[T++]=V[j]||0:(A=[V[j]],T=1);while((j++<O||A[0]!==void 0)&&N--)}return E[0]||E.shift(),S.e=f,Ct(S,a?o+on(S)+1:o)}})();function aL(t,e){var n,r,i,o,a,u,f=0,d=0,p=t.constructor,m=p.precision;if(on(t)>16)throw Error(mS+on(t));if(!t.s)return new p(wr);for(zt=!1,u=m,a=new p(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(fs(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new p(wr),p.precision=u;;){if(i=Ct(i.times(t),u),n=n.times(++f),a=o.plus(yo(i,n,u)),Oi(a.d).slice(0,u)===Oi(o.d).slice(0,u)){for(;d--;)o=Ct(o.times(o),u);return p.precision=m,e==null?(zt=!0,Ct(o,m)):o}o=a}}function on(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function $_(t,e,n){if(e>t.LN10.sd())throw zt=!0,n&&(t.precision=n),Error(Vr+"LN10 precision limit exceeded");return Ct(new t(t.LN10),e)}function pa(t){for(var e="";t--;)e+="0";return e}function df(t,e){var n,r,i,o,a,u,f,d,p,m=1,_=10,S=t,E=S.d,A=S.constructor,T=A.precision;if(S.s<1)throw Error(Vr+(S.s?"NaN":"-Infinity"));if(S.eq(wr))return new A(0);if(e==null?(zt=!1,d=T):d=e,S.eq(10))return e==null&&(zt=!0),$_(A,d);if(d+=_,A.precision=d,n=Oi(E),r=n.charAt(0),o=on(S),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(t),n=Oi(S.d),r=n.charAt(0),m++;o=on(S),r>1?(S=new A("0."+n),o++):S=new A(r+"."+n.slice(1))}else return f=$_(A,d+2,T).times(o+""),S=df(new A(r+"."+n.slice(1)),d-_).plus(f),A.precision=T,e==null?(zt=!0,Ct(S,T)):S;for(u=a=S=yo(S.minus(wr),S.plus(wr),d),p=Ct(S.times(S),d),i=3;;){if(a=Ct(a.times(p),d),f=u.plus(yo(a,new A(i),d)),Oi(f.d).slice(0,d)===Oi(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus($_(A,d+2,T).times(o+""))),u=yo(u,new A(m),d),A.precision=T,e==null?(zt=!0,Ct(u,T)):u;u=f,i+=2}}function UI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Cu(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bt;r<i;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),zt&&(t.e>sp||t.e<-sp))throw Error(mS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ct(t,e,n){var r,i,o,a,u,f,d,p,m=t.d;for(a=1,o=m[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Bt,i=e,d=m[p=0];else{if(p=Math.ceil((r+1)/Bt),o=m.length,p>=o)return t;for(d=o=m[p],a=1;o>=10;o/=10)a++;r%=Bt,i=r-Bt+a}if(n!==void 0&&(o=fs(10,a-i-1),u=d/o%10|0,f=e<0||m[p+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/fs(10,a-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=on(t),m.length=1,e=e-o-1,m[0]=fs(10,(Bt-e%Bt)%Bt),t.e=Cu(-e/Bt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=fs(10,Bt-r),m[p]=i>0?(d/fs(10,a-i)%fs(10,i)|0)*o:0),f)for(;;)if(p==0){(m[0]+=o)==_n&&(m[0]=1,++t.e);break}else{if(m[p]+=o,m[p]!=_n)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(zt&&(t.e>sp||t.e<-sp))throw Error(mS+on(t));return t}function sL(t,e){var n,r,i,o,a,u,f,d,p,m,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),zt?Ct(e,S):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),a=d-r,a){for(p=a<0,p?(n=f,a=-a,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(S/Bt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}a=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>a;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=_n-1;--f[o],f[i]+=_n}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,zt?Ct(e,S):e):new _(0)}function Ts(t,e,n){var r,i=on(t),o=Oi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+pa(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+pa(-i-1)+o,n&&(r=n-a)>0&&(o+=pa(r))):i>=a?(o+=pa(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+pa(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=pa(r))),t.s<0?"-"+o:o}function zI(t,e){if(t.length>e)return t.length=e,!0}function lL(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bs+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return UI(a,o.toString())}else if(typeof o!="string")throw Error(bs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,f9.test(o))UI(a,o);else throw Error(bs+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lL,i.config=i.set=d9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function d9(t){if(!t||typeof t!="object")throw Error(Vr+"Object expected");var e,n,r,i=["precision",1,Pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Cu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bs+n+": "+r);return this}var gS=lL(c9);wr=new gS(1);const At=gS;function h9(t){return v9(t)||g9(t)||m9(t)||p9()}function p9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(t,e){if(t){if(typeof t=="string")return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function g9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function v9(t){if(Array.isArray(t))return pb(t)}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y9=function(e){return e},uL={},cL=function(e){return e===uL},qI=function(e){return function n(){return arguments.length===0||arguments.length===1&&cL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},_9=function t(e,n){return e===1?n:qI(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(u){return u!==uL}).length;return a>=e?n.apply(void 0,i):t(e-a,qI(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var p=i.map(function(m){return cL(m)?f.shift():m});return n.apply(void 0,h9(p).concat(f))}))})},xm=function(e){return _9(e.length,e)},mb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},x9=xm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),b9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return y9;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(u,f){return f(u)},o.apply(void 0,arguments))}},gb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(u,f){return u===n[f]})||(n=o,r=e.apply(void 0,o)),r}};function w9(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function S9(t,e,n){for(var r=new At(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var T9=xm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),E9=xm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),A9=xm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const bm={rangeStep:S9,getDigitCount:w9,interpolateNumber:T9,uninterpolateNumber:E9,uninterpolateTruncation:A9};function vb(t){return N9(t)||C9(t)||dL(t)||P9()}function P9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function N9(t){if(Array.isArray(t))return yb(t)}function hf(t,e){return O9(t)||M9(t,e)||dL(t,e)||I9()}function I9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(t,e){if(t){if(typeof t=="string")return yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(t,e)}}function yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M9(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),u;!(r=(u=a.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function O9(t){if(Array.isArray(t))return t}function hL(t){var e=hf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pL(t,e,n){if(t.lte(0))return new At(0);var r=bm.getDigitCount(t.toNumber()),i=new At(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new At(Math.ceil(o.div(a).toNumber())).add(n).mul(a),f=u.mul(i);return e?f:new At(Math.ceil(f))}function k9(t,e,n){var r=1,i=new At(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new At(10).pow(bm.getDigitCount(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var a=Math.floor((e-1)/2),u=b9(x9(function(f){return i.add(new At(f-a).mul(r)).toNumber()}),mb);return u(0,e)}function mL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var o=pL(new At(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new At(0):(a=new At(t).add(e).div(2),a=a.sub(new At(a).mod(o)));var u=Math.ceil(a.sub(t).div(o).toNumber()),f=Math.ceil(new At(e).sub(a).div(o).toNumber()),d=u+f+1;return d>n?mL(t,e,n,r,i+1):(d<n&&(f=e>0?f+(n-d):f,u=e>0?u:u+(n-d)),{step:o,tickMin:a.sub(new At(u).mul(o)),tickMax:a.add(new At(f).mul(o))})}function R9(t){var e=hf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),u=hL([n,r]),f=hf(u,2),d=f[0],p=f[1];if(d===-1/0||p===1/0){var m=p===1/0?[d].concat(vb(mb(0,i-1).map(function(){return 1/0}))):[].concat(vb(mb(0,i-1).map(function(){return-1/0})),[p]);return n>r?gb(m):m}if(d===p)return k9(d,i,o);var _=mL(d,p,a,o),S=_.step,E=_.tickMin,A=_.tickMax,T=bm.rangeStep(E,A.add(new At(.1).mul(S)),S);return n>r?gb(T):T}function L9(t,e){var n=hf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hL([r,i]),u=hf(a,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[r,i];if(f===d)return[f];var p=Math.max(e,2),m=pL(new At(d).sub(f).div(p-1),o,0),_=[].concat(vb(bm.rangeStep(new At(f),new At(d).sub(new At(.99).mul(m)),m)),[d]);return r>i?gb(_):_}var D9=fL(R9),j9=fL(L9),$9="Invariant failed";function Es(t,e){throw new Error($9)}var B9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function F9(t,e){return H9(t)||q9(t,e)||z9(t,e)||U9()}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function H9(t){if(Array.isArray(t))return t}function G9(t,e){if(t==null)return{};var n=V9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function Z9(t,e,n){return e&&K9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y9(t,e,n){return e=up(e),J9(t,gL()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function J9(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9(t)}function X9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function Q9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function vL(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=eK(t,"string");return Jl(e)=="symbol"?e:e+""}function eK(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nu=(function(t){function e(){return W9(this,e),Y9(this,e,arguments)}return Q9(e,t),Z9(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,u=r.dataKey,f=r.data,d=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,_=G9(r,B9),S=je(_,!1);this.props.direction==="x"&&p.type!=="number"&&Es();var E=f.map(function(A){var T=d(A,u),M=T.x,N=T.y,R=T.value,j=T.errorVal;if(!j)return null;var O=[],k,$;if(Array.isArray(j)){var U=F9(j,2);k=U[0],$=U[1]}else k=$=j;if(o==="vertical"){var z=p.scale,Z=N+i,V=Z+a,q=Z-a,ee=z(R-k),J=z(R+$);O.push({x1:J,y1:V,x2:J,y2:q}),O.push({x1:ee,y1:Z,x2:J,y2:Z}),O.push({x1:ee,y1:V,x2:ee,y2:q})}else if(o==="horizontal"){var oe=m.scale,ae=M+i,de=ae-a,X=ae+a,he=oe(R-k),ie=oe(R+$);O.push({x1:de,y1:ie,x2:X,y2:ie}),O.push({x1:ae,y1:he,x2:ae,y2:ie}),O.push({x1:de,y1:he,x2:X,y2:he})}return H.createElement(it,lp({className:"recharts-errorBar",key:"bar-".concat(O.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},S),O.map(function(G){return H.createElement("line",lp({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return H.createElement(it,{className:"recharts-errorBars"},E)}}])})(H.Component);vL(Nu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});vL(Nu,"displayName","ErrorBar");function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){tK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tK(t,e,n){return e=nK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=rK(t,"string");return pf(e)=="symbol"?e:e+""}function rK(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _L=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=br(n,_s);if(!a)return null;var u=_s.defaultProps,f=u!==void 0?as(as({},u),a.props):{},d;return a.props&&a.props.payload?d=a.props&&a.props.payload:o==="children"?d=(r||[]).reduce(function(p,m){var _=m.item,S=m.props,E=S.sectors||S.data||[];return p.concat(E.map(function(A){return{type:a.props.iconType||_.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):d=(r||[]).map(function(p){var m=p.item,_=m.type.defaultProps,S=_!==void 0?as(as({},_),m.props):{},E=S.dataKey,A=S.name,T=S.legendType,M=S.hide;return{inactive:M,dataKey:E,type:f.iconType||T||"square",color:vS(m),value:A||E,payload:S}}),as(as(as({},f),_s.getWithHeight(a,i)),{},{payload:d,item:a})};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function VI(t){return sK(t)||aK(t)||oK(t)||iK()}function iK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oK(t,e){if(t){if(typeof t=="string")return xb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xb(t,e)}}function aK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sK(t){if(Array.isArray(t))return xb(t)}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){Ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ul(t,e,n){return e=lK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lK(t){var e=uK(t,"string");return mf(e)=="symbol"?e:e+""}function uK(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ft(t,e,n){return Ve(t)||Ve(e)?n:hn(e)?Er(t,e,n):Ke(e)?e(t):n}function qc(t,e,n,r){var i=s9(t,function(u){return Ft(u,e)});if(n==="number"){var o=i.filter(function(u){return Ee(u)||parseFloat(u)});return o.length?[_m(o),va(o)]:[1/0,-1/0]}var a=r?i.filter(function(u){return!Ve(u)}):i;return a.map(function(u){return hn(u)||u instanceof Date?u:""})}var cK=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,u=(n=r?.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,d=0;d<u;d++){var p=d>0?i[d-1].coordinate:i[u-1].coordinate,m=i[d].coordinate,_=d>=u-1?i[0].coordinate:i[d+1].coordinate,S=void 0;if(Hn(m-p)!==Hn(_-m)){var E=[];if(Hn(_-m)===Hn(f[1]-f[0])){S=_;var A=m+f[1]-f[0];E[0]=Math.min(A,(A+p)/2),E[1]=Math.max(A,(A+p)/2)}else{S=p;var T=_+f[1]-f[0];E[0]=Math.min(m,(T+m)/2),E[1]=Math.max(m,(T+m)/2)}var M=[Math.min(m,(S+m)/2),Math.max(m,(S+m)/2)];if(e>M[0]&&e<=M[1]||e>=E[0]&&e<=E[1]){a=i[d].index;break}}else{var N=Math.min(p,_),R=Math.max(p,_);if(e>(N+m)/2&&e<=(R+m)/2){a=i[d].index;break}}}else for(var j=0;j<u;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<u-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===u-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){a=r[j].index;break}return a},vS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=o.stroke,u=o.fill,f;switch(i){case"Line":f=a;break;case"Area":case"Radar":f=a&&a!=="none"?a:u;break;default:f=u;break}return f},fK=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},u=Object.keys(o),f=0,d=u.length;f<d;f++)for(var p=o[u[f]].stackGroups,m=Object.keys(p),_=0,S=m.length;_<S;_++){var E=p[m[_]],A=E.items,T=E.cateAxisId,M=A.filter(function($){return vo($.type).indexOf("Bar")>=0});if(M&&M.length){var N=M[0].type.defaultProps,R=N!==void 0?Yt(Yt({},N),M[0].props):M[0].props,j=R.barSize,O=R[T];a[O]||(a[O]=[]);var k=Ve(j)?n:j;a[O].push({item:M[0],stackList:M.slice(1),barSize:Ve(k)?void 0:Gn(k,r,0)})}}return a},dK=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,u=e.maxBarSize,f=a.length;if(f<1)return null;var d=Gn(n,i,0,!0),p,m=[];if(a[0].barSize===+a[0].barSize){var _=!1,S=i/f,E=a.reduce(function(j,O){return j+O.barSize||0},0);E+=(f-1)*d,E>=i&&(E-=(f-1)*d,d=0),E>=i&&S>0&&(_=!0,S*=.9,E=f*S);var A=(i-E)/2>>0,T={offset:A-d,size:0};p=a.reduce(function(j,O){var k={item:O.item,position:{offset:T.offset+T.size+d,size:_?S:O.barSize}},$=[].concat(VI(j),[k]);return T=$[$.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){$.push({item:U,position:T})}),$},m)}else{var M=Gn(r,i,0,!0);i-2*M-(f-1)*d<=0&&(d=0);var N=(i-2*M-(f-1)*d)/f;N>1&&(N>>=0);var R=u===+u?Math.min(N,u):N;p=a.reduce(function(j,O,k){var $=[].concat(VI(j),[{item:O.item,position:{offset:M+(N+d)*k+(N-R)/2,size:R}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){$.push({item:U,position:$[$.length-1].position})}),$},m)}return p},hK=function(e,n,r,i){var o=r.children,a=r.width,u=r.margin,f=a-(u.left||0)-(u.right||0),d=_L({children:o,legendWidth:f});if(d){var p=i||{},m=p.width,_=p.height,S=d.align,E=d.verticalAlign,A=d.layout;if((A==="vertical"||A==="horizontal"&&E==="middle")&&S!=="center"&&Ee(e[S]))return Yt(Yt({},e),{},Ul({},S,e[S]+(m||0)));if((A==="horizontal"||A==="vertical"&&S==="center")&&E!=="middle"&&Ee(e[E]))return Yt(Yt({},e),{},Ul({},E,e[E]+(_||0)))}return e},pK=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},xL=function(e,n,r,i,o){var a=n.props.children,u=Wn(a,Nu).filter(function(d){return pK(i,o,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var m=Ft(p,r);if(Ve(m))return d;var _=Array.isArray(m)?[_m(m),va(m)]:[m,m],S=f.reduce(function(E,A){var T=Ft(p,A,0),M=_[0]-Math.abs(Array.isArray(T)?T[0]:T),N=_[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(M,E[0]),Math.max(N,E[1])]},[1/0,-1/0]);return[Math.min(S[0],d[0]),Math.max(S[1],d[1])]},[1/0,-1/0])}return null},mK=function(e,n,r,i,o){var a=n.map(function(u){return xL(e,u,r,o,i)}).filter(function(u){return!Ve(u)});return a&&a.length?a.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},bL=function(e,n,r,i,o){var a=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&xL(e,f,d,i)||qc(e,d,r,o)});if(r==="number")return a.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return a.reduce(function(f,d){for(var p=0,m=d.length;p<m;p++)u[d[p]]||(u[d[p]]=!0,f.push(d[p]));return f},[])},wL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SL=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var o,a,u=e.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(a=!0),f.coordinate});return o||u.push(n),a||u.push(r),u},go=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,u=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/f:0;if(d=e.axisType==="angleAxis"&&u?.length>=2?Hn(u[0]-u[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var _=o?o.indexOf(m):m;return{coordinate:i(_)+d,value:m,offset:d}});return p.filter(function(m){return!Tu(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,_){return{coordinate:i(m)+d,value:m,index:_,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,_){return{coordinate:i(m)+d,value:o?o[m]:m,index:_,offset:d}})},B_=new WeakMap,vh=function(e,n){if(typeof n!="function")return e;B_.has(e)||B_.set(e,new WeakMap);var r=B_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},TL=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,u=e.axisType;if(i==="auto")return a==="radial"&&u==="radiusAxis"?{scale:sf(),realScaleType:"band"}:a==="radial"&&u==="angleAxis"?{scale:rp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:zc(),realScaleType:"point"}:o==="category"?{scale:sf(),realScaleType:"band"}:{scale:rp(),realScaleType:"linear"};if(ws(i)){var f="scale".concat(im(i));return{scale:(OI[f]||zc)(),realScaleType:OI[f]?f:"point"}}return Ke(i)?{scale:i}:{scale:zc(),realScaleType:"point"}},KI=1e-4,EL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-KI,a=Math.max(i[0],i[1])+KI,u=e(n[0]),f=e(n[r-1]);(u<o||u>a||f<o||f>a)&&e.domain([n[0],n[r-1]])}},gK=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vK=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(o[0]=r),(!Ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},yK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,u=0;u<n;++u){var f=Tu(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1]):(e[u][r][0]=a,e[u][r][1]=a+f,a=e[u][r][1])}},_K=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var u=Tu(e[a][r][1])?e[a][r][0]:e[a][r][1];u>=0?(e[a][r][0]=o,e[a][r][1]=o+u,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},xK={sign:yK,expand:s6,none:zl,silhouette:l6,wiggle:u6,positive:_K},bK=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),o=xK[r],a=a6().keys(i).value(function(u,f){return+Ft(u,f,0)}).order(Zx).offset(o);return a(e)},wK=function(e,n,r,i,o,a){if(!e)return null;var u=a?n.reverse():n,f={},d=u.reduce(function(m,_){var S,E=(S=_.type)!==null&&S!==void 0&&S.defaultProps?Yt(Yt({},_.type.defaultProps),_.props):_.props,A=E.stackId,T=E.hide;if(T)return m;var M=E[r],N=m[M]||{hasStack:!1,stackGroups:{}};if(hn(A)){var R=N.stackGroups[A]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(_),N.hasStack=!0,N.stackGroups[A]=R}else N.stackGroups[Na("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[_]};return Yt(Yt({},m),{},Ul({},M,N))},f),p={};return Object.keys(d).reduce(function(m,_){var S=d[_];if(S.hasStack){var E={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(A,T){var M=S.stackGroups[T];return Yt(Yt({},A),{},Ul({},T,{numericAxisId:r,cateAxisId:i,items:M.items,stackedData:bK(e,M.items,o)}))},E)}return Yt(Yt({},m),{},Ul({},_,S))},p)},AL=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=D9(d,o,u);return e.domain([_m(p),va(p)]),{niceTicks:p}}if(o&&i==="number"){var m=e.domain(),_=j9(m,o,u);return{niceTicks:_}}return null};function Xl(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ve(i[e.dataKey])){var u=$h(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=Ft(i,Ve(a)?e.dataKey:a);return Ve(f)?null:e.scale(f)}var ZI=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var f=Ft(a,n.dataKey,n.domain[u]);return Ve(f)?null:n.scale(f)-o/2+i},SK=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},TK=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(hn(o)){var a=n[o];if(a){var u=a.items.indexOf(e);return u>=0?a.stackedData[u]:null}}return null},EK=function(e){return e.reduce(function(n,r){return[_m(r.concat([n[0]]).filter(Ee)),va(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},PL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],u=a.stackedData,f=u.reduce(function(d,p){var m=EK(p.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bb=function(e,n,r){if(Ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YI.test(e[0])){var o=+YI.exec(e[0])[1];i[0]=n[0]-o}else Ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(JI.test(e[1])){var a=+JI.exec(e[1])[1];i[1]=n[1]+a}else Ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},cp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Gw(n,function(m){return m.coordinate}),a=1/0,u=1,f=o.length;u<f;u++){var d=o[u],p=o[u-1];a=Math.min((d.coordinate||0)-(p.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},XI=function(e,n,r){return!e||!e.length||Ta(e,Er(r,"type.defaultProps.domain"))?n:e},CL=function(e,n){var r=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,u=r.formatter,f=r.tooltipType,d=r.chartType,p=r.hide;return Yt(Yt({},je(e,!1)),{},{dataKey:i,unit:a,formatter:u,name:o||i,color:vS(e),value:Ft(n,i),type:f,payload:n,chartType:d,hide:p})};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){NL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NL(t,e,n){return e=AK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=PK(t,"string");return gf(e)=="symbol"?e:e+""}function PK(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CK(t,e){return OK(t)||MK(t,e)||IK(t,e)||NK()}function NK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return eM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eM(t,e)}}function eM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function OK(t){if(Array.isArray(t))return t}var fp=Math.PI/180,kK=function(e){return e*180/Math.PI},Dt=function(e,n,r,i){return{x:e+Math.cos(-fp*i)*r,y:n+Math.sin(-fp*i)*r}},IL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},RK=function(e,n,r,i,o){var a=e.width,u=e.height,f=e.startAngle,d=e.endAngle,p=Gn(e.cx,a,a/2),m=Gn(e.cy,u,u/2),_=IL(a,u,r),S=Gn(e.innerRadius,_,0),E=Gn(e.outerRadius,_,_*.8),A=Object.keys(n);return A.reduce(function(T,M){var N=n[M],R=N.domain,j=N.reversed,O;if(Ve(N.range))i==="angleAxis"?O=[f,d]:i==="radiusAxis"&&(O=[S,E]),j&&(O=[O[1],O[0]]);else{O=N.range;var k=O,$=CK(k,2);f=$[0],d=$[1]}var U=TL(N,o),z=U.realScaleType,Z=U.scale;Z.domain(R).range(O),EL(Z);var V=AL(Z,ho(ho({},N),{},{realScaleType:z})),q=ho(ho(ho({},N),V),{},{range:O,radius:E,realScaleType:z,scale:Z,cx:p,cy:m,innerRadius:S,outerRadius:E,startAngle:f,endAngle:d});return ho(ho({},T),{},NL({},M,q))},{})},LK=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},DK=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,u=LK({x:r,y:i},{x:o,y:a});if(u<=0)return{radius:u};var f=(r-o)/u,d=Math.acos(f);return i>a&&(d=2*Math.PI-d),{radius:u,angle:kK(d),angleInRadian:d}},jK=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},$K=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),u=Math.min(o,a);return e+u*360},tM=function(e,n){var r=e.x,i=e.y,o=DK({x:r,y:i},n),a=o.radius,u=o.angle,f=n.innerRadius,d=n.outerRadius;if(a<f||a>d)return!1;if(a===0)return!0;var p=jK(n),m=p.startAngle,_=p.endAngle,S=u,E;if(m<=_){for(;S>_;)S-=360;for(;S<m;)S+=360;E=S>=m&&S<=_}else{for(;S>m;)S-=360;for(;S<_;)S+=360;E=S>=_&&S<=m}return E?ho(ho({},n),{},{radius:a,angle:$K(S,n)}):null},ML=function(e){return!K.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var BK=["offset"];function FK(t){return HK(t)||qK(t)||zK(t)||UK()}function UK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(t,e){if(t){if(typeof t=="string")return wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(t,e)}}function qK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HK(t){if(Array.isArray(t))return wb(t)}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GK(t,e){if(t==null)return{};var n=VK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){WK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WK(t,e,n){return e=KK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KK(t){var e=ZK(t,"string");return vf(e)=="symbol"?e:e+""}function ZK(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}var YK=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Ke(r)?r(i):i},JK=function(e,n){var r=Hn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},XK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,u=e.className,f=o,d=f.cx,p=f.cy,m=f.innerRadius,_=f.outerRadius,S=f.startAngle,E=f.endAngle,A=f.clockWise,T=(m+_)/2,M=JK(S,E),N=M>=0?1:-1,R,j;i==="insideStart"?(R=S+N*a,j=A):i==="insideEnd"?(R=E-N*a,j=!A):i==="end"&&(R=E+N*a,j=A),j=M<=0?j:!j;var O=Dt(d,p,T,R),k=Dt(d,p,T,R+(j?1:-1)*359),$="M".concat(O.x,",").concat(O.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(j?0:1,`,
    `).concat(k.x,",").concat(k.y),U=Ve(e.id)?Na("recharts-radial-line-"):e.id;return H.createElement("text",yf({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:U,d:$})),H.createElement("textPath",{xlinkHref:"#".concat(U)},n))},QK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,u=o.cy,f=o.innerRadius,d=o.outerRadius,p=o.startAngle,m=o.endAngle,_=(p+m)/2;if(i==="outside"){var S=Dt(a,u,d+r,_),E=S.x,A=S.y;return{x:E,y:A,textAnchor:E>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(f+d)/2,M=Dt(a,u,T,_),N=M.x,R=M.y;return{x:N,y:R,textAnchor:"middle",verticalAnchor:"middle"}},eZ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,u=a.x,f=a.y,d=a.width,p=a.height,m=p>=0?1:-1,_=m*i,S=m>0?"end":"start",E=m>0?"start":"end",A=d>=0?1:-1,T=A*i,M=A>0?"end":"start",N=A>0?"start":"end";if(o==="top"){var R={x:u+d/2,y:f-m*i,textAnchor:"middle",verticalAnchor:S};return dn(dn({},R),r?{height:Math.max(f-r.y,0),width:d}:{})}if(o==="bottom"){var j={x:u+d/2,y:f+p+_,textAnchor:"middle",verticalAnchor:E};return dn(dn({},j),r?{height:Math.max(r.y+r.height-(f+p),0),width:d}:{})}if(o==="left"){var O={x:u-T,y:f+p/2,textAnchor:M,verticalAnchor:"middle"};return dn(dn({},O),r?{width:Math.max(O.x-r.x,0),height:p}:{})}if(o==="right"){var k={x:u+d+T,y:f+p/2,textAnchor:N,verticalAnchor:"middle"};return dn(dn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:p}:{})}var $=r?{width:d,height:p}:{};return o==="insideLeft"?dn({x:u+T,y:f+p/2,textAnchor:N,verticalAnchor:"middle"},$):o==="insideRight"?dn({x:u+d-T,y:f+p/2,textAnchor:M,verticalAnchor:"middle"},$):o==="insideTop"?dn({x:u+d/2,y:f+_,textAnchor:"middle",verticalAnchor:E},$):o==="insideBottom"?dn({x:u+d/2,y:f+p-_,textAnchor:"middle",verticalAnchor:S},$):o==="insideTopLeft"?dn({x:u+T,y:f+_,textAnchor:N,verticalAnchor:E},$):o==="insideTopRight"?dn({x:u+d-T,y:f+_,textAnchor:M,verticalAnchor:E},$):o==="insideBottomLeft"?dn({x:u+T,y:f+p-_,textAnchor:N,verticalAnchor:S},$):o==="insideBottomRight"?dn({x:u+d-T,y:f+p-_,textAnchor:M,verticalAnchor:S},$):Su(o)&&(Ee(o.x)||ps(o.x))&&(Ee(o.y)||ps(o.y))?dn({x:u+Gn(o.x,d),y:f+Gn(o.y,p),textAnchor:"end",verticalAnchor:"end"},$):dn({x:u+d/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},tZ=function(e){return"cx"in e&&Ee(e.cx)};function xn(t){var e=t.offset,n=e===void 0?5:e,r=GK(t,BK),i=dn({offset:n},r),o=i.viewBox,a=i.position,u=i.value,f=i.children,d=i.content,p=i.className,m=p===void 0?"":p,_=i.textBreakAll;if(!o||Ve(u)&&Ve(f)&&!K.isValidElement(d)&&!Ke(d))return null;if(K.isValidElement(d))return K.cloneElement(d,i);var S;if(Ke(d)){if(S=K.createElement(d,i),K.isValidElement(S))return S}else S=YK(i);var E=tZ(o),A=je(i,!0);if(E&&(a==="insideStart"||a==="insideEnd"||a==="end"))return XK(i,S,A);var T=E?QK(i):eZ(i);return H.createElement(Ss,yf({className:nt("recharts-label",m)},A,T,{breakAll:_}),S)}xn.displayName="Label";var OL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,u=e.r,f=e.radius,d=e.innerRadius,p=e.outerRadius,m=e.x,_=e.y,S=e.top,E=e.left,A=e.width,T=e.height,M=e.clockWise,N=e.labelViewBox;if(N)return N;if(Ee(A)&&Ee(T)){if(Ee(m)&&Ee(_))return{x:m,y:_,width:A,height:T};if(Ee(S)&&Ee(E))return{x:S,y:E,width:A,height:T}}return Ee(m)&&Ee(_)?{x:m,y:_,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:d||0,outerRadius:p||f||u||0,clockWise:M}:e.viewBox?e.viewBox:{}},nZ=function(e,n){return e?e===!0?H.createElement(xn,{key:"label-implicit",viewBox:n}):hn(e)?H.createElement(xn,{key:"label-implicit",viewBox:n,value:e}):K.isValidElement(e)?e.type===xn?K.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(xn,{key:"label-implicit",content:e,viewBox:n}):Ke(e)?H.createElement(xn,{key:"label-implicit",content:e,viewBox:n}):Su(e)?H.createElement(xn,yf({viewBox:n},e,{key:"label-implicit"})):null:null},rZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=OL(e),a=Wn(i,xn).map(function(f,d){return K.cloneElement(f,{viewBox:n||o,key:"label-".concat(d)})});if(!r)return a;var u=nZ(e.label,n||o);return[u].concat(FK(a))};xn.parseViewBox=OL;xn.renderCallByParent=rZ;var F_,rM;function iZ(){if(rM)return F_;rM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return F_=t,F_}var oZ=iZ();const aZ=yt(oZ);function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}var sZ=["valueAccessor"],lZ=["data","dataKey","clockWise","id","textBreakAll"];function uZ(t){return hZ(t)||dZ(t)||fZ(t)||cZ()}function cZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function dZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hZ(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return _f(e)=="symbol"?e:e+""}function gZ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aM(t,e){if(t==null)return{};var n=vZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yZ=function(e){return Array.isArray(e.value)?aZ(e.value):e.value};function gi(t){var e=t.valueAccessor,n=e===void 0?yZ:e,r=aM(t,sZ),i=r.data,o=r.dataKey,a=r.clockWise,u=r.id,f=r.textBreakAll,d=aM(r,lZ);return!i||!i.length?null:H.createElement(it,{className:"recharts-label-list"},i.map(function(p,m){var _=Ve(o)?n(p,m):Ft(p&&p.payload,o),S=Ve(u)?{}:{id:"".concat(u,"-").concat(m)};return H.createElement(xn,dp({},je(p,!0),d,S,{parentViewBox:p.parentViewBox,value:_,textBreakAll:f,viewBox:xn.parseViewBox(Ve(a)?p:oM(oM({},p),{},{clockWise:a})),key:"label-".concat(m),index:m}))}))}gi.displayName="LabelList";function _Z(t,e){return t?t===!0?H.createElement(gi,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ke(t)?H.createElement(gi,{key:"labelList-implicit",data:e,content:t}):Su(t)?H.createElement(gi,dp({data:e},t,{key:"labelList-implicit"})):null:null}function xZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Wn(r,gi).map(function(a,u){return K.cloneElement(a,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var o=_Z(t.label,e);return[o].concat(uZ(i))}gi.renderCallByParent=xZ;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=SZ(t,"string");return xf(e)=="symbol"?e:e+""}function SZ(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TZ=function(e,n){var r=Hn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},yh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,u=e.isExternal,f=e.cornerRadius,d=e.cornerIsExternal,p=f*(u?1:-1)+i,m=Math.asin(f/p)/fp,_=d?o:o+a*m,S=Dt(n,r,p,_),E=Dt(n,r,i,_),A=d?o-a*m:o,T=Dt(n,r,p*Math.cos(m*fp),A);return{center:S,circleTangency:E,lineTangency:T,theta:m}},kL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,u=e.endAngle,f=TZ(a,u),d=a+f,p=Dt(n,r,o,a),m=Dt(n,r,o,d),_="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var S=Dt(n,r,i,a),E=Dt(n,r,i,d);_+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(a<=d),`,
            `).concat(S.x,",").concat(S.y," Z")}else _+="L ".concat(n,",").concat(r," Z");return _},EZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,m=Hn(p-d),_=yh({cx:n,cy:r,radius:o,angle:d,sign:m,cornerRadius:a,cornerIsExternal:f}),S=_.circleTangency,E=_.lineTangency,A=_.theta,T=yh({cx:n,cy:r,radius:o,angle:p,sign:-m,cornerRadius:a,cornerIsExternal:f}),M=T.circleTangency,N=T.lineTangency,R=T.theta,j=f?Math.abs(d-p):Math.abs(d-p)-A-R;if(j<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):kL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:p});var O="M ".concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var k=yh({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),$=k.circleTangency,U=k.lineTangency,z=k.theta,Z=yh({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),V=Z.circleTangency,q=Z.lineTangency,ee=Z.theta,J=f?Math.abs(d-p):Math.abs(d-p)-z-ee;if(J<0&&a===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(m>0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},AZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RL=function(e){var n=lM(lM({},AZ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,_=n.className;if(a<o||p===m)return null;var S=nt("recharts-sector",_),E=a-o,A=Gn(u,E,0,!0),T;return A>0&&Math.abs(p-m)<360?T=EZ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(A,E/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:p,endAngle:m}):T=kL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:p,endAngle:m}),H.createElement("path",Tb({},je(n,!0),{className:S,d:T,role:"img"}))};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){PZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e,n){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=NZ(t,"string");return bf(e)=="symbol"?e:e+""}function NZ(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fM={curveBasisClosed:ZH,curveBasisOpen:YH,curveBasis:KH,curveBumpX:RH,curveBumpY:LH,curveLinearClosed:JH,curveLinear:am,curveMonotoneX:XH,curveMonotoneY:QH,curveNatural:e6,curveStep:t6,curveStepAfter:r6,curveStepBefore:n6},_h=function(e){return e.x===+e.x&&e.y===+e.y},Oc=function(e){return e.x},kc=function(e){return e.y},IZ=function(e,n){if(Ke(e))return e;var r="curve".concat(im(e));return(r==="curveMonotone"||r==="curveBump")&&n?fM["".concat(r).concat(n==="vertical"?"Y":"X")]:fM[r]||am},MZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,u=e.layout,f=e.connectNulls,d=f===void 0?!1:f,p=IZ(r,u),m=d?o.filter(function(A){return _h(A)}):o,_;if(Array.isArray(a)){var S=d?a.filter(function(A){return _h(A)}):a,E=m.map(function(A,T){return cM(cM({},A),{},{base:S[T]})});return u==="vertical"?_=ch().y(kc).x1(Oc).x0(function(A){return A.base.x}):_=ch().x(Oc).y1(kc).y0(function(A){return A.base.y}),_.defined(_h).curve(p),_(E)}return u==="vertical"&&Ee(a)?_=ch().y(kc).x1(Oc).x0(a):Ee(a)?_=ch().x(Oc).y1(kc).y0(a):_=kR().x(Oc).y(kc),_.defined(_h).curve(p),_(m)},wa=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?MZ(e):i;return K.createElement("path",Eb({},je(e,!1),Bh(e),{className:nt("recharts-curve",n),d:a,ref:o}))},U_={exports:{}},z_,dM;function OZ(){if(dM)return z_;dM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return z_=t,z_}var q_,hM;function kZ(){if(hM)return q_;hM=1;var t=OZ();function e(){}function n(){}return n.resetWarningCache=e,q_=function(){function r(a,u,f,d,p,m){if(m!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},q_}var pM;function RZ(){return pM||(pM=1,U_.exports=kZ()()),U_.exports}var LZ=RZ();const wt=yt(LZ),{getOwnPropertyNames:DZ,getOwnPropertySymbols:jZ}=Object,{hasOwnProperty:$Z}=Object.prototype;function H_(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function xh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),u=o.get(r);if(a&&u)return a===r&&u===n;o.set(n,r),o.set(r,n);const f=t(n,r,i);return o.delete(n),o.delete(r),f}}function BZ(t){return t?.[Symbol.toStringTag]}function mM(t){return DZ(t).concat(jZ(t))}const FZ=Object.hasOwn||((t,e)=>$Z.call(t,e));function Os(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const UZ="__v",zZ="__o",qZ="_owner",{getOwnPropertyDescriptor:gM,keys:vM}=Object;function HZ(t,e){return t.byteLength===e.byteLength&&hp(new Uint8Array(t),new Uint8Array(e))}function GZ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function VZ(t,e){return t.byteLength===e.byteLength&&hp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function WZ(t,e){return Os(t.getTime(),e.getTime())}function KZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ZZ(t,e){return t===e}function yM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,u,f=0;for(;(a=o.next())&&!a.done;){const d=e.entries();let p=!1,m=0;for(;(u=d.next())&&!u.done;){if(i[m]){m++;continue}const _=a.value,S=u.value;if(n.equals(_[0],S[0],f,m,t,e,n)&&n.equals(_[1],S[1],_[0],S[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}const YZ=Os;function JZ(t,e,n){const r=vM(t);let i=r.length;if(vM(e).length!==i)return!1;for(;i-- >0;)if(!LL(t,e,n,r[i]))return!1;return!0}function Rc(t,e,n){const r=mM(t);let i=r.length;if(mM(e).length!==i)return!1;let o,a,u;for(;i-- >0;)if(o=r[i],!LL(t,e,n,o)||(a=gM(t,o),u=gM(e,o),(a||u)&&(!a||!u||a.configurable!==u.configurable||a.enumerable!==u.enumerable||a.writable!==u.writable)))return!1;return!0}function XZ(t,e){return Os(t.valueOf(),e.valueOf())}function QZ(t,e){return t.source===e.source&&t.flags===e.flags}function _M(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,u;for(;(a=o.next())&&!a.done;){const f=e.values();let d=!1,p=0;for(;(u=f.next())&&!u.done;){if(!i[p]&&n.equals(a.value,u.value,a.value,u.value,t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function hp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function eY(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LL(t,e,n,r){return(r===qZ||r===zZ||r===UZ)&&(t.$$typeof||e.$$typeof)?!0:FZ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const tY="[object ArrayBuffer]",nY="[object Arguments]",rY="[object Boolean]",iY="[object DataView]",oY="[object Date]",aY="[object Error]",sY="[object Map]",lY="[object Number]",uY="[object Object]",cY="[object RegExp]",fY="[object Set]",dY="[object String]",hY={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pY="[object URL]",mY=Object.prototype.toString;function gY({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:_,areUrlsEqual:S,unknownTagComparators:E}){return function(T,M,N){if(T===M)return!0;if(T==null||M==null)return!1;const R=typeof T;if(R!==typeof M)return!1;if(R!=="object")return R==="number"?u(T,M,N):R==="function"?o(T,M,N):!1;const j=T.constructor;if(j!==M.constructor)return!1;if(j===Object)return f(T,M,N);if(Array.isArray(T))return e(T,M,N);if(j===Date)return r(T,M,N);if(j===RegExp)return p(T,M,N);if(j===Map)return a(T,M,N);if(j===Set)return m(T,M,N);const O=mY.call(T);if(O===oY)return r(T,M,N);if(O===cY)return p(T,M,N);if(O===sY)return a(T,M,N);if(O===fY)return m(T,M,N);if(O===uY)return typeof T.then!="function"&&typeof M.then!="function"&&f(T,M,N);if(O===pY)return S(T,M,N);if(O===aY)return i(T,M,N);if(O===nY)return f(T,M,N);if(hY[O])return _(T,M,N);if(O===tY)return t(T,M,N);if(O===iY)return n(T,M,N);if(O===rY||O===lY||O===dY)return d(T,M,N);if(E){let k=E[O];if(!k){const $=BZ(T);$&&(k=E[$])}if(k)return k(T,M,N)}return!1}}function vY({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:HZ,areArraysEqual:n?Rc:GZ,areDataViewsEqual:VZ,areDatesEqual:WZ,areErrorsEqual:KZ,areFunctionsEqual:ZZ,areMapsEqual:n?H_(yM,Rc):yM,areNumbersEqual:YZ,areObjectsEqual:n?Rc:JZ,arePrimitiveWrappersEqual:XZ,areRegExpsEqual:QZ,areSetsEqual:n?H_(_M,Rc):_M,areTypedArraysEqual:n?H_(hp,Rc):hp,areUrlsEqual:eY,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=xh(r.areArraysEqual),o=xh(r.areMapsEqual),a=xh(r.areObjectsEqual),u=xh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:u})}return r}function yY(t){return function(e,n,r,i,o,a,u){return t(e,n,u)}}function _Y({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,f){const{cache:d=t?new WeakMap:void 0,meta:p}=n();return e(u,f,{cache:d,equals:r,meta:p,strict:i})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,f){return e(u,f,o)}}const xY=Oa();Oa({strict:!0});Oa({circular:!0});Oa({circular:!0,strict:!0});Oa({createInternalComparator:()=>Os});Oa({strict:!0,createInternalComparator:()=>Os});Oa({circular:!0,createInternalComparator:()=>Os});Oa({circular:!0,createInternalComparator:()=>Os,strict:!0});function Oa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=vY(t),a=gY(o),u=n?n(a):yY(a);return _Y({circular:e,comparator:a,createState:r,equals:u,strict:i})}function bY(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):bY(i)};requestAnimationFrame(r)}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function wY(t){return AY(t)||EY(t)||TY(t)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(t,e){if(t){if(typeof t=="string")return bM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(t,e)}}function bM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AY(t){if(Array.isArray(t))return t}function PY(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,u=wY(a),f=u[0],d=u.slice(1);if(typeof f=="number"){xM(i.bind(null,d),f);return}i(f),xM(i.bind(null,d));return}Ab(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){DL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DL(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=NY(t,"string");return wf(e)==="symbol"?e:String(e)}function NY(t,e){if(wf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IY=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},MY=function(e){return e},OY=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Hc=function(e,n){return Object.keys(n).reduce(function(r,i){return SM(SM({},r),{},DL({},i,e(i,n[i])))},{})},TM=function(e,n,r){return e.map(function(i){return"".concat(OY(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kY(t,e){return DY(t)||LY(t,e)||jL(t,e)||RY()}function RY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function DY(t){if(Array.isArray(t))return t}function jY(t){return FY(t)||BY(t)||jL(t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jL(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function BY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FY(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pp=1e-4,$L=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},EM=function(e,n){return function(r){var i=$L(e,n);return BL(i,r)}},UY=function(e,n){return function(r){var i=$L(e,n),o=[].concat(jY(i.map(function(a,u){return a*u}).slice(1)),[0]);return BL(o,r)}},AM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,u=1;break;case"ease":i=.25,o=.1,a=.25,u=1;break;case"ease-in":i=.42,o=0,a=1,u=1;break;case"ease-out":i=.42,o=0,a=.58,u=1;break;case"ease-in-out":i=0,o=0,a=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),p=kY(d,4);i=p[0],o=p[1],a=p[2],u=p[3]}}}var m=EM(i,a),_=EM(o,u),S=UY(i,a),E=function(M){return M>1?1:M<0?0:M},A=function(M){for(var N=M>1?1:M,R=N,j=0;j<8;++j){var O=m(R)-N,k=S(R);if(Math.abs(O-N)<pp||k<pp)return _(R);R=E(R-O/k)}return _(R)};return A.isStepper=!1,A},zY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,u=a===void 0?17:a,f=function(p,m,_){var S=-(p-m)*r,E=_*o,A=_+(S-E)*u/1e3,T=_*u/1e3+p;return Math.abs(T-m)<pp&&Math.abs(A)<pp?[m,0]:[T,A]};return f.isStepper=!0,f.dt=u,f},qY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AM(i);case"spring":return zY();default:if(i.split("(")[0]==="cubic-bezier")return AM(i)}return typeof i=="function"?i:null};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function PM(t){return VY(t)||GY(t)||FL(t)||HY()}function HY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VY(t){if(Array.isArray(t))return Nb(t)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){Cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cb(t,e,n){return e=WY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WY(t){var e=KY(t,"string");return Sf(e)==="symbol"?e:String(e)}function KY(t,e){if(Sf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZY(t,e){return XY(t)||JY(t,e)||FL(t,e)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FL(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function XY(t){if(Array.isArray(t))return t}var mp=function(e,n,r){return e+(n-e)*r},Ib=function(e){var n=e.from,r=e.to;return n!==r},QY=function t(e,n,r){var i=Hc(function(o,a){if(Ib(a)){var u=e(a.from,a.to,a.velocity),f=ZY(u,2),d=f[0],p=f[1];return Pn(Pn({},a),{},{from:d,velocity:p})}return a},n);return r<1?Hc(function(o,a){return Ib(a)?Pn(Pn({},a),{},{velocity:mp(a.velocity,i[o].velocity,r),from:mp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const eJ=(function(t,e,n,r,i){var o=IY(t,e),a=o.reduce(function(T,M){return Pn(Pn({},T),{},Cb({},M,[t[M],e[M]]))},{}),u=o.reduce(function(T,M){return Pn(Pn({},T),{},Cb({},M,{from:t[M],velocity:0,to:e[M]}))},{}),f=-1,d,p,m=function(){return null},_=function(){return Hc(function(M,N){return N.from},u)},S=function(){return!Object.values(u).filter(Ib).length},E=function(M){d||(d=M);var N=M-d,R=N/n.dt;u=QY(n,u,R),i(Pn(Pn(Pn({},t),e),_())),d=M,S()||(f=requestAnimationFrame(m))},A=function(M){p||(p=M);var N=(M-p)/r,R=Hc(function(O,k){return mp.apply(void 0,PM(k).concat([n(N)]))},a);if(i(Pn(Pn(Pn({},t),e),R)),N<1)f=requestAnimationFrame(m);else{var j=Hc(function(O,k){return mp.apply(void 0,PM(k).concat([n(1)]))},a);i(Pn(Pn(Pn({},t),e),j))}};return m=n.isStepper?E:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}var tJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nJ(t,e){if(t==null)return{};var n=rJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G_(t){return sJ(t)||aJ(t)||oJ(t)||iJ()}function iJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return Mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mb(t,e)}}function aJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sJ(t){if(Array.isArray(t))return Mb(t)}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){Fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fc(t,e,n){return e=UL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UL(r.key),r)}}function cJ(t,e,n){return e&&uJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UL(t){var e=fJ(t,"string");return Ql(e)==="symbol"?e:String(e)}function fJ(t,e){if(Ql(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ob(t,e)}function Ob(t,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ob(t,e)}function hJ(t){var e=pJ();return function(){var r=gp(t),i;if(e){var o=gp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kb(this,i)}}function kb(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rb(t)}function Rb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}var Wr=(function(t){dJ(n,t);var e=hJ(n);function n(r,i){var o;lJ(this,n),o=e.call(this,r,i);var a=o.props,u=a.isActive,f=a.attributeName,d=a.from,p=a.to,m=a.steps,_=a.children,S=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Rb(o)),o.changeStyle=o.changeStyle.bind(Rb(o)),!u||S<=0)return o.state={style:{}},typeof _=="function"&&(o.state={style:p}),kb(o);if(m&&m.length)o.state={style:m[0].style};else if(d){if(typeof _=="function")return o.state={style:d},kb(o);o.state={style:f?Fc({},f,d):d}}else o.state={style:{}};return o}return cJ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,u=o.canBegin,f=o.attributeName,d=o.shouldReAnimate,p=o.to,m=o.from,_=this.state.style;if(u){if(!a){var S={style:f?Fc({},f,p):p};this.state&&_&&(f&&_[f]!==p||!f&&_!==p)&&this.setState(S);return}if(!(xY(i.to,p)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=E||d?m:i.to;if(this.state&&_){var T={style:f?Fc({},f,A):A};(f&&_[f]!==A||!f&&_!==A)&&this.setState(T)}this.runAnimation(li(li({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,u=i.to,f=i.duration,d=i.easing,p=i.begin,m=i.onAnimationEnd,_=i.onAnimationStart,S=eJ(a,u,qY(d),f,this.changeStyle),E=function(){o.stopJSAnimation=S()};this.manager.start([_,p,E,f,m])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,u=i.begin,f=i.onAnimationStart,d=a[0],p=d.style,m=d.duration,_=m===void 0?0:m,S=function(A,T,M){if(M===0)return A;var N=T.duration,R=T.easing,j=R===void 0?"ease":R,O=T.style,k=T.properties,$=T.onAnimationEnd,U=M>0?a[M-1]:T,z=k||Object.keys(O);if(typeof j=="function"||j==="spring")return[].concat(G_(A),[o.runJSAnimation.bind(o,{from:U.style,to:O,duration:N,easing:j}),N]);var Z=TM(z,N,j),V=li(li(li({},U.style),O),{},{transition:Z});return[].concat(G_(A),[V,N,$]).filter(MY)};return this.manager.start([f].concat(G_(a.reduce(S,[p,Math.max(_,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=PY());var o=i.begin,a=i.duration,u=i.attributeName,f=i.to,d=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,_=i.steps,S=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof d=="function"||typeof S=="function"||d==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var A=u?Fc({},u,f):f,T=TM(Object.keys(A),a,d);E.start([p,o,li(li({},A),{},{transition:T}),a,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=nJ(i,tJ),d=K.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!u||d===0||a<=0)return o;var m=function(S){var E=S.props,A=E.style,T=A===void 0?{}:A,M=E.className,N=K.cloneElement(S,li(li({},f),{},{style:li(li({},T),p),className:M}));return N};return d===1?m(K.Children.only(o)):H.createElement("div",null,K.Children.map(o,function(_){return m(_)}))}}]),n})(K.PureComponent);Wr.displayName="Animate";Wr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wr.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function mJ(t,e){return _J(t)||yJ(t,e)||vJ(t,e)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(t,e){if(t){if(typeof t=="string")return IM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(t,e)}}function IM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function _J(t){if(Array.isArray(t))return t}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return Tf(e)=="symbol"?e:e+""}function wJ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,f=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,p;if(a>0&&o instanceof Array){for(var m=[0,0,0,0],_=0,S=4;_<S;_++)m[_]=o[_]>a?a:o[_];p="M".concat(e,",").concat(n+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+u*m[1])),p+="L ".concat(e+r,",").concat(n+i-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-u*m[3])),p+="Z"}else if(a>0&&o===+o&&o>0){var E=Math.min(a,o);p="M ".concat(e,",").concat(n+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(e+f*E,",").concat(n,`
            L `).concat(e+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(e+r,",").concat(n+u*E,`
            L `).concat(e+r,",").concat(n+i-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(e+r-f*E,",").concat(n+i,`
            L `).concat(e+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(e,",").concat(n+i-u*E," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},SJ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(o,o+u),p=Math.max(o,o+u),m=Math.min(a,a+f),_=Math.max(a,a+f);return r>=d&&r<=p&&i>=m&&i<=_}return!1},TJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yS=function(e){var n=OM(OM({},TJ),e),r=K.useRef(),i=K.useState(-1),o=mJ(i,2),a=o[0],u=o[1];K.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&u(j)}catch{}},[]);var f=n.x,d=n.y,p=n.width,m=n.height,_=n.radius,S=n.className,E=n.animationEasing,A=n.animationDuration,T=n.animationBegin,M=n.isAnimationActive,N=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var R=nt("recharts-rectangle",S);return N?H.createElement(Wr,{canBegin:a>0,from:{width:p,height:m,x:f,y:d},to:{width:p,height:m,x:f,y:d},duration:A,animationEasing:E,isActive:N},function(j){var O=j.width,k=j.height,$=j.x,U=j.y;return H.createElement(Wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:M,easing:E},H.createElement("path",vp({},je(n,!0),{className:R,d:kM($,U,O,k,_),ref:r})))}):H.createElement("path",vp({},je(n,!0),{className:R,d:kM(f,d,p,m,_)}))},EJ=["points","className","baseLinePoints","connectNulls"];function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}function AJ(t,e){if(t==null)return{};var n=PJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RM(t){return MJ(t)||IJ(t)||NJ(t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function IJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LM=function(e){return e&&e.x===+e.x&&e.y===+e.y},OJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){LM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),LM(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Gc=function(e,n){var r=OJ(e);n&&(r=[r.reduce(function(o,a){return[].concat(RM(o),RM(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,u,f){return"".concat(a).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},kJ=function(e,n,r){var i=Gc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Gc(n.reverse(),r).slice(1))},RJ=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=AJ(e,EJ);if(!n||!n.length)return null;var u=nt("recharts-polygon",r);if(i&&i.length){var f=a.stroke&&a.stroke!=="none",d=kJ(n,i,o);return H.createElement("g",{className:u},H.createElement("path",kl({},je(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),f?H.createElement("path",kl({},je(a,!0),{fill:"none",d:Gc(n,o)})):null,f?H.createElement("path",kl({},je(a,!0),{fill:"none",d:Gc(i,o)})):null)}var p=Gc(n,o);return H.createElement("path",kl({},je(a,!0),{fill:p.slice(-1)==="Z"?a.fill:"none",className:u,d:p}))};function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}var qf=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=nt("recharts-dot",o);return n===+n&&r===+r&&i===+i?K.createElement("circle",Db({},je(e,!1),Bh(e),{className:a,cx:n,cy:r,r:i})):null};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var LJ=["x","y","top","left","width","height","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){jJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jJ(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=BJ(t,"string");return Ef(e)=="symbol"?e:e+""}function BJ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t,e){if(t==null)return{};var n=UJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zJ=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},qJ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,u=a===void 0?0:a,f=e.left,d=f===void 0?0:f,p=e.width,m=p===void 0?0:p,_=e.height,S=_===void 0?0:_,E=e.className,A=FJ(e,LJ),T=DJ({x:r,y:o,top:u,left:d,width:m,height:S},A);return!Ee(r)||!Ee(o)||!Ee(m)||!Ee(S)||!Ee(u)||!Ee(d)?null:H.createElement("path",jb({},je(T,!0),{className:nt("recharts-cross",E),d:zJ(r,o,m,S,u,d)}))},V_,jM;function HJ(){if(jM)return V_;jM=1;var t=ym(),e=nL(),n=Bi();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return V_=r,V_}var GJ=HJ();const VJ=yt(GJ);var W_,$M;function WJ(){if($M)return W_;$M=1;var t=ym(),e=Bi(),n=rL();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return W_=r,W_}var KJ=WJ();const ZJ=yt(KJ);var YJ=["cx","cy","angle","ticks","axisLine"],JJ=["ticks","tick","angle","tickFormatter","stroke"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FM(t,e){if(t==null)return{};var n=XJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qL(r.key),r)}}function eX(t,e,n){return e&&UM(t.prototype,e),n&&UM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=yp(e),nX(t,zL()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function iX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$b(t,e)}function $b(t,e){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$b(t,e)}function wm(t,e,n){return e=qL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qL(t){var e=oX(t,"string");return eu(e)=="symbol"?e:e+""}function oX(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sm=(function(t){function e(){return QJ(this,e),tX(this,e,arguments)}return iX(e,t),eX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,u=o.cx,f=o.cy;return Dt(u,f,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,u=r.ticks,f=VJ(u,function(p){return p.coordinate||0}),d=ZJ(u,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,u=r.ticks,f=r.axisLine,d=FM(r,YJ),p=u.reduce(function(E,A){return[Math.min(E[0],A.coordinate),Math.max(E[1],A.coordinate)]},[1/0,-1/0]),m=Dt(i,o,p[0],a),_=Dt(i,o,p[1],a),S=ss(ss(ss({},je(d,!1)),{},{fill:"none"},je(f,!1)),{},{x1:m.x,y1:m.y,x2:_.x,y2:_.y});return H.createElement("line",Vc({className:"recharts-polar-radius-axis-line"},S))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,u=i.angle,f=i.tickFormatter,d=i.stroke,p=FM(i,JJ),m=this.getTickTextAnchor(),_=je(p,!1),S=je(a,!1),E=o.map(function(A,T){var M=r.getTickValueCoord(A),N=ss(ss(ss(ss({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(M.x,", ").concat(M.y,")")},_),{},{stroke:"none",fill:d},S),{},{index:T},M),{},{payload:A});return H.createElement(it,Vc({className:nt("recharts-polar-radius-axis-tick",ML(a)),key:"tick-".concat(A.coordinate)},Sa(r.props,A,T)),e.renderTickItem(a,N,f?f(A.value,T):A.value))});return H.createElement(it,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:H.createElement(it,{className:nt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),xn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):Ke(r)?a=r(i):a=H.createElement(Ss,Vc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])})(K.PureComponent);wm(Sm,"displayName","PolarRadiusAxis");wm(Sm,"axisType","radiusAxis");wm(Sm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){Tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GL(r.key),r)}}function sX(t,e,n){return e&&qM(t.prototype,e),n&&qM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lX(t,e,n){return e=_p(e),uX(t,HL()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function uX(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(t)}function cX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function fX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bb(t,e)}function Tm(t,e,n){return e=GL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GL(t){var e=dX(t,"string");return tu(e)=="symbol"?e:e+""}function dX(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hX=Math.PI/180,HM=1e-5,Em=(function(t){function e(){return aX(this,e),lX(this,e,arguments)}return fX(e,t),sX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,u=i.radius,f=i.orientation,d=i.tickSize,p=d||8,m=Dt(o,a,u,r.coordinate),_=Dt(o,a,u+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:_.x,y2:_.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*hX),a;return o>HM?a=i==="outer"?"start":"end":o<-HM?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,u=r.axisLine,f=r.axisLineType,d=ls(ls({},je(this.props,!1)),{},{fill:"none"},je(u,!1));if(f==="circle")return H.createElement(qf,ds({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:o,r:a}));var p=this.props.ticks,m=p.map(function(_){return Dt(i,o,a,_.coordinate)});return H.createElement(RJ,ds({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,u=i.tickLine,f=i.tickFormatter,d=i.stroke,p=je(this.props,!1),m=je(a,!1),_=ls(ls({},p),{},{fill:"none"},je(u,!1)),S=o.map(function(E,A){var T=r.getTickLineCoord(E),M=r.getTickTextAnchor(E),N=ls(ls(ls({textAnchor:M},p),{},{stroke:"none",fill:d},m),{},{index:A,payload:E,x:T.x2,y:T.y2});return H.createElement(it,ds({className:nt("recharts-polar-angle-axis-tick",ML(a)),key:"tick-".concat(E.coordinate)},Sa(r.props,E,A)),u&&H.createElement("line",ds({className:"recharts-polar-angle-axis-tick-line"},_,T)),a&&e.renderTickItem(a,N,f?f(E.value,A):E.value))});return H.createElement(it,{className:"recharts-polar-angle-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:H.createElement(it,{className:nt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):Ke(r)?a=r(i):a=H.createElement(Ss,ds({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])})(K.PureComponent);Tm(Em,"displayName","PolarAngleAxis");Tm(Em,"axisType","angleAxis");Tm(Em,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var K_,GM;function pX(){if(GM)return K_;GM=1;var t=n2(),e=t(Object.getPrototypeOf,Object);return K_=e,K_}var Z_,VM;function mX(){if(VM)return Z_;VM=1;var t=Eo(),e=pX(),n=Ao(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,u=o.hasOwnProperty,f=a.call(Object);function d(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var _=u.call(m,"constructor")&&m.constructor;return typeof _=="function"&&_ instanceof _&&a.call(_)==f}return Z_=d,Z_}var gX=mX();const vX=yt(gX);var Y_,WM;function yX(){if(WM)return Y_;WM=1;var t=Eo(),e=Ao(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Y_=r,Y_}var _X=yX();const xX=yt(_X);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function bX(t,e){return EX(t)||TX(t,e)||SX(t,e)||wX()}function wX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(t,e){if(t){if(typeof t=="string")return KM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KM(t,e)}}function KM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function EX(t){if(Array.isArray(t))return t}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return e=PX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=CX(t,"string");return Af(e)=="symbol"?e:e+""}function CX(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JM=function(e,n,r,i,o){var a=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-a/2,",").concat(n+o),u+="L ".concat(e+r-a/2-i,",").concat(n+o),u+="L ".concat(e,",").concat(n," Z"),u},NX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IX=function(e){var n=YM(YM({},NX),e),r=K.useRef(),i=K.useState(-1),o=bX(i,2),a=o[0],u=o[1];K.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&u(R)}catch{}},[]);var f=n.x,d=n.y,p=n.upperWidth,m=n.lowerWidth,_=n.height,S=n.className,E=n.animationEasing,A=n.animationDuration,T=n.animationBegin,M=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||m!==+m||_!==+_||p===0&&m===0||_===0)return null;var N=nt("recharts-trapezoid",S);return M?H.createElement(Wr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:_,x:f,y:d},to:{upperWidth:p,lowerWidth:m,height:_,x:f,y:d},duration:A,animationEasing:E,isActive:M},function(R){var j=R.upperWidth,O=R.lowerWidth,k=R.height,$=R.x,U=R.y;return H.createElement(Wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:E},H.createElement("path",xp({},je(n,!0),{className:N,d:JM($,U,j,O,k),ref:r})))}):H.createElement("g",null,H.createElement("path",xp({},je(n,!0),{className:N,d:JM(f,d,p,m,_)})))},MX=["option","shapeType","propTransformer","activeClassName","isActive"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function OX(t,e){if(t==null)return{};var n=kX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return e=LX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LX(t){var e=DX(t,"string");return Pf(e)=="symbol"?e:e+""}function DX(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jX(t,e){return bp(bp({},e),t)}function $X(t,e){return t==="symbols"}function QM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(yS,n);case"trapezoid":return H.createElement(IX,n);case"sector":return H.createElement(RL,n);case"symbols":if($X(e))return H.createElement(lm,n);break;default:return null}}function BX(t){return K.isValidElement(t)?t.props:t}function wp(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?jX:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,u=t.isActive,f=OX(t,MX),d;if(K.isValidElement(e))d=K.cloneElement(e,bp(bp({},f),BX(e)));else if(Ke(e))d=e(f);else if(vX(e)&&!xX(e)){var p=i(e,f);d=H.createElement(QM,{shapeType:n,elementProps:p})}else{var m=f;d=H.createElement(QM,{shapeType:n,elementProps:m})}return u?H.createElement(it,{className:a},d):d}function Am(t,e){return e!=null&&"trapezoids"in t.props}function Pm(t,e){return e!=null&&"sectors"in t.props}function Cf(t,e){return e!=null&&"points"in t.props}function FX(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function UX(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function zX(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qX(t,e){var n;return Am(t,e)?n=FX:Pm(t,e)?n=UX:Cf(t,e)&&(n=zX),n}function HX(t,e){var n;return Am(t,e)?n="trapezoids":Pm(t,e)?n="sectors":Cf(t,e)&&(n="points"),n}function GX(t,e){if(Am(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Pm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Cf(t,e)?e.payload:{}}function VX(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=HX(n,e),o=GX(n,e),a=r.filter(function(f,d){var p=Ta(o,f),m=n.props[i].filter(function(E){var A=qX(n,e);return A(E,e)}),_=n.props[i].indexOf(m[m.length-1]),S=d===_;return p&&S}),u=r.indexOf(a[a.length-1]);return u}var Ph;function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WL(r.key),r)}}function KX(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZX(t,e,n){return e=Sp(e),YX(t,VL()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function YX(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(t)}function JX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function XX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fb(t,e)}function qr(t,e,n){return e=WL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WL(t){var e=QX(t,"string");return nu(e)=="symbol"?e:e+""}function QX(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=(function(t){function e(n){var r;return WX(this,e),r=ZX(this,e,[n]),qr(r,"pieRef",null),qr(r,"sectorRefs",[]),qr(r,"id",Na("recharts-pie-")),qr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(i)&&i()}),qr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return XX(e,t),KX(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,u=o.labelLine,f=o.dataKey,d=o.valueKey,p=je(this.props,!1),m=je(a,!1),_=je(u,!1),S=a&&a.offsetRadius||20,E=r.map(function(A,T){var M=(A.startAngle+A.endAngle)/2,N=Dt(A.cx,A.cy,A.outerRadius+S,M),R=Rt(Rt(Rt(Rt({},p),A),{},{stroke:"none"},m),{},{index:T,textAnchor:e.getTextAnchor(N.x,A.cx)},N),j=Rt(Rt(Rt(Rt({},p),A),{},{fill:"none",stroke:A.fill},_),{},{index:T,points:[Dt(A.cx,A.cy,A.outerRadius,M),N]}),O=f;return Ve(f)&&Ve(d)?O="value":Ve(f)&&(O=d),H.createElement(it,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,j,"line"),e.renderLabelItem(a,R,Ft(A,O)))});return H.createElement(it,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,u=o.blendStroke,f=o.inactiveShape;return r.map(function(d,p){if(d?.startAngle===0&&d?.endAngle===0&&r.length!==1)return null;var m=i.isActiveIndex(p),_=f&&i.hasActiveIndex()?f:null,S=m?a:_,E=Rt(Rt({},d),{},{stroke:u?d.fill:d.stroke,tabIndex:-1});return H.createElement(it,Rl({ref:function(T){T&&!i.sectorRefs.includes(T)&&i.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},Sa(i.props,d,p),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(p)}),H.createElement(wp,Rl({option:S,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state,_=m.prevSectors,S=m.prevIsAnimationActive;return H.createElement(Wr,{begin:u,duration:f,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(S),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var A=E.t,T=[],M=o&&o[0],N=M.startAngle;return o.forEach(function(R,j){var O=_&&_[j],k=j>0?Er(R,"paddingAngle",0):0;if(O){var $=Wt(O.endAngle-O.startAngle,R.endAngle-R.startAngle),U=Rt(Rt({},R),{},{startAngle:N+k,endAngle:N+$(A)+k});T.push(U),N=U.endAngle}else{var z=R.endAngle,Z=R.startAngle,V=Wt(0,z-Z),q=V(A),ee=Rt(Rt({},R),{},{startAngle:N+k,endAngle:N+q+k});T.push(ee),N=ee.endAngle}}),H.createElement(it,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Ta(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,u=i.className,f=i.label,d=i.cx,p=i.cy,m=i.innerRadius,_=i.outerRadius,S=i.isAnimationActive,E=this.state.isAnimationFinished;if(o||!a||!a.length||!Ee(d)||!Ee(p)||!Ee(m)||!Ee(_))return null;var A=nt("recharts-pie",u);return H.createElement(it,{tabIndex:this.props.rootTabIndex,className:A,ref:function(M){r.pieRef=M}},this.renderSectors(),f&&this.renderLabels(a),xn.renderCallByParent(this.props,null,!1),(!S||E)&&gi.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);if(Ke(r))return r(i);var a=nt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return H.createElement(wa,Rl({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(H.isValidElement(r))return H.cloneElement(r,i);var a=o;if(Ke(r)&&(a=r(i),H.isValidElement(a)))return a;var u=nt("recharts-pie-label-text",typeof r!="boolean"&&!Ke(r)?r.className:"");return H.createElement(Ss,Rl({},i,{alignmentBaseline:"middle",className:u}),a)}}])})(K.PureComponent);Ph=No;qr(No,"displayName","Pie");qr(No,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Po.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qr(No,"parseDeltaAngle",function(t,e){var n=Hn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});qr(No,"getRealPieData",function(t){var e=t.data,n=t.children,r=je(t,!1),i=Wn(n,Wl);return e&&e.length?e.map(function(o,a){return Rt(Rt(Rt({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Rt(Rt({},r),o.props)}):[]});qr(No,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=IL(i,o),u=r+Gn(t.cx,i,i/2),f=n+Gn(t.cy,o,o/2),d=Gn(t.innerRadius,a,0),p=Gn(t.outerRadius,a,a*.8),m=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:p,maxRadius:m}});qr(No,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=Ph.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,u=r.endAngle,f=r.paddingAngle,d=r.dataKey,p=r.nameKey,m=r.valueKey,_=r.tooltipType,S=Math.abs(r.minAngle),E=Ph.parseCoordinateOfPie(r,n),A=Ph.parseDeltaAngle(a,u),T=Math.abs(A),M=d;Ve(d)&&Ve(m)?(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),M="value"):Ve(d)&&(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),M=m);var N=i.filter(function(U){return Ft(U,M,0)!==0}).length,R=(T>=360?N:N-1)*f,j=T-N*S-R,O=i.reduce(function(U,z){var Z=Ft(z,M,0);return U+(Ee(Z)?Z:0)},0),k;if(O>0){var $;k=i.map(function(U,z){var Z=Ft(U,M,0),V=Ft(U,p,z),q=(Ee(Z)?Z:0)/O,ee;z?ee=$.endAngle+Hn(A)*f*(Z!==0?1:0):ee=a;var J=ee+Hn(A)*((Z!==0?S:0)+q*j),oe=(ee+J)/2,ae=(E.innerRadius+E.outerRadius)/2,de=[{name:V,value:Z,payload:U,dataKey:M,type:_}],X=Dt(E.cx,E.cy,ae,oe);return $=Rt(Rt(Rt({percent:q,cornerRadius:o,name:V,tooltipPayload:de,midAngle:oe,middleRadius:ae,tooltipPosition:X},U),E),{},{value:Ft(U,M),startAngle:ee,endAngle:J,payload:U,paddingAngle:Hn(A)*f}),$})}return Rt(Rt({},E),{},{sectors:k,data:i})});var J_,nO;function eQ(){if(nO)return J_;nO=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var u=-1,f=e(t((i-r)/(o||1)),0),d=Array(f);f--;)d[a?f:++u]=r,r+=o;return d}return J_=n,J_}var X_,rO;function KL(){if(rO)return X_;rO=1;var t=y2(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return X_=r,X_}var Q_,iO;function tQ(){if(iO)return Q_;iO=1;var t=eQ(),e=fm(),n=KL();function r(i){return function(o,a,u){return u&&typeof u!="number"&&e(o,a,u)&&(a=u=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),u=u===void 0?o<a?1:-1:n(u),t(o,a,u,i)}}return Q_=r,Q_}var ex,oO;function nQ(){if(oO)return ex;oO=1;var t=tQ(),e=t();return ex=e,ex}var rQ=nQ();const Tp=yt(rQ);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){ZL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZL(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=oQ(t,"string");return Nf(e)=="symbol"?e:e+""}function oQ(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aQ=["Webkit","Moz","O","ms"],sQ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=aQ.reduce(function(o,a){return sO(sO({},o),{},ZL({},a+r,n))},{});return i[e]=n,i};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JL(r.key),r)}}function uQ(t,e,n){return e&&uO(t.prototype,e),n&&uO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cQ(t,e,n){return e=Ap(e),fQ(t,YL()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function fQ(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQ(t)}function dQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function hQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ub(t,e)}function xr(t,e,n){return e=JL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t){var e=pQ(t,"string");return ru(e)=="symbol"?e:e+""}function pQ(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mQ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=zc().domain(Tp(0,f)).range([o,o+a-u]),p=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:p}},cO=function(e){return e.changedTouches&&!!e.changedTouches.length},iu=(function(t){function e(n){var r;return lQ(this,e),r=cQ(this,e,[n]),xr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,u=i.startIndex;a?.({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xr(r,"handleSlideDragStart",function(i){var o=cO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return hQ(e,t),uQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,p=d.length-1,m=Math.min(i,o),_=Math.max(i,o),S=e.getIndexInRange(a,m),E=e.getIndexInRange(a,_);return{startIndex:S-S%f,endIndex:E===p?p:E-E%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,u=i.dataKey,f=Ft(o[r],u,r);return Ke(a)?a(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,u=i.endX,f=this.props,d=f.x,p=f.width,m=f.travellerWidth,_=f.startIndex,S=f.endIndex,E=f.onChange,A=r.pageX-o;A>0?A=Math.min(A,d+p-m-u,d+p-m-a):A<0&&(A=Math.max(A,d-a,d-u));var T=this.getIndex({startX:a+A,endX:u+A});(T.startIndex!==_||T.endIndex!==S)&&E&&E(T),this.setState({startX:a+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=cO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,u=i.endX,f=i.startX,d=this.state[a],p=this.props,m=p.x,_=p.width,S=p.travellerWidth,E=p.onChange,A=p.gap,T=p.data,M={startX:this.state.startX,endX:this.state.endX},N=r.pageX-o;N>0?N=Math.min(N,m+_-S-d):N<0&&(N=Math.max(N,m-d)),M[a]=d+N;var R=this.getIndex(M),j=R.startIndex,O=R.endIndex,k=function(){var U=T.length-1;return a==="startX"&&(u>f?j%A===0:O%A===0)||u<f&&O===U||a==="endX"&&(u>f?O%A===0:j%A===0)||u>f&&O===U};this.setState(xr(xr({},a,d+N),"brushMoveStartX",r.pageX),function(){E&&k()&&E(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,u=a.scaleValues,f=a.startX,d=a.endX,p=this.state[i],m=u.indexOf(p);if(m!==-1){var _=m+r;if(!(_===-1||_>=u.length)){var S=u[_];i==="startX"&&S>=d||i==="endX"&&S<=f||this.setState(xr({},i,S),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,f=r.fill,d=r.stroke;return H.createElement("rect",{stroke:d,fill:f,x:i,y:o,width:a,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,f=r.data,d=r.children,p=r.padding,m=K.Children.only(d);return m?H.cloneElement(m,{x:i,y:o,width:a,height:u,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,u=this,f=this.props,d=f.y,p=f.travellerWidth,m=f.height,_=f.traveller,S=f.ariaLabel,E=f.data,A=f.startIndex,T=f.endIndex,M=Math.max(r,this.props.x),N=tx(tx({},je(this.props,!1)),{},{x:M,y:d,width:p,height:m}),R=S||"Min value: ".concat((o=E[A])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=E[T])===null||a===void 0?void 0:a.name);return H.createElement(it,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,N))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,u=o.height,f=o.stroke,d=o.travellerWidth,p=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:a,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,u=r.height,f=r.travellerWidth,d=r.stroke,p=this.state,m=p.startX,_=p.endX,S=5,E={pointerEvents:"none",fill:d};return H.createElement(it,{className:"recharts-brush-texts"},H.createElement(Ss,Ep({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,_)-S,y:a+u/2},E),this.getTextOfTick(i)),H.createElement(Ss,Ep({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,_)+f+S,y:a+u/2},E),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,u=r.x,f=r.y,d=r.width,p=r.height,m=r.alwaysShowText,_=this.state,S=_.startX,E=_.endX,A=_.isTextActive,T=_.isSlideMoving,M=_.isTravellerMoving,N=_.isTravellerFocused;if(!i||!i.length||!Ee(u)||!Ee(f)||!Ee(d)||!Ee(p)||d<=0||p<=0)return null;var R=nt("recharts-brush",o),j=H.Children.count(a)===1,O=sQ("userSelect","none");return H.createElement(it,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(S,E),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(E,"endX"),(A||T||M||N||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,u=r.height,f=r.stroke,d=Math.floor(o+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:a,height:u,fill:f,stroke:"none"}),H.createElement("line",{x1:i+1,y1:d,x2:i+a-1,y2:d,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:d+2,x2:i+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ke(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,u=r.x,f=r.travellerWidth,d=r.updateId,p=r.startIndex,m=r.endIndex;if(o!==i.prevData||d!==i.prevUpdateId)return tx({prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:a},o&&o.length?mQ({data:o,width:a,x:u,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+a-f]);var _=i.scale.domain().map(function(S){return i.scale(S)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,u=o-1;u-a>1;){var f=Math.floor((a+u)/2);r[f]>i?u=f:a=f}return i>=r[u]?u:a}}])})(K.PureComponent);xr(iu,"displayName","Brush");xr(iu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nx,fO;function gQ(){if(fO)return nx;fO=1;var t=Hw();function e(n,r){var i;return t(n,function(o,a,u){return i=r(o,a,u),!i}),!!i}return nx=e,nx}var rx,dO;function vQ(){if(dO)return rx;dO=1;var t=ZR(),e=Bi(),n=gQ(),r=ar(),i=fm();function o(a,u,f){var d=r(a)?t:n;return f&&i(a,u,f)&&(u=void 0),d(a,e(u,3))}return rx=o,rx}var yQ=vQ();const _Q=yt(yQ);var Di=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},ix,hO;function xQ(){if(hO)return ix;hO=1;var t=h2();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return ix=e,ix}var ox,pO;function bQ(){if(pO)return ox;pO=1;var t=xQ(),e=f2(),n=Bi();function r(i,o){var a={};return o=n(o,3),e(i,function(u,f,d){t(a,f,o(u,f,d))}),a}return ox=r,ox}var wQ=bQ();const SQ=yt(wQ);var ax,mO;function TQ(){if(mO)return ax;mO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return ax=t,ax}var sx,gO;function EQ(){if(gO)return sx;gO=1;var t=Hw();function e(n,r){var i=!0;return t(n,function(o,a,u){return i=!!r(o,a,u),i}),i}return sx=e,sx}var lx,vO;function AQ(){if(vO)return lx;vO=1;var t=TQ(),e=EQ(),n=Bi(),r=ar(),i=fm();function o(a,u,f){var d=r(a)?t:e;return f&&i(a,u,f)&&(u=void 0),d(a,n(u,3))}return lx=o,lx}var PQ=AQ();const XL=yt(PQ);var CQ=["x","y"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return e=IQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=MQ(t,"string");return If(e)=="symbol"?e:e+""}function MQ(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OQ(t,e){if(t==null)return{};var n=kQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RQ(t,e){var n=t.x,r=t.y,i=OQ(t,CQ),o="".concat(n),a=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),p=parseInt(d,10),m="".concat(e.width||i.width),_=parseInt(m,10);return Lc(Lc(Lc(Lc(Lc({},e),i),a?{x:a}:{}),f?{y:f}:{}),{},{height:p,width:_,name:e.name,radius:e.radius})}function _O(t){return H.createElement(wp,zb({shapeType:"rectangle",propTransformer:RQ,activeClassName:"recharts-active-bar"},t))}var LQ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ee(r)||tH(r);return o?e(r,i):(o||Es(),n)}},DQ=["value","background"],QL;function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function jQ(t,e){if(t==null)return{};var n=$Q(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tD(r.key),r)}}function FQ(t,e,n){return e&&bO(t.prototype,e),n&&bO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQ(t,e,n){return e=Cp(e),zQ(t,eD()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function zQ(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQ(t)}function qQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function HQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function ya(t,e,n){return e=tD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t){var e=GQ(t,"string");return ou(e)=="symbol"?e:e+""}function GQ(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ks=(function(t){function e(){var n;BQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UQ(this,e,[].concat(i)),ya(n,"state",{isAnimationFinished:!1}),ya(n,"id",Na("recharts-bar-")),ya(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ya(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return HQ(e,t),FQ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,u=o.dataKey,f=o.activeIndex,d=o.activeBar,p=je(this.props,!1);return r&&r.map(function(m,_){var S=_===f,E=S?d:a,A=rn(rn(rn({},p),m),{},{isActive:S,option:E,index:_,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(it,Pp({className:"recharts-bar-rectangle"},Sa(i.props,m,_),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(_)}),H.createElement(_O,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,p=i.animationEasing,m=i.animationId,_=this.state.prevData;return H.createElement(Wr,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t,A=o.map(function(T,M){var N=_&&_[M];if(N){var R=Wt(N.x,T.x),j=Wt(N.y,T.y),O=Wt(N.width,T.width),k=Wt(N.height,T.height);return rn(rn({},T),{},{x:R(E),y:j(E),width:O(E),height:k(E)})}if(a==="horizontal"){var $=Wt(0,T.height),U=$(E);return rn(rn({},T),{},{y:T.y+T.height-U,height:U})}var z=Wt(0,T.width),Z=z(E);return rn(rn({},T),{},{width:Z})});return H.createElement(it,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ta(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,u=i.activeIndex,f=je(this.props.background,!1);return o.map(function(d,p){d.value;var m=d.background,_=jQ(d,DQ);if(!m)return null;var S=rn(rn(rn(rn(rn({},_),{},{fill:"#eee"},m),f),Sa(r.props,d,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:p,className:"recharts-bar-background-rectangle"});return H.createElement(_O,Pp({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},S))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,u=o.xAxis,f=o.yAxis,d=o.layout,p=o.children,m=Wn(p,Nu);if(!m)return null;var _=d==="vertical"?a[0].height/2:a[0].width/2,S=function(T,M){var N=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:N,errorVal:Ft(T,M)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(it,E,m.map(function(A){return H.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:a,xAxis:u,yAxis:f,layout:d,offset:_,dataPointFormatter:S})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,u=r.xAxis,f=r.yAxis,d=r.left,p=r.top,m=r.width,_=r.height,S=r.isAnimationActive,E=r.background,A=r.id;if(i||!o||!o.length)return null;var T=this.state.isAnimationFinished,M=nt("recharts-bar",a),N=u&&u.allowDataOverflow,R=f&&f.allowDataOverflow,j=N||R,O=Ve(A)?this.id:A;return H.createElement(it,{className:M},N||R?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(O)},H.createElement("rect",{x:N?d:d-m/2,y:R?p:p-_/2,width:N?m:m*2,height:R?_:_*2}))):null,H.createElement(it,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(O,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,O),(!S||T)&&gi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(K.PureComponent);QL=ks;ya(ks,"displayName","Bar");ya(ks,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ya(ks,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,m=t.displayedData,_=t.offset,S=gK(r,n);if(!S)return null;var E=e.layout,A=n.type.defaultProps,T=A!==void 0?rn(rn({},A),n.props):n.props,M=T.dataKey,N=T.children,R=T.minPointSize,j=E==="horizontal"?a:o,O=d?j.scale.domain():null,k=SK({numericAxis:j}),$=Wn(N,Wl),U=m.map(function(z,Z){var V,q,ee,J,oe,ae;d?V=vK(d[p+Z],O):(V=Ft(z,M),Array.isArray(V)||(V=[k,V]));var de=LQ(R,QL.defaultProps.minPointSize)(V[1],Z);if(E==="horizontal"){var X,he=[a.scale(V[0]),a.scale(V[1])],ie=he[0],G=he[1];q=ZI({axis:o,ticks:u,bandSize:i,offset:S.offset,entry:z,index:Z}),ee=(X=G??ie)!==null&&X!==void 0?X:void 0,J=S.size;var ne=ie-G;if(oe=Number.isNaN(ne)?0:ne,ae={x:q,y:a.y,width:J,height:a.height},Math.abs(de)>0&&Math.abs(oe)<Math.abs(de)){var re=Hn(oe||de)*(Math.abs(de)-Math.abs(oe));ee-=re,oe+=re}}else{var me=[o.scale(V[0]),o.scale(V[1])],ge=me[0],xe=me[1];if(q=ge,ee=ZI({axis:a,ticks:f,bandSize:i,offset:S.offset,entry:z,index:Z}),J=xe-ge,oe=S.size,ae={x:o.x,y:ee,width:o.width,height:oe},Math.abs(de)>0&&Math.abs(J)<Math.abs(de)){var $e=Hn(J||de)*(Math.abs(de)-Math.abs(J));J+=$e}}return rn(rn(rn({},z),{},{x:q,y:ee,width:J,height:oe,value:d?V:V[1],payload:z,background:ae},$&&$[Z]&&$[Z].props),{},{tooltipPayload:[CL(n,z)],tooltipPosition:{x:q+J/2,y:ee+oe/2}})});return rn({data:U,layout:E},_)});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function VQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function WQ(t,e,n){return e&&wO(t.prototype,e),n&&wO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cm(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=KQ(t,"string");return Mf(e)=="symbol"?e:e+""}function KQ(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=function(e,n,r,i,o){var a=e.width,u=e.height,f=e.layout,d=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},_=!!br(d,ks);return p.reduce(function(S,E){var A=n[E],T=A.orientation,M=A.domain,N=A.padding,R=N===void 0?{}:N,j=A.mirror,O=A.reversed,k="".concat(T).concat(j?"Mirror":""),$,U,z,Z,V;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var q=M[1]-M[0],ee=1/0,J=A.categoricalDomain.sort(oH);if(J.forEach(function(me,ge){ge>0&&(ee=Math.min((me||0)-(J[ge-1]||0),ee))}),Number.isFinite(ee)){var oe=ee/q,ae=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&($=oe*ae/2),A.padding==="no-gap"){var de=Gn(e.barCategoryGap,oe*ae),X=oe*ae/2;$=X-de-(X-de)/ae*de}}}i==="xAxis"?U=[r.left+(R.left||0)+($||0),r.left+r.width-(R.right||0)-($||0)]:i==="yAxis"?U=f==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+($||0),r.top+r.height-(R.bottom||0)-($||0)]:U=A.range,O&&(U=[U[1],U[0]]);var he=TL(A,o,_),ie=he.scale,G=he.realScaleType;ie.domain(M).range(U),EL(ie);var ne=AL(ie,ui(ui({},A),{},{realScaleType:G}));i==="xAxis"?(V=T==="top"&&!j||T==="bottom"&&j,z=r.left,Z=m[k]-V*A.height):i==="yAxis"&&(V=T==="left"&&!j||T==="right"&&j,z=m[k]-V*A.width,Z=r.top);var re=ui(ui(ui({},A),ne),{},{realScaleType:G,x:z,y:Z,scale:ie,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return re.bandSize=cp(re,ne),!A.hide&&i==="xAxis"?m[k]+=(V?-1:1)*re.height:A.hide||(m[k]+=(V?-1:1)*re.width),ui(ui({},S),{},Cm({},E,re))},{})},iD=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},ZQ=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return iD({x:n,y:r},{x:i,y:o})},oD=(function(){function t(e){VQ(this,t),this.scale=e}return WQ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Cm(oD,"EPS",1e-4);var _S=function(e){var n=Object.keys(e).reduce(function(r,i){return ui(ui({},r),{},Cm({},i,oD.create(e[i])))},{});return ui(ui({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,u=o.position;return SQ(i,function(f,d){return n[d].apply(f,{bandAware:a,position:u})})},isInRange:function(i){return XL(i,function(o,a){return n[a].isInRange(o)})}})};function YQ(t){return(t%180+180)%180}var JQ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=YQ(i),a=o*Math.PI/180,u=Math.atan(r/n),f=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(f)},ux,TO;function XQ(){if(TO)return ux;TO=1;var t=Bi(),e=$f(),n=um();function r(i){return function(o,a,u){var f=Object(o);if(!e(o)){var d=t(a,3);o=n(o),a=function(m){return d(f[m],m,f)}}var p=i(o,a,u);return p>-1?f[d?o[p]:p]:void 0}}return ux=r,ux}var cx,EO;function QQ(){if(EO)return cx;EO=1;var t=KL();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return cx=e,cx}var fx,AO;function eee(){if(AO)return fx;AO=1;var t=a2(),e=Bi(),n=QQ(),r=Math.max;function i(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=r(f+d,0)),t(o,e(a,3),d)}return fx=i,fx}var dx,PO;function tee(){if(PO)return dx;PO=1;var t=XQ(),e=eee(),n=t(e);return dx=n,dx}var nee=tee();const ree=yt(nee);var iee=bR();const oee=yt(iee);var aee=oee(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),xS=K.createContext(void 0),bS=K.createContext(void 0),aD=K.createContext(void 0),sD=K.createContext({}),lD=K.createContext(void 0),uD=K.createContext(0),cD=K.createContext(0),CO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,u=e.children,f=e.width,d=e.height,p=aee(o);return H.createElement(xS.Provider,{value:r},H.createElement(bS.Provider,{value:i},H.createElement(sD.Provider,{value:o},H.createElement(aD.Provider,{value:p},H.createElement(lD.Provider,{value:a},H.createElement(uD.Provider,{value:d},H.createElement(cD.Provider,{value:f},u)))))))},see=function(){return K.useContext(lD)},fD=function(e){var n=K.useContext(xS);n==null&&Es();var r=n[e];return r==null&&Es(),r},lee=function(){var e=K.useContext(xS);return ma(e)},uee=function(){var e=K.useContext(bS),n=ree(e,function(r){return XL(r.domain,Number.isFinite)});return n||ma(e)},dD=function(e){var n=K.useContext(bS);n==null&&Es();var r=n[e];return r==null&&Es(),r},cee=function(){var e=K.useContext(aD);return e},fee=function(){return K.useContext(sD)},wS=function(){return K.useContext(cD)},SS=function(){return K.useContext(uD)};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function dee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function pee(t,e,n){return e&&hee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mee(t,e,n){return e=Np(e),gee(t,hD()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function gee(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vee(t)}function vee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hb(t,e)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){TS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TS(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=_ee(t,"string");return au(e)=="symbol"?e:e+""}function _ee(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xee(t,e){return Tee(t)||See(t,e)||wee(t,e)||bee()}function bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wee(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function See(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function Tee(t){if(Array.isArray(t))return t}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}var Eee=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):Ke(e)?r=e(n):r=H.createElement("line",Gb({},n,{className:"recharts-reference-line-line"})),r},Aee=function(e,n,r,i,o,a,u,f,d){var p=o.x,m=o.y,_=o.width,S=o.height;if(r){var E=d.y,A=e.y.apply(E,{position:a});if(Di(d,"discard")&&!e.y.isInRange(A))return null;var T=[{x:p+_,y:A},{x:p,y:A}];return f==="left"?T.reverse():T}if(n){var M=d.x,N=e.x.apply(M,{position:a});if(Di(d,"discard")&&!e.x.isInRange(N))return null;var R=[{x:N,y:m+S},{x:N,y:m}];return u==="top"?R.reverse():R}if(i){var j=d.segment,O=j.map(function(k){return e.apply(k,{position:a})});return Di(d,"discard")&&_Q(O,function(k){return!e.isInRange(k)})?null:O}return null};function Pee(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,u=t.className,f=t.alwaysShow,d=see(),p=fD(i),m=dD(o),_=cee();if(!d||!_)return null;mi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=_S({x:p.scale,y:m.scale}),E=hn(e),A=hn(n),T=r&&r.length===2,M=Aee(S,E,A,T,_,t.position,p.orientation,m.orientation,t);if(!M)return null;var N=xee(M,2),R=N[0],j=R.x,O=R.y,k=N[1],$=k.x,U=k.y,z=Di(t,"hidden")?"url(#".concat(d,")"):void 0,Z=IO(IO({clipPath:z},je(t,!0)),{},{x1:j,y1:O,x2:$,y2:U});return H.createElement(it,{className:nt("recharts-reference-line",u)},Eee(a,Z),xn.renderCallByParent(t,ZQ({x1:j,y1:O,x2:$,y2:U})))}var ES=(function(t){function e(){return dee(this,e),mee(this,e,arguments)}return yee(e,t),pee(e,[{key:"render",value:function(){return H.createElement(Pee,this.props)}}])})(H.Component);TS(ES,"displayName","ReferenceLine");TS(ES,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gD(r.key),r)}}function Iee(t,e,n){return e&&Nee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mee(t,e,n){return e=Ip(e),Oee(t,mD()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function Oee(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kee(t)}function kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function Ree(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function Nm(t,e,n){return e=gD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gD(t){var e=Lee(t,"string");return su(e)=="symbol"?e:e+""}function Lee(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dee=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=_S({x:i.scale,y:o.scale}),u=a.apply({x:n,y:r},{bandAware:!0});return Di(e,"discard")&&!a.isInRange(u)?null:u},Im=(function(t){function e(){return Cee(this,e),Mee(this,e,arguments)}return Ree(e,t),Iee(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,u=r.alwaysShow,f=r.clipPathId,d=hn(i),p=hn(o);if(mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var m=Dee(this.props);if(!m)return null;var _=m.x,S=m.y,E=this.props,A=E.shape,T=E.className,M=Di(this.props,"hidden")?"url(#".concat(f,")"):void 0,N=kO(kO({clipPath:M},je(this.props,!0)),{},{cx:_,cy:S});return H.createElement(it,{className:nt("recharts-reference-dot",T)},e.renderDot(A,N),xn.renderCallByParent(this.props,{x:_-a,y:S-a,width:2*a,height:2*a}))}}])})(H.Component);Nm(Im,"displayName","ReferenceDot");Nm(Im,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nm(Im,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ke(t)?n=t(e):n=H.createElement(qf,Vb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function Bee(t,e,n){return e&&$ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fee(t,e,n){return e=Mp(e),Uee(t,vD()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function Uee(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zee(t)}function zee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zb(t,e)}function Mm(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=Hee(t,"string");return lu(e)=="symbol"?e:e+""}function Hee(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gee=function(e,n,r,i,o){var a=o.x1,u=o.x2,f=o.y1,d=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var _=_S({x:p.scale,y:m.scale}),S={x:e?_.x.apply(a,{position:"start"}):_.x.rangeMin,y:r?_.y.apply(f,{position:"start"}):_.y.rangeMin},E={x:n?_.x.apply(u,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(d,{position:"end"}):_.y.rangeMax};return Di(o,"discard")&&(!_.isInRange(S)||!_.isInRange(E))?null:iD(S,E)},Om=(function(t){function e(){return jee(this,e),Fee(this,e,arguments)}return qee(e,t),Bee(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,u=r.y2,f=r.className,d=r.alwaysShow,p=r.clipPathId;mi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=hn(i),_=hn(o),S=hn(a),E=hn(u),A=this.props.shape;if(!m&&!_&&!S&&!E&&!A)return null;var T=Gee(m,_,S,E,this.props);if(!T&&!A)return null;var M=Di(this.props,"hidden")?"url(#".concat(p,")"):void 0;return H.createElement(it,{className:nt("recharts-reference-area",f)},e.renderRect(A,LO(LO({clipPath:M},je(this.props,!0)),T)),xn.renderCallByParent(this.props,T))}}])})(H.Component);Mm(Om,"displayName","ReferenceArea");Mm(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mm(Om,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ke(t)?n=t(e):n=H.createElement(yS,Kb({},e,{className:"recharts-reference-area-rect"})),n});function _D(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Vee(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JQ(r,n)}function Wee(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,u=t.height;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Op(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Kee(t,e){return _D(t,e+1)}function Zee(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,u=e.end,f=0,d=1,p=a,m=function(){var E=r?.[f];if(E===void 0)return{v:_D(r,d)};var A=f,T,M=function(){return T===void 0&&(T=n(E,A)),T},N=E.coordinate,R=f===0||Op(t,N,M,p,u);R||(f=0,p=a,d+=1),R&&(p=N+t*(M()/2+i),f+=d)},_;d<=o.length;)if(_=m(),_)return _.v;return[]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=Xee(t,"string");return Of(e)=="symbol"?e:e+""}function Xee(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qee(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,u=e.start,f=e.end,d=function(_){var S=o[_],E,A=function(){return E===void 0&&(E=n(S,_)),E};if(_===a-1){var T=t*(S.coordinate+t*A()/2-f);o[_]=S=Dn(Dn({},S),{},{tickCoord:T>0?S.coordinate-T*t:S.coordinate})}else o[_]=S=Dn(Dn({},S),{},{tickCoord:S.coordinate});var M=Op(t,S.tickCoord,A,u,f);M&&(f=S.tickCoord-t*(A()/2+i),o[_]=Dn(Dn({},S),{},{isShow:!0}))},p=a-1;p>=0;p--)d(p);return o}function ete(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,f=e.start,d=e.end;if(o){var p=r[u-1],m=n(p,u-1),_=t*(p.coordinate+t*m/2-d);a[u-1]=p=Dn(Dn({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate});var S=Op(t,p.tickCoord,function(){return m},f,d);S&&(d=p.tickCoord-t*(m/2+i),a[u-1]=Dn(Dn({},p),{},{isShow:!0}))}for(var E=o?u-1:u,A=function(N){var R=a[N],j,O=function(){return j===void 0&&(j=n(R,N)),j};if(N===0){var k=t*(R.coordinate-t*O()/2-f);a[N]=R=Dn(Dn({},R),{},{tickCoord:k<0?R.coordinate-k*t:R.coordinate})}else a[N]=R=Dn(Dn({},R),{},{tickCoord:R.coordinate});var $=Op(t,R.tickCoord,O,f,d);$&&(f=R.tickCoord+t*(O()/2+i),a[N]=Dn(Dn({},R),{},{isShow:!0}))},T=0;T<E;T++)A(T);return a}function AS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,u=t.orientation,f=t.interval,d=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ee(f)||Po.isSsr)return Kee(i,typeof f=="number"&&Ee(f)?f:0);var _=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?Uc(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(R,j){var O=Ke(d)?d(R.value,j):R.value;return S==="width"?Vee(Uc(O,{fontSize:e,letterSpacing:n}),E,m):Uc(O,{fontSize:e,letterSpacing:n})[S]},T=i.length>=2?Hn(i[1].coordinate-i[0].coordinate):1,M=Wee(o,T,S);return f==="equidistantPreserveStart"?Zee(T,M,A,i,a):(f==="preserveStart"||f==="preserveStartEnd"?_=ete(T,M,A,i,a,f==="preserveStartEnd"):_=Qee(T,M,A,i,a),_.filter(function(N){return N.isShow}))}var tte=["viewBox"],nte=["viewBox"],rte=["ticks"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){PS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hx(t,e){if(t==null)return{};var n=ite(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ite(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bD(r.key),r)}}function ate(t,e,n){return e&&$O(t.prototype,e),n&&$O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ste(t,e,n){return e=kp(e),lte(t,xD()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function lte(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ute(t)}function ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function PS(t,e,n){return e=bD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bD(t){var e=fte(t,"string");return uu(e)=="symbol"?e:e+""}function fte(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iu=(function(t){function e(n){var r;return ote(this,e),r=ste(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cte(e,t),ate(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=hx(r,tte),u=this.props,f=u.viewBox,d=hx(u,nte);return!Bl(o,f)||!Bl(a,d)||!Bl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,u=i.width,f=i.height,d=i.orientation,p=i.tickSize,m=i.mirror,_=i.tickMargin,S,E,A,T,M,N,R=m?-1:1,j=r.tickSize||p,O=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":S=E=r.coordinate,T=a+ +!m*f,A=T-R*j,N=A-R*_,M=O;break;case"left":A=T=r.coordinate,E=o+ +!m*u,S=E-R*j,M=S-R*_,N=O;break;case"right":A=T=r.coordinate,E=o+ +m*u,S=E+R*j,M=S+R*_,N=O;break;default:S=E=r.coordinate,T=a+ +m*f,A=T+R*j,N=A+R*_,M=O;break}return{line:{x1:S,y1:A,x2:E,y2:T},tick:{x:M,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,f=r.orientation,d=r.mirror,p=r.axisLine,m=fn(fn(fn({},je(this.props,!1)),je(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var _=+(f==="top"&&!d||f==="bottom"&&d);m=fn(fn({},m),{},{x1:i,y1:o+_*u,x2:i+a,y2:o+_*u})}else{var S=+(f==="left"&&!d||f==="right"&&d);m=fn(fn({},m),{},{x1:i+S*a,y1:o,x2:i+S*a,y2:o+u})}return H.createElement("line",Ll({},m,{className:nt("recharts-cartesian-axis-line",Er(p,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,u=this.props,f=u.tickLine,d=u.stroke,p=u.tick,m=u.tickFormatter,_=u.unit,S=AS(fn(fn({},this.props),{},{ticks:r}),i,o),E=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=je(this.props,!1),M=je(p,!1),N=fn(fn({},T),{},{fill:"none"},je(f,!1)),R=S.map(function(j,O){var k=a.getTickLineCoord(j),$=k.line,U=k.tick,z=fn(fn(fn(fn({textAnchor:E,verticalAnchor:A},T),{},{stroke:"none",fill:d},M),U),{},{index:O,payload:j,visibleTicksCount:S.length,tickFormatter:m});return H.createElement(it,Ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Sa(a.props,j,O)),f&&H.createElement("line",Ll({},N,$,{className:nt("recharts-cartesian-axis-tick-line",Er(f,"className"))})),p&&e.renderTickItem(p,z,"".concat(Ke(m)?m(j.value,O):j.value).concat(_||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,u=i.height,f=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var m=this.props,_=m.ticks,S=hx(m,rte),E=_;return Ke(f)&&(E=_&&_.length>0?f(this.props):f(S)),a<=0||u<=0||!E||!E.length?null:H.createElement(it,{className:nt("recharts-cartesian-axis",d),ref:function(T){r.layerReference=T}},o&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,u=nt(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?a=H.cloneElement(r,fn(fn({},i),{},{className:u})):Ke(r)?a=r(fn(fn({},i),{},{className:u})):a=H.createElement(Ss,Ll({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(K.Component);PS(Iu,"displayName","CartesianAxis");PS(Iu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dte=["x1","y1","x2","y2","key"],hte=["offset"];function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return e=mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=gte(t,"string");return As(e)=="symbol"?e:e+""}function gte(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function FO(t,e){if(t==null)return{};var n=vte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yte=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,u=e.height,f=e.ry;return H.createElement("rect",{x:i,y:o,ry:f,width:a,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wD(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,u=e.key,f=FO(e,dte),d=je(f,!1);d.offset;var p=FO(d,hte);n=H.createElement("line",vs({},p,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:u}))}return n}function _te(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,f){var d=jn(jn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return wD(i,d)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function xte(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,f){var d=jn(jn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return wD(i,d)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function bte(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,u=t.horizontalPoints,f=t.horizontal,d=f===void 0?!0:f;if(!d||!e||!e.length)return null;var p=u.map(function(_){return Math.round(_+i-i)}).sort(function(_,S){return _-S});i!==p[0]&&p.unshift(0);var m=p.map(function(_,S){var E=!p[S+1],A=E?i+a-_:p[S+1]-_;if(A<=0)return null;var T=S%e.length;return H.createElement("rect",{key:"react-".concat(S),y:_,x:r,height:A,width:o,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function wte(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,u=t.width,f=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var p=d.map(function(_){return Math.round(_+o-o)}).sort(function(_,S){return _-S});o!==p[0]&&p.unshift(0);var m=p.map(function(_,S){var E=!p[S+1],A=E?o+u-_:p[S+1]-_;if(A<=0)return null;var T=S%r.length;return H.createElement("rect",{key:"react-".concat(S),x:_,y:a,width:A,height:f,stroke:"none",fill:r[T],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Ste=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return SL(AS(jn(jn(jn({},Iu.defaultProps),r),{},{ticks:go(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Tte=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return SL(AS(jn(jn(jn({},Iu.defaultProps),r),{},{ticks:go(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CS(t){var e,n,r,i,o,a,u=wS(),f=SS(),d=fee(),p=jn(jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Pl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Pl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pl.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Pl.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Pl.verticalFill,x:Ee(t.x)?t.x:d.left,y:Ee(t.y)?t.y:d.top,width:Ee(t.width)?t.width:d.width,height:Ee(t.height)?t.height:d.height}),m=p.x,_=p.y,S=p.width,E=p.height,A=p.syncWithTicks,T=p.horizontalValues,M=p.verticalValues,N=lee(),R=uee();if(!Ee(S)||S<=0||!Ee(E)||E<=0||!Ee(m)||m!==+m||!Ee(_)||_!==+_)return null;var j=p.verticalCoordinatesGenerator||Ste,O=p.horizontalCoordinatesGenerator||Tte,k=p.horizontalPoints,$=p.verticalPoints;if((!k||!k.length)&&Ke(O)){var U=T&&T.length,z=O({yAxis:R?jn(jn({},R),{},{ticks:U?T:R.ticks}):void 0,width:u,height:f,offset:d},U?!0:A);mi(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(As(z),"]")),Array.isArray(z)&&(k=z)}if((!$||!$.length)&&Ke(j)){var Z=M&&M.length,V=j({xAxis:N?jn(jn({},N),{},{ticks:Z?M:N.ticks}):void 0,width:u,height:f,offset:d},Z?!0:A);mi(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(As(V),"]")),Array.isArray(V)&&($=V)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(yte,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),H.createElement(_te,vs({},p,{offset:d,horizontalPoints:k,xAxis:N,yAxis:R})),H.createElement(xte,vs({},p,{offset:d,verticalPoints:$,xAxis:N,yAxis:R})),H.createElement(bte,vs({},p,{horizontalPoints:k})),H.createElement(wte,vs({},p,{verticalPoints:$})))}CS.displayName="CartesianGrid";var Ete=["type","layout","connectNulls","ref"],Ate=["key"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function UO(t,e){if(t==null)return{};var n=Pte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cl(t){return Mte(t)||Ite(t)||Nte(t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return Jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(t,e)}}function Ite(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mte(t){if(Array.isArray(t))return Jb(t)}function Jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TD(r.key),r)}}function kte(t,e,n){return e&&qO(t.prototype,e),n&&qO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rte(t,e,n){return e=Rp(e),Lte(t,SD()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function Lte(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xb(t,e)}function ci(t,e,n){return e=TD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TD(t){var e=$te(t,"string");return cu(e)=="symbol"?e:e+""}function $te(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ea=(function(t){function e(){var n;Ote(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rte(this,e,[].concat(i)),ci(n,"state",{isAnimationFinished:!0,totalLength:0}),ci(n,"generateSimpleStrokeDasharray",function(a,u){return"".concat(u,"px ").concat(a-u,"px")}),ci(n,"getStrokeDasharray",function(a,u,f){var d=f.reduce(function(M,N){return M+N});if(!d)return n.generateSimpleStrokeDasharray(u,a);for(var p=Math.floor(a/d),m=a%d,_=u-a,S=[],E=0,A=0;E<f.length;A+=f[E],++E)if(A+f[E]>m){S=[].concat(Cl(f.slice(0,E)),[m-A]);break}var T=S.length%2===0?[0,_]:[_];return[].concat(Cl(e.repeat(f,p)),Cl(S),T).map(function(M){return"".concat(M,"px")}).join(", ")}),ci(n,"id",Na("recharts-line-")),ci(n,"pathRef",function(a){n.mainCurve=a}),ci(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ci(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return jte(e,t),kte(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,u=o.xAxis,f=o.yAxis,d=o.layout,p=o.children,m=Wn(p,Nu);if(!m)return null;var _=function(A,T){return{x:A.x,y:A.y,value:A.value,errorVal:Ft(A.payload,T)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(it,S,m.map(function(E){return H.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:a,xAxis:u,yAxis:f,layout:d,dataPointFormatter:_})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,d=u.points,p=u.dataKey,m=je(this.props,!1),_=je(f,!0),S=d.map(function(A,T){var M=_r(_r(_r({key:"dot-".concat(T),r:3},m),_),{},{index:T,cx:A.x,cy:A.y,value:A.value,dataKey:p,payload:A.payload,points:d});return e.renderDotItem(f,M)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(it,Wc({className:"recharts-line-dots",key:"dots"},E),S)}},{key:"renderCurveStatically",value:function(r,i,o,a){var u=this.props,f=u.type,d=u.layout,p=u.connectNulls;u.ref;var m=UO(u,Ete),_=_r(_r(_r({},je(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:f,layout:d,connectNulls:p});return H.createElement(wa,Wc({},_,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,u=a.points,f=a.strokeDasharray,d=a.isAnimationActive,p=a.animationBegin,m=a.animationDuration,_=a.animationEasing,S=a.animationId,E=a.animateNewValues,A=a.width,T=a.height,M=this.state,N=M.prevPoints,R=M.totalLength;return H.createElement(Wr,{begin:p,duration:m,isActive:d,easing:_,from:{t:0},to:{t:1},key:"line-".concat(S),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var O=j.t;if(N){var k=N.length/u.length,$=u.map(function(q,ee){var J=Math.floor(ee*k);if(N[J]){var oe=N[J],ae=Wt(oe.x,q.x),de=Wt(oe.y,q.y);return _r(_r({},q),{},{x:ae(O),y:de(O)})}if(E){var X=Wt(A*2,q.x),he=Wt(T/2,q.y);return _r(_r({},q),{},{x:X(O),y:he(O)})}return _r(_r({},q),{},{x:q.x,y:q.y})});return o.renderCurveStatically($,r,i)}var U=Wt(0,R),z=U(O),Z;if(f){var V="".concat(f).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});Z=o.getStrokeDasharray(z,R,V)}else Z=o.generateSimpleStrokeDasharray(R,z);return o.renderCurveStatically(u,r,i,{strokeDasharray:Z})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,u=o.isAnimationActive,f=this.state,d=f.prevPoints,p=f.totalLength;return u&&a&&a.length&&(!d&&p>0||!Ta(d,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,u=i.points,f=i.className,d=i.xAxis,p=i.yAxis,m=i.top,_=i.left,S=i.width,E=i.height,A=i.isAnimationActive,T=i.id;if(o||!u||!u.length)return null;var M=this.state.isAnimationFinished,N=u.length===1,R=nt("recharts-line",f),j=d&&d.allowDataOverflow,O=p&&p.allowDataOverflow,k=j||O,$=Ve(T)?this.id:T,U=(r=je(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},z=U.r,Z=z===void 0?3:z,V=U.strokeWidth,q=V===void 0?2:V,ee=AR(a)?a:{},J=ee.clipDot,oe=J===void 0?!0:J,ae=Z*2+q;return H.createElement(it,{className:R},j||O?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat($)},H.createElement("rect",{x:j?_:_-S/2,y:O?m:m-E/2,width:j?S:S*2,height:O?E:E*2})),!oe&&H.createElement("clipPath",{id:"clipPath-dots-".concat($)},H.createElement("rect",{x:_-ae/2,y:m-ae/2,width:S+ae,height:E+ae}))):null,!N&&this.renderCurve(k,$),this.renderErrorBar(k,$),(N||a)&&this.renderDots(k,oe,$),(!A||M)&&gi.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Cl(r),[0]):r,a=[],u=0;u<i;++u)a=[].concat(Cl(a),Cl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(Ke(r))o=r(i);else{var a=i.key,u=UO(i,Ate),f=nt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(qf,Wc({key:a},u,{className:f}))}return o}}])})(K.PureComponent);ci(Ea,"displayName","Line");ci(Ea,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ci(Ea,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,u=t.bandSize,f=t.displayedData,d=t.offset,p=e.layout,m=f.map(function(_,S){var E=Ft(_,a);return p==="horizontal"?{x:Xl({axis:n,ticks:i,bandSize:u,entry:_,index:S}),y:Ve(E)?null:r.scale(E),value:E,payload:_}:{x:Ve(E)?null:n.scale(E),y:Xl({axis:r,ticks:o,bandSize:u,entry:_,index:S}),value:E,payload:_}});return _r({points:m,layout:p},d)});var Bte=["layout","type","stroke","connectNulls","isRange","ref"],Fte=["key"],ED;function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function AD(t,e){if(t==null)return{};var n=Ute(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ute(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CD(r.key),r)}}function qte(t,e,n){return e&&GO(t.prototype,e),n&&GO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,n){return e=Lp(e),Gte(t,PD()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function Gte(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vte(t)}function Vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function ki(t,e,n){return e=CD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CD(t){var e=Kte(t,"string");return fu(e)=="symbol"?e:e+""}function Kte(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs=(function(t){function e(){var n;zte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Hte(this,e,[].concat(i)),ki(n,"state",{isAnimationFinished:!0}),ki(n,"id",Na("recharts-area-")),ki(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ke(a)&&a()}),ki(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ke(a)&&a()}),n}return Wte(e,t),qte(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(a&&!u)return null;var f=this.props,d=f.dot,p=f.points,m=f.dataKey,_=je(this.props,!1),S=je(d,!0),E=p.map(function(T,M){var N=ha(ha(ha({key:"dot-".concat(M),r:3},_),S),{},{index:M,cx:T.x,cy:T.y,dataKey:m,value:T.value,payload:T.payload,points:p});return e.renderDotItem(d,N)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(it,ys({className:"recharts-area-dots"},A),E)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,u=i.strokeWidth,f=a[0].x,d=a[a.length-1].x,p=r*Math.abs(f-d),m=va(a.map(function(_){return _.y||0}));return Ee(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(va(o.map(function(_){return _.y||0})),m)),Ee(m)?H.createElement("rect",{x:f<d?f:f-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,u=i.strokeWidth,f=a[0].y,d=a[a.length-1].y,p=r*Math.abs(f-d),m=va(a.map(function(_){return _.x||0}));return Ee(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(va(o.map(function(_){return _.x||0})),m)),Ee(m)?H.createElement("rect",{x:0,y:f<d?f:f-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var u=this.props,f=u.layout,d=u.type,p=u.stroke,m=u.connectNulls,_=u.isRange;u.ref;var S=AD(u,Bte);return H.createElement(it,{clipPath:o?"url(#clipPath-".concat(a,")"):null},H.createElement(wa,ys({},je(S,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:f,stroke:"none",className:"recharts-area-area"})),p!=="none"&&H.createElement(wa,ys({},je(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:r})),p!=="none"&&_&&H.createElement(wa,ys({},je(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,u=a.points,f=a.baseLine,d=a.isAnimationActive,p=a.animationBegin,m=a.animationDuration,_=a.animationEasing,S=a.animationId,E=this.state,A=E.prevPoints,T=E.prevBaseLine;return H.createElement(Wr,{begin:p,duration:m,isActive:d,easing:_,from:{t:0},to:{t:1},key:"area-".concat(S),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var N=M.t;if(A){var R=A.length/u.length,j=u.map(function(U,z){var Z=Math.floor(z*R);if(A[Z]){var V=A[Z],q=Wt(V.x,U.x),ee=Wt(V.y,U.y);return ha(ha({},U),{},{x:q(N),y:ee(N)})}return U}),O;if(Ee(f)&&typeof f=="number"){var k=Wt(T,f);O=k(N)}else if(Ve(f)||Tu(f)){var $=Wt(T,0);O=$(N)}else O=f.map(function(U,z){var Z=Math.floor(z*R);if(T[Z]){var V=T[Z],q=Wt(V.x,U.x),ee=Wt(V.y,U.y);return ha(ha({},U),{},{x:q(N),y:ee(N)})}return U});return o.renderAreaStatically(j,O,r,i)}return H.createElement(it,null,H.createElement("defs",null,H.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(N))),H.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,f,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,u=o.baseLine,f=o.isAnimationActive,d=this.state,p=d.prevPoints,m=d.prevBaseLine,_=d.totalLength;return f&&a&&a.length&&(!p&&_>0||!Ta(p,a)||!Ta(m,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,u,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,u=i.points,f=i.className,d=i.top,p=i.left,m=i.xAxis,_=i.yAxis,S=i.width,E=i.height,A=i.isAnimationActive,T=i.id;if(o||!u||!u.length)return null;var M=this.state.isAnimationFinished,N=u.length===1,R=nt("recharts-area",f),j=m&&m.allowDataOverflow,O=_&&_.allowDataOverflow,k=j||O,$=Ve(T)?this.id:T,U=(r=je(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},z=U.r,Z=z===void 0?3:z,V=U.strokeWidth,q=V===void 0?2:V,ee=AR(a)?a:{},J=ee.clipDot,oe=J===void 0?!0:J,ae=Z*2+q;return H.createElement(it,{className:R},j||O?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat($)},H.createElement("rect",{x:j?p:p-S/2,y:O?d:d-E/2,width:j?S:S*2,height:O?E:E*2})),!oe&&H.createElement("clipPath",{id:"clipPath-dots-".concat($)},H.createElement("rect",{x:p-ae/2,y:d-ae/2,width:S+ae,height:E+ae}))):null,N?null:this.renderArea(k,$),(a||N)&&this.renderDots(k,oe,$),(!A||M)&&gi.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(K.PureComponent);ED=Rs;ki(Rs,"displayName","Area");ki(Rs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ki(Rs,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,u=a??o;if(Ee(u)&&typeof u=="number")return u;var f=i==="horizontal"?r:n,d=f.scale.domain();if(f.type==="number"){var p=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});ki(Rs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,u=t.bandSize,f=t.dataKey,d=t.stackedData,p=t.dataStartIndex,m=t.displayedData,_=t.offset,S=e.layout,E=d&&d.length,A=ED.getBaseValue(e,n,r,i),T=S==="horizontal",M=!1,N=m.map(function(j,O){var k;E?k=d[p+O]:(k=Ft(j,f),Array.isArray(k)?M=!0:k=[A,k]);var $=k[1]==null||E&&Ft(j,f)==null;return T?{x:Xl({axis:r,ticks:o,bandSize:u,entry:j,index:O}),y:$?null:i.scale(k[1]),value:k,payload:j}:{x:$?null:r.scale(k[1]),y:Xl({axis:i,ticks:a,bandSize:u,entry:j,index:O}),value:k,payload:j}}),R;return E||M?R=N.map(function(j){var O=Array.isArray(j.value)?j.value[0]:null;return T?{x:j.x,y:O!=null&&j.y!=null?i.scale(O):null}:{x:O!=null?r.scale(O):null,y:j.y}}):R=T?i.scale(A):r.scale(A),ha({points:N,baseLine:R,layout:S,isRange:M},_)});ki(Rs,"renderDotItem",function(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=nt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=AD(e,Fte);n=H.createElement(qf,ys({},o,{key:i,className:r}))}return n});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MD(r.key),r)}}function Jte(t,e,n){return e&&Yte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xte(t,e,n){return e=Dp(e),Qte(t,ND()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function Qte(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(t)}function ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function ID(t,e,n){return e=MD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MD(t){var e=nne(t,"string");return du(e)=="symbol"?e:e+""}function nne(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var km=(function(t){function e(){return Zte(this,e),Xte(this,e,arguments)}return tne(e,t),Jte(e,[{key:"render",value:function(){return null}}])})(K.Component);ID(km,"displayName","ZAxis");ID(km,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var rne=["option","isActive"];function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function ine(t,e){if(t==null)return{};var n=one(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function one(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ane(t){var e=t.option,n=t.isActive,r=ine(t,rne);return typeof e=="string"?K.createElement(wp,Kc({option:K.createElement(lm,Kc({type:e},r)),isActive:n,shapeType:"symbols"},r)):K.createElement(wp,Kc({option:e,isActive:n,shapeType:"symbols"},r))}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function lne(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function une(t,e,n){return e=jp(e),cne(t,OD()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function cne(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fne(t)}function fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function _a(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=hne(t,"string");return hu(e)=="symbol"?e:e+""}function hne(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rm=(function(t){function e(){var n;sne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=une(this,e,[].concat(i)),_a(n,"state",{isAnimationFinished:!1}),_a(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),_a(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),_a(n,"id",Na("recharts-scatter-")),n}return dne(e,t),lne(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,u=o.activeShape,f=o.activeIndex,d=je(this.props,!1);return r.map(function(p,m){var _=f===m,S=_?u:a,E=Ur(Ur({},d),p);return H.createElement(it,Zc({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(m)},Sa(i.props,p,m),{role:"img"}),H.createElement(ane,Zc({option:S,isActive:_,key:"symbol-".concat(m)},E)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state.prevPoints;return H.createElement(Wr,{begin:u,duration:f,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,E=o.map(function(A,T){var M=m&&m[T];if(M){var N=Wt(M.cx,A.cx),R=Wt(M.cy,A.cy),j=Wt(M.size,A.size);return Ur(Ur({},A),{},{cx:N(S),cy:R(S),size:j(S)})}var O=Wt(0,A.size);return Ur(Ur({},A),{},{size:O(S)})});return H.createElement(it,null,r.renderSymbolsStatically(E))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Ta(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,u=i.yAxis,f=i.children,d=Wn(f,Nu);return d?d.map(function(p,m){var _=p.props,S=_.direction,E=_.dataKey;return H.cloneElement(p,{key:"".concat(S,"-").concat(E,"-").concat(o[m]),data:o,xAxis:a,yAxis:u,layout:S==="x"?"vertical":"horizontal",dataPointFormatter:function(T,M){return{x:T.cx,y:T.cy,value:S==="x"?+T.node.x:+T.node.y,errorVal:Ft(T,M)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,u=r.lineJointType,f=je(this.props,!1),d=je(o,!1),p,m;if(a==="joint")p=i.map(function(R){return{x:R.cx,y:R.cy}});else if(a==="fitting"){var _=iH(i),S=_.xmin,E=_.xmax,A=_.a,T=_.b,M=function(j){return A*j+T};p=[{x:S,y:M(S)},{x:E,y:M(E)}]}var N=Ur(Ur(Ur({},f),{},{fill:"none",stroke:f&&f.fill},d),{},{points:p});return H.isValidElement(o)?m=H.cloneElement(o,N):Ke(o)?m=o(N):m=H.createElement(wa,Zc({},N,{type:u})),H.createElement(it,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,u=r.className,f=r.xAxis,d=r.yAxis,p=r.left,m=r.top,_=r.width,S=r.height,E=r.id,A=r.isAnimationActive;if(i||!o||!o.length)return null;var T=this.state.isAnimationFinished,M=nt("recharts-scatter",u),N=f&&f.allowDataOverflow,R=d&&d.allowDataOverflow,j=N||R,O=Ve(E)?this.id:E;return H.createElement(it,{className:M,clipPath:j?"url(#clipPath-".concat(O,")"):null},N||R?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(O)},H.createElement("rect",{x:N?p:p-_/2,y:R?m:m-S/2,width:N?_:_*2,height:R?S:S*2}))):null,a&&this.renderLine(),this.renderErrorBar(),H.createElement(it,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!A||T)&&gi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(K.PureComponent);_a(Rm,"displayName","Scatter");_a(Rm,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_a(Rm,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,u=t.yAxisTicks,f=t.offset,d=i.props.tooltipType,p=Wn(i.props.children,Wl),m=Ve(e.dataKey)?i.props.dataKey:e.dataKey,_=Ve(n.dataKey)?i.props.dataKey:n.dataKey,S=r&&r.dataKey,E=r?r.range:km.defaultProps.range,A=E&&E[0],T=e.scale.bandwidth?e.scale.bandwidth():0,M=n.scale.bandwidth?n.scale.bandwidth():0,N=o.map(function(R,j){var O=Ft(R,m),k=Ft(R,_),$=!Ve(S)&&Ft(R,S)||"-",U=[{name:Ve(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:O,payload:R,dataKey:m,type:d},{name:Ve(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:R,dataKey:_,type:d}];$!=="-"&&U.push({name:r.name||r.dataKey,unit:r.unit||"",value:$,payload:R,dataKey:S,type:d});var z=Xl({axis:e,ticks:a,bandSize:T,entry:R,index:j,dataKey:m}),Z=Xl({axis:n,ticks:u,bandSize:M,entry:R,index:j,dataKey:_}),V=$!=="-"?r.scale($):A,q=Math.sqrt(Math.max(V,0)/Math.PI);return Ur(Ur({},R),{},{cx:z,cy:Z,x:z-q,y:Z-q,xAxis:e,yAxis:n,zAxis:r,width:2*q,height:2*q,size:V,node:{x:O,y:k,z:$},tooltipPayload:U,tooltipPosition:{x:z,y:Z},payload:R},p&&p[j]&&p[j].props)});return Ur({points:N},f)});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function gne(t,e,n){return e&&mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vne(t,e,n){return e=$p(e),yne(t,RD()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function yne(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ne(t)}function _ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function xne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function LD(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=bne(t,"string");return pu(e)=="symbol"?e:e+""}function bne(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function wne(t){var e=t.xAxisId,n=wS(),r=SS(),i=fD(e);return i==null?null:K.createElement(Iu,rw({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return go(a,!0)}}))}var Mu=(function(t){function e(){return pne(this,e),vne(this,e,arguments)}return xne(e,t),gne(e,[{key:"render",value:function(){return K.createElement(wne,this.props)}}])})(K.Component);LD(Mu,"displayName","XAxis");LD(Mu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function Ene(t,e,n){return e&&Tne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,n){return e=Bp(e),Pne(t,jD()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function Pne(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cne(t)}function Cne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function $D(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=Ine(t,"string");return mu(e)=="symbol"?e:e+""}function Ine(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}var Mne=function(e){var n=e.yAxisId,r=wS(),i=SS(),o=dD(n);return o==null?null:K.createElement(Iu,ow({},o,{className:nt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return go(u,!0)}}))},Aa=(function(t){function e(){return Sne(this,e),Ane(this,e,arguments)}return Nne(e,t),Ene(e,[{key:"render",value:function(){return K.createElement(Mne,this.props)}}])})(K.Component);$D(Aa,"displayName","YAxis");$D(Aa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KO(t){return Lne(t)||Rne(t)||kne(t)||One()}function One(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function Rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lne(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sw=function(e,n,r,i,o){var a=Wn(e,ES),u=Wn(e,Im),f=[].concat(KO(a),KO(u)),d=Wn(e,Om),p="".concat(i,"Id"),m=i[0],_=n;if(f.length&&(_=f.reduce(function(A,T){if(T.props[p]===r&&Di(T.props,"extendDomain")&&Ee(T.props[m])){var M=T.props[m];return[Math.min(A[0],M),Math.max(A[1],M)]}return A},_)),d.length){var S="".concat(m,"1"),E="".concat(m,"2");_=d.reduce(function(A,T){if(T.props[p]===r&&Di(T.props,"extendDomain")&&Ee(T.props[S])&&Ee(T.props[E])){var M=T.props[S],N=T.props[E];return[Math.min(A[0],M,N),Math.max(A[1],M,N)]}return A},_)}return o&&o.length&&(_=o.reduce(function(A,T){return Ee(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},_)),_},px={exports:{}},ZO;function Dne(){return ZO||(ZO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,m,_){if(typeof p!="function")throw new TypeError("The listener must be a function");var S=new i(p,m||f,_),E=n?n+d:d;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],S]:f._events[E].push(S):(f._events[E]=S,f._eventsCount++),f}function a(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=n?n+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,S=m.length,E=new Array(S);_<S;_++)E[_]=m[_].fn;return E},u.prototype.listenerCount=function(d){var p=n?n+d:d,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,p,m,_,S,E){var A=n?n+d:d;if(!this._events[A])return!1;var T=this._events[A],M=arguments.length,N,R;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),M){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,m),!0;case 4:return T.fn.call(T.context,p,m,_),!0;case 5:return T.fn.call(T.context,p,m,_,S),!0;case 6:return T.fn.call(T.context,p,m,_,S,E),!0}for(R=1,N=new Array(M-1);R<M;R++)N[R-1]=arguments[R];T.fn.apply(T.context,N)}else{var j=T.length,O;for(R=0;R<j;R++)switch(T[R].once&&this.removeListener(d,T[R].fn,void 0,!0),M){case 1:T[R].fn.call(T[R].context);break;case 2:T[R].fn.call(T[R].context,p);break;case 3:T[R].fn.call(T[R].context,p,m);break;case 4:T[R].fn.call(T[R].context,p,m,_);break;default:if(!N)for(O=1,N=new Array(M-1);O<M;O++)N[O-1]=arguments[O];T[R].fn.apply(T[R].context,N)}}return!0},u.prototype.on=function(d,p,m){return o(this,d,p,m,!1)},u.prototype.once=function(d,p,m){return o(this,d,p,m,!0)},u.prototype.removeListener=function(d,p,m,_){var S=n?n+d:d;if(!this._events[S])return this;if(!p)return a(this,S),this;var E=this._events[S];if(E.fn)E.fn===p&&(!_||E.once)&&(!m||E.context===m)&&a(this,S);else{for(var A=0,T=[],M=E.length;A<M;A++)(E[A].fn!==p||_&&!E[A].once||m&&E[A].context!==m)&&T.push(E[A]);T.length?this._events[S]=T.length===1?T[0]:T:a(this,S)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(px)),px.exports}var jne=Dne();const $ne=yt(jne);var mx=new $ne,gx="recharts.syncMouseEvents";function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function Une(t,e,n){return e&&Fne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vx(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=zne(t,"string");return kf(e)=="symbol"?e:e+""}function zne(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qne=(function(){function t(){Bne(this,t),vx(this,"activeIndex",0),vx(this,"coordinateList",[]),vx(this,"layout","horizontal")}return Une(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,u=a===void 0?null:a,f=n.layout,d=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,_=n.mouseHandlerCallback,S=_===void 0?null:_;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,u=i.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+f+d,_=a+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:_})}}}])})();function Hne(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function Gne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function UD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Dt(e,n,r,i),u=Dt(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Vne(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,d=e.innerRadius,p=e.outerRadius,m=e.angle,_=Dt(u,f,d,m),S=Dt(u,f,p,m);r=_.x,i=_.y,o=S.x,a=S.y}else return UD(e);return[{x:r,y:i},{x:o,y:a}]}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Zne(t,"string");return Rf(e)=="symbol"?e:e+""}function Zne(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yne(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,u=t.activePayload,f=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,_=t.chartName,S=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!S||!o||!a||_!=="ScatterChart"&&i!=="axis")return null;var E,A=wa;if(_==="ScatterChart")E=a,A=qJ;else if(_==="BarChart")E=Gne(m,a,f,p),A=yS;else if(m==="radial"){var T=UD(a),M=T.cx,N=T.cy,R=T.radius,j=T.startAngle,O=T.endAngle;E={cx:M,cy:N,startAngle:j,endAngle:O,innerRadius:R,outerRadius:R},A=RL}else E={points:Vne(m,a,f)},A=wa;var k=bh(bh(bh(bh({stroke:"#ccc",pointerEvents:"none"},f),E),je(S,!1)),{},{payload:u,payloadIndex:d,className:nt("recharts-tooltip-cursor",S.className)});return K.isValidElement(S)?K.cloneElement(S,k):K.createElement(A,k)}var Jne=["item"],Xne=["children","className","width","height","style","compact","title","desc"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function JO(t,e){return tre(t)||ere(t,e)||qD(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],f=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,i=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return u}}function tre(t){if(Array.isArray(t))return t}function XO(t,e){if(t==null)return{};var n=nre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ire(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HD(r.key),r)}}function ore(t,e,n){return e&&ire(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function are(t,e,n){return e=Fp(e),sre(t,zD()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function sre(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(t)}function lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function vu(t){return dre(t)||fre(t)||qD(t)||cre()}function cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dre(t){if(Array.isArray(t))return uw(t)}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ze(t,e,n){return e=HD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HD(t){var e=hre(t,"string");return gu(e)=="symbol"?e:e+""}function hre(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pre={xAxis:["bottom","top"],yAxis:["left","right"]},mre={width:"100%",height:"100%"},GD={x:0,y:0};function wh(t){return t}var gre=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},vre=function(e,n,r,i){var o=n.find(function(p){return p&&p.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,u=i.radius;return ve(ve(ve({},i),Dt(i.cx,i.cy,u,a)),{},{angle:a,radius:u})}var f=o.coordinate,d=i.angle;return ve(ve(ve({},i),Dt(i.cx,i.cy,f,d)),{},{angle:d,radius:f})}return GD},Lm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(vu(u),vu(d)):u},[]);return a.length>0?a:e&&e.length&&Ee(i)&&Ee(o)?e.slice(i,o+1):[]};function VD(t){return t==="number"?[0,"auto"]:void 0}var cw=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,u=Lm(n,e);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(f,d){var p,m=(p=d.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(a.dataKey&&!a.allowDuplicatedCategory){var S=m===void 0?u:m;_=$h(S,a.dataKey,i)}else _=m&&m[r]||u[r];return _?[].concat(vu(f),[CL(d,_)]):f},[])},ek=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=gre(o,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,d=e.tooltipTicks,p=cK(a,u,d,f);if(p>=0&&d){var m=d[p]&&d[p].value,_=cw(e,n,p,m),S=vre(r,u,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:_,activeCoordinate:S}}return null},yre=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,m=e.children,_=e.stackOffset,S=wL(p,o);return r.reduce(function(E,A){var T,M=A.type.defaultProps!==void 0?ve(ve({},A.type.defaultProps),A.props):A.props,N=M.type,R=M.dataKey,j=M.allowDataOverflow,O=M.allowDuplicatedCategory,k=M.scale,$=M.ticks,U=M.includeHidden,z=M[a];if(E[z])return E;var Z=Lm(e.data,{graphicalItems:i.filter(function(ne){var re,me=a in ne.props?ne.props[a]:(re=ne.type.defaultProps)===null||re===void 0?void 0:re[a];return me===z}),dataStartIndex:f,dataEndIndex:d}),V=Z.length,q,ee,J;Hne(M.domain,j,N)&&(q=bb(M.domain,null,j),S&&(N==="number"||k!=="auto")&&(J=qc(Z,R,"category")));var oe=VD(N);if(!q||q.length===0){var ae,de=(ae=M.domain)!==null&&ae!==void 0?ae:oe;if(R){if(q=qc(Z,R,N),N==="category"&&S){var X=rH(q);O&&X?(ee=q,q=Tp(0,V)):O||(q=XI(de,q,A).reduce(function(ne,re){return ne.indexOf(re)>=0?ne:[].concat(vu(ne),[re])},[]))}else if(N==="category")O?q=q.filter(function(ne){return ne!==""&&!Ve(ne)}):q=XI(de,q,A).reduce(function(ne,re){return ne.indexOf(re)>=0||re===""||Ve(re)?ne:[].concat(vu(ne),[re])},[]);else if(N==="number"){var he=mK(Z,i.filter(function(ne){var re,me,ge=a in ne.props?ne.props[a]:(re=ne.type.defaultProps)===null||re===void 0?void 0:re[a],xe="hide"in ne.props?ne.props.hide:(me=ne.type.defaultProps)===null||me===void 0?void 0:me.hide;return ge===z&&(U||!xe)}),R,o,p);he&&(q=he)}S&&(N==="number"||k!=="auto")&&(J=qc(Z,R,"category"))}else S?q=Tp(0,V):u&&u[z]&&u[z].hasStack&&N==="number"?q=_==="expand"?[0,1]:PL(u[z].stackGroups,f,d):q=bL(Z,i.filter(function(ne){var re=a in ne.props?ne.props[a]:ne.type.defaultProps[a],me="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return re===z&&(U||!me)}),N,p,!0);if(N==="number")q=sw(m,q,z,o,$),de&&(q=bb(de,q,j));else if(N==="category"&&de){var ie=de,G=q.every(function(ne){return ie.indexOf(ne)>=0});G&&(q=ie)}}return ve(ve({},E),{},Ze({},z,ve(ve({},M),{},{axisType:o,domain:q,categoricalDomain:J,duplicateDomain:ee,originalDomain:(T=M.domain)!==null&&T!==void 0?T:oe,isCategorical:S,layout:p})))},{})},_re=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,m=e.children,_=Lm(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),S=_.length,E=wL(p,o),A=-1;return r.reduce(function(T,M){var N=M.type.defaultProps!==void 0?ve(ve({},M.type.defaultProps),M.props):M.props,R=N[a],j=VD("number");if(!T[R]){A++;var O;return E?O=Tp(0,S):u&&u[R]&&u[R].hasStack?(O=PL(u[R].stackGroups,f,d),O=sw(m,O,R,o)):(O=bb(j,bL(_,r.filter(function(k){var $,U,z=a in k.props?k.props[a]:($=k.type.defaultProps)===null||$===void 0?void 0:$[a],Z="hide"in k.props?k.props.hide:(U=k.type.defaultProps)===null||U===void 0?void 0:U.hide;return z===R&&!Z}),"number",p),i.defaultProps.allowDataOverflow),O=sw(m,O,R,o)),ve(ve({},T),{},Ze({},R,ve(ve({axisType:o},i.defaultProps),{},{hide:!0,orientation:Er(pre,"".concat(o,".").concat(A%2),null),domain:O,originalDomain:j,isCategorical:E,layout:p})))}return T},{})},xre=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),_=Wn(p,o),S={};return _&&_.length?S=yre(e,{axes:_,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):a&&a.length&&(S=_re(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),S},bre=function(e){var n=ma(e),r=go(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Gw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:cp(n,r)}},tk=function(e){var n=e.children,r=e.defaultShowTooltip,i=br(n,iu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},wre=function(e){return!e||!e.length?!1:e.some(function(n){var r=vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},nk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sre=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,u=e.yAxisMap,f=u===void 0?{}:u,d=r.width,p=r.height,m=r.children,_=r.margin||{},S=br(m,iu),E=br(m,_s),A=Object.keys(f).reduce(function(O,k){var $=f[k],U=$.orientation;return!$.mirror&&!$.hide?ve(ve({},O),{},Ze({},U,O[U]+$.width)):O},{left:_.left||0,right:_.right||0}),T=Object.keys(a).reduce(function(O,k){var $=a[k],U=$.orientation;return!$.mirror&&!$.hide?ve(ve({},O),{},Ze({},U,Er(O,"".concat(U))+$.height)):O},{top:_.top||0,bottom:_.bottom||0}),M=ve(ve({},T),A),N=M.bottom;S&&(M.bottom+=S.props.height||iu.defaultProps.height),E&&n&&(M=hK(M,i,r,n));var R=d-M.left-M.right,j=p-M.top-M.bottom;return ve(ve({brushBottom:N},M),{},{width:Math.max(R,0),height:Math.max(j,0)})},Tre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},NS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,u=a===void 0?["axis"]:a,f=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,_=function(M,N){var R=N.graphicalItems,j=N.stackGroups,O=N.offset,k=N.updateId,$=N.dataStartIndex,U=N.dataEndIndex,z=M.barSize,Z=M.layout,V=M.barGap,q=M.barCategoryGap,ee=M.maxBarSize,J=nk(Z),oe=J.numericAxisName,ae=J.cateAxisName,de=wre(R),X=[];return R.forEach(function(he,ie){var G=Lm(M.data,{graphicalItems:[he],dataStartIndex:$,dataEndIndex:U}),ne=he.type.defaultProps!==void 0?ve(ve({},he.type.defaultProps),he.props):he.props,re=ne.dataKey,me=ne.maxBarSize,ge=ne["".concat(oe,"Id")],xe=ne["".concat(ae,"Id")],$e={},Fe=f.reduce(function(en,Cn){var Zr=N["".concat(Cn.axisType,"Map")],Fi=ne["".concat(Cn.axisType,"Id")];Zr&&Zr[Fi]||Cn.axisType==="zAxis"||Es();var Ui=Zr[Fi];return ve(ve({},en),{},Ze(Ze({},Cn.axisType,Ui),"".concat(Cn.axisType,"Ticks"),go(Ui)))},$e),be=Fe[ae],Re=Fe["".concat(ae,"Ticks")],ze=j&&j[ge]&&j[ge].hasStack&&TK(he,j[ge].stackGroups),ye=vo(he.type).indexOf("Bar")>=0,at=cp(be,Re),Pe=[],ct=de&&fK({barSize:z,stackGroups:j,totalSize:Tre(Fe,ae)});if(ye){var _t,dt,Nt=Ve(me)?ee:me,Xt=(_t=(dt=cp(be,Re,!0))!==null&&dt!==void 0?dt:Nt)!==null&&_t!==void 0?_t:0;Pe=dK({barGap:V,barCategoryGap:q,bandSize:Xt!==at?Xt:at,sizeList:ct[xe],maxBarSize:Nt}),Xt!==at&&(Pe=Pe.map(function(en){return ve(ve({},en),{},{position:ve(ve({},en.position),{},{offset:en.position.offset-Xt/2})})}))}var Qt=he&&he.type&&he.type.getComposedData;Qt&&X.push({props:ve(ve({},Qt(ve(ve({},Fe),{},{displayedData:G,props:M,dataKey:re,item:he,bandSize:at,barPosition:Pe,offset:O,stackedData:ze,layout:Z,dataStartIndex:$,dataEndIndex:U}))),{},Ze(Ze(Ze({key:he.key||"item-".concat(ie)},oe,Fe[oe]),ae,Fe[ae]),"animationId",k)),childIndex:gH(he,M.children),item:he})}),X},S=function(M,N){var R=M.props,j=M.dataStartIndex,O=M.dataEndIndex,k=M.updateId;if(!hP({props:R}))return null;var $=R.children,U=R.layout,z=R.stackOffset,Z=R.data,V=R.reverseStackOrder,q=nk(U),ee=q.numericAxisName,J=q.cateAxisName,oe=Wn($,r),ae=wK(Z,oe,"".concat(ee,"Id"),"".concat(J,"Id"),z,V),de=f.reduce(function(ne,re){var me="".concat(re.axisType,"Map");return ve(ve({},ne),{},Ze({},me,xre(R,ve(ve({},re),{},{graphicalItems:oe,stackGroups:re.axisType===ee&&ae,dataStartIndex:j,dataEndIndex:O}))))},{}),X=Sre(ve(ve({},de),{},{props:R,graphicalItems:oe}),N?.legendBBox);Object.keys(de).forEach(function(ne){de[ne]=p(R,de[ne],X,ne.replace("Map",""),n)});var he=de["".concat(J,"Map")],ie=bre(he),G=_(R,ve(ve({},de),{},{dataStartIndex:j,dataEndIndex:O,updateId:k,graphicalItems:oe,stackGroups:ae,offset:X}));return ve(ve({formattedGraphicalItems:G,graphicalItems:oe,offset:X,stackGroups:ae},ie),de)},E=(function(T){function M(N){var R,j,O;return rre(this,M),O=are(this,M,[N]),Ze(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ze(O,"accessibilityManager",new qne),Ze(O,"handleLegendBBoxUpdate",function(k){if(k){var $=O.state,U=$.dataStartIndex,z=$.dataEndIndex,Z=$.updateId;O.setState(ve({legendBBox:k},S({props:O.props,dataStartIndex:U,dataEndIndex:z,updateId:Z},ve(ve({},O.state),{},{legendBBox:k}))))}}),Ze(O,"handleReceiveSyncEvent",function(k,$,U){if(O.props.syncId===k){if(U===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent($)}}),Ze(O,"handleBrushChange",function(k){var $=k.startIndex,U=k.endIndex;if($!==O.state.dataStartIndex||U!==O.state.dataEndIndex){var z=O.state.updateId;O.setState(function(){return ve({dataStartIndex:$,dataEndIndex:U},S({props:O.props,dataStartIndex:$,dataEndIndex:U,updateId:z},O.state))}),O.triggerSyncEvent({dataStartIndex:$,dataEndIndex:U})}}),Ze(O,"handleMouseEnter",function(k){var $=O.getMouseInfo(k);if($){var U=ve(ve({},$),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var z=O.props.onMouseEnter;Ke(z)&&z(U,k)}}),Ze(O,"triggeredAfterMouseMove",function(k){var $=O.getMouseInfo(k),U=$?ve(ve({},$),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(U),O.triggerSyncEvent(U);var z=O.props.onMouseMove;Ke(z)&&z(U,k)}),Ze(O,"handleItemMouseEnter",function(k){O.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ze(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Ze(O,"handleMouseMove",function(k){k.persist(),O.throttleTriggeredAfterMouseMove(k)}),Ze(O,"handleMouseLeave",function(k){O.throttleTriggeredAfterMouseMove.cancel();var $={isTooltipActive:!1};O.setState($),O.triggerSyncEvent($);var U=O.props.onMouseLeave;Ke(U)&&U($,k)}),Ze(O,"handleOuterEvent",function(k){var $=mH(k),U=Er(O.props,"".concat($));if($&&Ke(U)){var z,Z;/.*touch.*/i.test($)?Z=O.getMouseInfo(k.changedTouches[0]):Z=O.getMouseInfo(k),U((z=Z)!==null&&z!==void 0?z:{},k)}}),Ze(O,"handleClick",function(k){var $=O.getMouseInfo(k);if($){var U=ve(ve({},$),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var z=O.props.onClick;Ke(z)&&z(U,k)}}),Ze(O,"handleMouseDown",function(k){var $=O.props.onMouseDown;if(Ke($)){var U=O.getMouseInfo(k);$(U,k)}}),Ze(O,"handleMouseUp",function(k){var $=O.props.onMouseUp;if(Ke($)){var U=O.getMouseInfo(k);$(U,k)}}),Ze(O,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ze(O,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseDown(k.changedTouches[0])}),Ze(O,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseUp(k.changedTouches[0])}),Ze(O,"handleDoubleClick",function(k){var $=O.props.onDoubleClick;if(Ke($)){var U=O.getMouseInfo(k);$(U,k)}}),Ze(O,"handleContextMenu",function(k){var $=O.props.onContextMenu;if(Ke($)){var U=O.getMouseInfo(k);$(U,k)}}),Ze(O,"triggerSyncEvent",function(k){O.props.syncId!==void 0&&mx.emit(gx,O.props.syncId,k,O.eventEmitterSymbol)}),Ze(O,"applySyncEvent",function(k){var $=O.props,U=$.layout,z=$.syncMethod,Z=O.state.updateId,V=k.dataStartIndex,q=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)O.setState(ve({dataStartIndex:V,dataEndIndex:q},S({props:O.props,dataStartIndex:V,dataEndIndex:q,updateId:Z},O.state)));else if(k.activeTooltipIndex!==void 0){var ee=k.chartX,J=k.chartY,oe=k.activeTooltipIndex,ae=O.state,de=ae.offset,X=ae.tooltipTicks;if(!de)return;if(typeof z=="function")oe=z(X,k);else if(z==="value"){oe=-1;for(var he=0;he<X.length;he++)if(X[he].value===k.activeLabel){oe=he;break}}var ie=ve(ve({},de),{},{x:de.left,y:de.top}),G=Math.min(ee,ie.x+ie.width),ne=Math.min(J,ie.y+ie.height),re=X[oe]&&X[oe].value,me=cw(O.state,O.props.data,oe),ge=X[oe]?{x:U==="horizontal"?X[oe].coordinate:G,y:U==="horizontal"?ne:X[oe].coordinate}:GD;O.setState(ve(ve({},k),{},{activeLabel:re,activeCoordinate:ge,activePayload:me,activeTooltipIndex:oe}))}else O.setState(k)}),Ze(O,"renderCursor",function(k){var $,U=O.state,z=U.isTooltipActive,Z=U.activeCoordinate,V=U.activePayload,q=U.offset,ee=U.activeTooltipIndex,J=U.tooltipAxisBandSize,oe=O.getTooltipEventType(),ae=($=k.props.active)!==null&&$!==void 0?$:z,de=O.props.layout,X=k.key||"_recharts-cursor";return H.createElement(Yne,{key:X,activeCoordinate:Z,activePayload:V,activeTooltipIndex:ee,chartName:n,element:k,isActive:ae,layout:de,offset:q,tooltipAxisBandSize:J,tooltipEventType:oe})}),Ze(O,"renderPolarAxis",function(k,$,U){var z=Er(k,"type.axisType"),Z=Er(O.state,"".concat(z,"Map")),V=k.type.defaultProps,q=V!==void 0?ve(ve({},V),k.props):k.props,ee=Z&&Z[q["".concat(z,"Id")]];return K.cloneElement(k,ve(ve({},ee),{},{className:nt(z,ee.className),key:k.key||"".concat($,"-").concat(U),ticks:go(ee,!0)}))}),Ze(O,"renderPolarGrid",function(k){var $=k.props,U=$.radialLines,z=$.polarAngles,Z=$.polarRadius,V=O.state,q=V.radiusAxisMap,ee=V.angleAxisMap,J=ma(q),oe=ma(ee),ae=oe.cx,de=oe.cy,X=oe.innerRadius,he=oe.outerRadius;return K.cloneElement(k,{polarAngles:Array.isArray(z)?z:go(oe,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(Z)?Z:go(J,!0).map(function(ie){return ie.coordinate}),cx:ae,cy:de,innerRadius:X,outerRadius:he,key:k.key||"polar-grid",radialLines:U})}),Ze(O,"renderLegend",function(){var k=O.state.formattedGraphicalItems,$=O.props,U=$.children,z=$.width,Z=$.height,V=O.props.margin||{},q=z-(V.left||0)-(V.right||0),ee=_L({children:U,formattedGraphicalItems:k,legendWidth:q,legendContent:d});if(!ee)return null;var J=ee.item,oe=XO(ee,Jne);return K.cloneElement(J,ve(ve({},oe),{},{chartWidth:z,chartHeight:Z,margin:V,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Ze(O,"renderTooltip",function(){var k,$=O.props,U=$.children,z=$.accessibilityLayer,Z=br(U,zr);if(!Z)return null;var V=O.state,q=V.isTooltipActive,ee=V.activeCoordinate,J=V.activePayload,oe=V.activeLabel,ae=V.offset,de=(k=Z.props.active)!==null&&k!==void 0?k:q;return K.cloneElement(Z,{viewBox:ve(ve({},ae),{},{x:ae.left,y:ae.top}),active:de,label:oe,payload:de?J:[],coordinate:ee,accessibilityLayer:z})}),Ze(O,"renderBrush",function(k){var $=O.props,U=$.margin,z=$.data,Z=O.state,V=Z.offset,q=Z.dataStartIndex,ee=Z.dataEndIndex,J=Z.updateId;return K.cloneElement(k,{key:k.key||"_recharts-brush",onChange:vh(O.handleBrushChange,k.props.onChange),data:z,x:Ee(k.props.x)?k.props.x:V.left,y:Ee(k.props.y)?k.props.y:V.top+V.height+V.brushBottom-(U.bottom||0),width:Ee(k.props.width)?k.props.width:V.width,startIndex:q,endIndex:ee,updateId:"brush-".concat(J)})}),Ze(O,"renderReferenceElement",function(k,$,U){if(!k)return null;var z=O,Z=z.clipPathId,V=O.state,q=V.xAxisMap,ee=V.yAxisMap,J=V.offset,oe=k.type.defaultProps||{},ae=k.props,de=ae.xAxisId,X=de===void 0?oe.xAxisId:de,he=ae.yAxisId,ie=he===void 0?oe.yAxisId:he;return K.cloneElement(k,{key:k.key||"".concat($,"-").concat(U),xAxis:q[X],yAxis:ee[ie],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:Z})}),Ze(O,"renderActivePoints",function(k){var $=k.item,U=k.activePoint,z=k.basePoint,Z=k.childIndex,V=k.isRange,q=[],ee=$.props.key,J=$.item.type.defaultProps!==void 0?ve(ve({},$.item.type.defaultProps),$.item.props):$.item.props,oe=J.activeDot,ae=J.dataKey,de=ve(ve({index:Z,dataKey:ae,cx:U.x,cy:U.y,r:4,fill:vS($.item),strokeWidth:2,stroke:"#fff",payload:U.payload,value:U.value},je(oe,!1)),Bh(oe));return q.push(M.renderActiveDot(oe,de,"".concat(ee,"-activePoint-").concat(Z))),z?q.push(M.renderActiveDot(oe,ve(ve({},de),{},{cx:z.x,cy:z.y}),"".concat(ee,"-basePoint-").concat(Z))):V&&q.push(null),q}),Ze(O,"renderGraphicChild",function(k,$,U){var z=O.filterFormatItem(k,$,U);if(!z)return null;var Z=O.getTooltipEventType(),V=O.state,q=V.isTooltipActive,ee=V.tooltipAxis,J=V.activeTooltipIndex,oe=V.activeLabel,ae=O.props.children,de=br(ae,zr),X=z.props,he=X.points,ie=X.isRange,G=X.baseLine,ne=z.item.type.defaultProps!==void 0?ve(ve({},z.item.type.defaultProps),z.item.props):z.item.props,re=ne.activeDot,me=ne.hide,ge=ne.activeBar,xe=ne.activeShape,$e=!!(!me&&q&&de&&(re||ge||xe)),Fe={};Z!=="axis"&&de&&de.props.trigger==="click"?Fe={onClick:vh(O.handleItemMouseEnter,k.props.onClick)}:Z!=="axis"&&(Fe={onMouseLeave:vh(O.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:vh(O.handleItemMouseEnter,k.props.onMouseEnter)});var be=K.cloneElement(k,ve(ve({},z.props),Fe));function Re(Cn){return typeof ee.dataKey=="function"?ee.dataKey(Cn.payload):null}if($e)if(J>=0){var ze,ye;if(ee.dataKey&&!ee.allowDuplicatedCategory){var at=typeof ee.dataKey=="function"?Re:"payload.".concat(ee.dataKey.toString());ze=$h(he,at,oe),ye=ie&&G&&$h(G,at,oe)}else ze=he?.[J],ye=ie&&G&&G[J];if(xe||ge){var Pe=k.props.activeIndex!==void 0?k.props.activeIndex:J;return[K.cloneElement(k,ve(ve(ve({},z.props),Fe),{},{activeIndex:Pe})),null,null]}if(!Ve(ze))return[be].concat(vu(O.renderActivePoints({item:z,activePoint:ze,basePoint:ye,childIndex:J,isRange:ie})))}else{var ct,_t=(ct=O.getItemByXY(O.state.activeCoordinate))!==null&&ct!==void 0?ct:{graphicalItem:be},dt=_t.graphicalItem,Nt=dt.item,Xt=Nt===void 0?k:Nt,Qt=dt.childIndex,en=ve(ve(ve({},z.props),Fe),{},{activeIndex:Qt});return[K.cloneElement(Xt,en),null,null]}return ie?[be,null,null]:[be,null]}),Ze(O,"renderCustomized",function(k,$,U){return K.cloneElement(k,ve(ve({key:"recharts-customized-".concat(U)},O.props),O.state))}),Ze(O,"renderMap",{CartesianGrid:{handler:wh,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:wh},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:wh},YAxis:{handler:wh},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((R=N.id)!==null&&R!==void 0?R:Na("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=_2(O.triggeredAfterMouseMove,(j=N.throttleDelay)!==null&&j!==void 0?j:1e3/60),O.state={},O}return ure(M,T),ore(M,[{key:"componentDidMount",value:function(){var R,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,j=R.children,O=R.data,k=R.height,$=R.layout,U=br(j,zr);if(U){var z=U.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var Z=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,V=cw(this.state,O,z,Z),q=this.state.tooltipTicks[z].coordinate,ee=(this.state.offset.top+k)/2,J=$==="horizontal",oe=J?{x:q,y:ee}:{y:q,x:ee},ae=this.state.formattedGraphicalItems.find(function(X){var he=X.item;return he.type.name==="Scatter"});ae&&(oe=ve(ve({},oe),ae.props.points[z].tooltipPosition),V=ae.props.points[z].tooltipPayload);var de={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:Z,activePayload:V,activeCoordinate:oe};this.setState(de),this.renderCursor(U),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var O,k;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(R){zx([br(R.children,zr)],[br(this.props.children,zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=br(this.props.children,zr);if(R&&typeof R.props.shared=="boolean"){var j=R.props.shared?"axis":"item";return u.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var j=this.container,O=j.getBoundingClientRect(),k=n8(O),$={chartX:Math.round(R.pageX-k.left),chartY:Math.round(R.pageY-k.top)},U=O.width/j.offsetWidth||1,z=this.inRange($.chartX,$.chartY,U);if(!z)return null;var Z=this.state,V=Z.xAxisMap,q=Z.yAxisMap,ee=this.getTooltipEventType(),J=ek(this.state,this.props.data,this.props.layout,z);if(ee!=="axis"&&V&&q){var oe=ma(V).scale,ae=ma(q).scale,de=oe&&oe.invert?oe.invert($.chartX):null,X=ae&&ae.invert?ae.invert($.chartY):null;return ve(ve({},$),{},{xValue:de,yValue:X},J)}return J?ve(ve({},$),J):null}},{key:"inRange",value:function(R,j){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,$=R/O,U=j/O;if(k==="horizontal"||k==="vertical"){var z=this.state.offset,Z=$>=z.left&&$<=z.left+z.width&&U>=z.top&&U<=z.top+z.height;return Z?{x:$,y:U}:null}var V=this.state,q=V.angleAxisMap,ee=V.radiusAxisMap;if(q&&ee){var J=ma(q);return tM({x:$,y:U},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,j=this.getTooltipEventType(),O=br(R,zr),k={};O&&j==="axis"&&(O.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var $=Bh(this.props,this.handleOuterEvent);return ve(ve({},$),k)}},{key:"addListener",value:function(){mx.on(gx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mx.removeListener(gx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,j,O){for(var k=this.state.formattedGraphicalItems,$=0,U=k.length;$<U;$++){var z=k[$];if(z.item===R||z.props.key===R.key||j===vo(z.item.type)&&O===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,j=this.state.offset,O=j.left,k=j.top,$=j.height,U=j.width;return H.createElement("defs",null,H.createElement("clipPath",{id:R},H.createElement("rect",{x:O,y:k,height:$,width:U})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(j,O){var k=JO(O,2),$=k[0],U=k[1];return ve(ve({},j),{},Ze({},$,U.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(j,O){var k=JO(O,2),$=k[0],U=k[1];return ve(ve({},j),{},Ze({},$,U.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[R])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(R){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[R])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(R){var j=this.state,O=j.formattedGraphicalItems,k=j.activeItem;if(O&&O.length)for(var $=0,U=O.length;$<U;$++){var z=O[$],Z=z.props,V=z.item,q=V.type.defaultProps!==void 0?ve(ve({},V.type.defaultProps),V.props):V.props,ee=vo(V.type);if(ee==="Bar"){var J=(Z.data||[]).find(function(X){return SJ(R,X)});if(J)return{graphicalItem:z,payload:J}}else if(ee==="RadialBar"){var oe=(Z.data||[]).find(function(X){return tM(R,X)});if(oe)return{graphicalItem:z,payload:oe}}else if(Am(z,k)||Pm(z,k)||Cf(z,k)){var ae=VX({graphicalItem:z,activeTooltipItem:k,itemData:q.data}),de=q.activeIndex===void 0?ae:q.activeIndex;return{graphicalItem:ve(ve({},z),{},{childIndex:de}),payload:Cf(z,k)?q.data[ae]:z.props.data[ae]}}}return null}},{key:"render",value:function(){var R=this;if(!hP(this))return null;var j=this.props,O=j.children,k=j.className,$=j.width,U=j.height,z=j.style,Z=j.compact,V=j.title,q=j.desc,ee=XO(j,Xne),J=je(ee,!1);if(Z)return H.createElement(CO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Hx,Dl({},J,{width:$,height:U,title:V,desc:q}),this.renderClipPath(),mP(O,this.renderMap)));if(this.props.accessibilityLayer){var oe,ae;J.tabIndex=(oe=this.props.tabIndex)!==null&&oe!==void 0?oe:0,J.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",J.onKeyDown=function(X){R.accessibilityManager.keyboardEvent(X)},J.onFocus=function(){R.accessibilityManager.focus()}}var de=this.parseEventsOfWrapper();return H.createElement(CO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Dl({className:nt("recharts-wrapper",k),style:ve({position:"relative",cursor:"default",width:$,height:U},z)},de,{ref:function(he){R.container=he}}),H.createElement(Hx,Dl({},J,{width:$,height:U,title:V,desc:q,style:mre}),this.renderClipPath(),mP(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(K.Component);Ze(E,"displayName",n),Ze(E,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ze(E,"getDerivedStateFromProps",function(T,M){var N=T.dataKey,R=T.data,j=T.children,O=T.width,k=T.height,$=T.layout,U=T.stackOffset,z=T.margin,Z=M.dataStartIndex,V=M.dataEndIndex;if(M.updateId===void 0){var q=tk(T);return ve(ve(ve({},q),{},{updateId:0},S(ve(ve({props:T},q),{},{updateId:0}),M)),{},{prevDataKey:N,prevData:R,prevWidth:O,prevHeight:k,prevLayout:$,prevStackOffset:U,prevMargin:z,prevChildren:j})}if(N!==M.prevDataKey||R!==M.prevData||O!==M.prevWidth||k!==M.prevHeight||$!==M.prevLayout||U!==M.prevStackOffset||!Bl(z,M.prevMargin)){var ee=tk(T),J={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},oe=ve(ve({},ek(M,R,$)),{},{updateId:M.updateId+1}),ae=ve(ve(ve({},ee),J),oe);return ve(ve(ve({},ae),S(ve({props:T},ae),M)),{},{prevDataKey:N,prevData:R,prevWidth:O,prevHeight:k,prevLayout:$,prevStackOffset:U,prevMargin:z,prevChildren:j})}if(!zx(j,M.prevChildren)){var de,X,he,ie,G=br(j,iu),ne=G&&(de=(X=G.props)===null||X===void 0?void 0:X.startIndex)!==null&&de!==void 0?de:Z,re=G&&(he=(ie=G.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&he!==void 0?he:V,me=ne!==Z||re!==V,ge=!Ve(R),xe=ge&&!me?M.updateId:M.updateId+1;return ve(ve({updateId:xe},S(ve(ve({props:T},M),{},{updateId:xe,dataStartIndex:ne,dataEndIndex:re}),M)),{},{prevChildren:j,dataStartIndex:ne,dataEndIndex:re})}return null}),Ze(E,"renderActiveDot",function(T,M,N){var R;return K.isValidElement(T)?R=K.cloneElement(T,M):Ke(T)?R=T(M):R=H.createElement(qf,M),H.createElement(it,{className:"recharts-active-dot",key:N},R)});var A=K.forwardRef(function(M,N){return H.createElement(E,Dl({},M,{ref:N}))});return A.displayName=E.displayName,A},Ere=NS({chartName:"LineChart",GraphicalChild:Ea,axisComponents:[{axisType:"xAxis",AxisComp:Mu},{axisType:"yAxis",AxisComp:Aa}],formatAxisMap:rD}),Are=NS({chartName:"PieChart",GraphicalChild:No,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Em},{axisType:"radiusAxis",AxisComp:Sm}],formatAxisMap:RK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Pre=NS({chartName:"ComposedChart",GraphicalChild:[Ea,Rs,ks,Rm],axisComponents:[{axisType:"xAxis",AxisComp:Mu},{axisType:"yAxis",AxisComp:Aa},{axisType:"zAxis",AxisComp:km}],formatAxisMap:rD});const Cre=({stats:t,records:e,coordCount:n})=>{const r=K.useMemo(()=>{const i=e.filter(m=>m.status==="alive"),o=m=>{if(m.dbh_cm&&!isNaN(Number(m.dbh_cm)))return Number(m.dbh_cm);if(m.dbh_1_cm||m.dbh_2_cm||m.dbh_3_cm){const _=[m.dbh_1_cm,m.dbh_2_cm,m.dbh_3_cm].map(S=>Number(S)).filter(S=>!isNaN(S)&&S>0);if(_.length>0)return _.reduce((S,E)=>S+E,0)/_.length}return 0},a=m=>m.height_m&&!isNaN(Number(m.height_m))?Number(m.height_m):0,u=new Map,f=new Map,d=new Map;i.forEach(m=>{const _=xa(m),S=o(m),E=a(m),A=m.plot_code,T=m.species_name;if(S>0||E>0){u.has(_)||u.set(_,{count:0,sumRCD:0,sumHeight:0});const M=u.get(_);M.count++,M.sumRCD+=S,M.sumHeight+=E,f.has(A)||f.set(A,{count:0,sumRCD:0,sumHeight:0});const N=f.get(A);N.count++,N.sumRCD+=S,N.sumHeight+=E,d.has(T)||d.set(T,{count:0,sumRCD:0,sumHeight:0});const R=d.get(T);R.count++,R.sumRCD+=S,R.sumHeight+=E}});const p=m=>Array.from(m.entries()).map(([_,S])=>({name:_,avgRCD:S.count?Number((S.sumRCD/S.count).toFixed(2)):0,avgHeight:S.count?Number((S.sumHeight/S.count).toFixed(2)):0,count:S.count}));return{byCategory:p(u),byPlot:p(f).sort((m,_)=>m.name.localeCompare(_.name)),bySpecies:p(d).sort((m,_)=>_.count-m.count).slice(0,10)}},[e]);return y.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8 bg-gray-50/50",children:y.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-gray-800",children:[y.jsx(Up,{className:"text-green-600"})," "]}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),y.jsxs("div",{className:"text-xs font-mono bg-white border border-gray-200 px-3 py-1.5 rounded-full text-gray-500 shadow-sm",children:["Last Update: ",new Date().toLocaleDateString("th-TH",{hour:"2-digit",minute:"2-digit"})]})]}),y.jsxs("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider mb-4 flex items-center gap-2",children:[y.jsx(Sx,{size:16}),"  "]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[r.byCategory.map(i=>y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:y.jsx(pk,{size:48,className:"text-green-800"})}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:i.name}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-end gap-1 mb-1",children:[y.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:i.avgRCD}),y.jsx("span",{className:"text-[10px] text-gray-500 mb-1",children:"cm (RCD)"})]}),y.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${Math.min(i.avgRCD*5,100)}%`}})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-end gap-1 mb-1",children:[y.jsx("span",{className:"text-xl font-mono font-bold text-gray-800",children:i.avgHeight}),y.jsx("span",{className:"text-[10px] text-gray-500 mb-1",children:"m ()"})]}),y.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-blue-400 rounded-full",style:{width:`${Math.min(i.avgHeight*10,100)}%`}})})]})]})]},i.name)),r.byCategory.length===0&&y.jsx("div",{className:"col-span-full p-8 text-center bg-white rounded-xl border border-dashed text-gray-400",children:""})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:" (RCD & )"}),y.jsxs("div",{className:"flex gap-4 text-[10px]",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-green-600"})," Avg RCD (cm)"]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," Avg Height (m)"]})]})]}),y.jsx("div",{className:"h-80",children:y.jsx(ib,{width:"100%",height:"100%",children:y.jsxs(Pre,{data:r.byPlot,children:[y.jsx(CS,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),y.jsx(Mu,{dataKey:"name",tick:{fontSize:10},axisLine:!1,tickLine:!1}),y.jsx(Aa,{yAxisId:"left",orientation:"left",stroke:"#166534",fontSize:10,tickFormatter:i=>`${i}cm`,axisLine:!1,tickLine:!1}),y.jsx(Aa,{yAxisId:"right",orientation:"right",stroke:"#3b82f6",fontSize:10,tickFormatter:i=>`${i}m`,axisLine:!1,tickLine:!1}),y.jsx(zr,{contentStyle:{borderRadius:"8px",fontSize:"12px"}}),y.jsx(ks,{yAxisId:"left",dataKey:"avgRCD",fill:"#22c55e",barSize:20,radius:[4,4,0,0]}),y.jsx(Ea,{yAxisId:"right",type:"monotone",dataKey:"avgHeight",stroke:"#3b82f6",strokeWidth:2,dot:{r:3}})]})})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-6",children:"Top 10  ()"}),y.jsx("div",{className:"flex-1 overflow-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-[10px] uppercase text-gray-500 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 rounded-l-lg",children:""}),y.jsx("th",{className:"py-2 px-3 text-right",children:""}),y.jsx("th",{className:"py-2 px-3 text-right",children:"RCD (cm)"}),y.jsx("th",{className:"py-2 px-3 text-right rounded-r-lg",children:" (m)"})]})}),y.jsx("tbody",{className:"text-sm",children:r.bySpecies.map((i,o)=>y.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors",children:[y.jsxs("td",{className:"py-3 px-3 font-medium text-gray-800 flex items-center gap-2",children:[y.jsx("span",{className:"w-5 h-5 rounded bg-gray-100 text-[10px] text-gray-500 flex items-center justify-center font-mono",children:o+1}),i.name]}),y.jsx("td",{className:"py-3 px-3 text-right font-mono text-gray-500",children:i.count}),y.jsx("td",{className:"py-3 px-3 text-right font-mono font-bold text-green-700",children:i.avgRCD}),y.jsx("td",{className:"py-3 px-3 text-right font-mono font-bold text-blue-600",children:i.avgHeight})]},i.name))})]})})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[y.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:""}),y.jsx("p",{className:"text-3xl font-mono font-bold text-gray-800",children:t.total})]}),y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm border-l-4 border-l-green-500",children:[y.jsx("p",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-1",children:" (Alive)"}),y.jsxs("p",{className:"text-3xl font-mono font-bold text-green-600",children:[t.alivePct,"%"]}),y.jsxs("p",{className:"text-[10px] text-gray-400",children:[t.alive," "]})]}),y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm border-l-4 border-l-red-500",children:[y.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-wider mb-1",children:" (Dead)"}),y.jsxs("p",{className:"text-3xl font-mono font-bold text-red-600",children:[t.deadPct,"%"]}),y.jsxs("p",{className:"text-[10px] text-gray-400",children:[t.dead," "]})]}),y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm border-l-4 border-l-yellow-500",children:[y.jsx("p",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-1",children:" (GPS)"}),y.jsx("p",{className:"text-3xl font-mono font-bold text-yellow-600",children:n}),y.jsxs("p",{className:"text-[10px] text-gray-400",children:[t.total?Math.round(n/t.total*100):0,"% completed"]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"w-full md:w-1/3 h-56 relative",children:[y.jsx("h4",{className:"absolute top-0 left-0 text-xs font-bold text-gray-400 uppercase",children:""}),y.jsx(ib,{width:"100%",height:"100%",children:y.jsxs(Are,{children:[y.jsxs(No,{data:[{name:"",value:t.alive},{name:"",value:t.dead}],innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",children:[y.jsx(Wl,{fill:"#22c55e"}),y.jsx(Wl,{fill:"#ef4444"})]}),y.jsx(zr,{}),y.jsx(_s,{verticalAlign:"bottom",height:36})]})})]}),y.jsx("div",{className:"flex-1",children:y.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-xl text-blue-800 text-sm",children:[y.jsx(sk,{size:20,className:"shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold mb-1",children:""}),y.jsxs("p",{children:[" ",y.jsx("b",{children:'""'}),"    RCD "]})]})]})})]})]})})},Nre=({records:t})=>{const[e,n]=K.useState(""),[r,i]=K.useState(""),[o,a]=K.useState(""),[u,f]=K.useState(""),d=K.useMemo(()=>{const E=new Set;return t.forEach(A=>E.add(xa(A))),Array.from(E).sort()},[t]),p=K.useMemo(()=>{if(!r)return[];const E=new Set;return t.forEach(A=>{xa(A)===r&&E.add(A.species_name)}),Array.from(E).sort()},[t,r]),m=K.useMemo(()=>{const E=new Map;return t.forEach(A=>{const T=!e||A.plot_code===e,M=!r||xa(A)===r,N=!o||A.species_name===o;T&&M&&N&&E.set(A.tree_code,`${A.tree_code} (${A.tag_label||""})`)}),Array.from(E.entries()).sort((A,T)=>A[0].localeCompare(T[0]))},[t,e,r,o]),_=K.useMemo(()=>u?t.filter(E=>E.tree_code===u).map(E=>{let A=0;if(E.dbh_cm)A=Number(E.dbh_cm);else if(E.dbh_1_cm||E.dbh_2_cm||E.dbh_3_cm){const T=[E.dbh_1_cm,E.dbh_2_cm,E.dbh_3_cm].map(M=>Number(M)).filter(M=>!isNaN(M)&&M>0);A=T.length>0?T.reduce((M,N)=>M+N,0)/T.length:0}return{date:E.survey_date,rcd:A||0,height:Number(E.height_m)||0,status:E.status,recorder:E.recorder,note:E.note,fullRecord:E}}).sort((E,A)=>new Date(E.date).getTime()-new Date(A.date).getTime()):[],[t,u]),S=_[_.length-1];return y.jsx("div",{className:"flex-1 overflow-auto bg-gray-50/50 p-4 md:p-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-gray-800",children:[y.jsx(Yc,{className:"text-blue-600"})," "]}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm mb-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"1. "}),y.jsxs("select",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-500/20",value:e,onChange:E=>{n(E.target.value),f("")},children:[y.jsx("option",{value:"",children:"  "}),Ri.map(E=>y.jsxs("option",{value:E.code,children:[E.code," - ",E.name]},E.code))]})]}),y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"2. "}),y.jsxs("select",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-500/20",value:r,onChange:E=>{i(E.target.value),a(""),f("")},children:[y.jsx("option",{value:"",children:"  "}),d.map(E=>y.jsx("option",{value:E,children:E},E))]})]}),y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"3. "}),y.jsxs("select",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-500/20",value:o,onChange:E=>{a(E.target.value),f("")},disabled:!r,children:[y.jsx("option",{value:"",children:"  "}),p.map(E=>y.jsx("option",{value:E,children:E},E))]})]}),y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"4.  (Tree Code)"}),y.jsxs("select",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2.5 text-sm font-bold text-blue-800 outline-none focus:ring-2 focus:ring-blue-500/20",value:u,onChange:E=>f(E.target.value),disabled:m.length===0,children:[y.jsxs("option",{value:"",children:["  (",m.length,") "]}),m.map(([E,A])=>y.jsx("option",{value:E,children:A},E))]})]})]}),u?y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm md:col-span-2 flex flex-col md:flex-row items-center gap-8",children:[y.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center shrink-0",children:y.jsx(i$,{size:48,className:"text-blue-600"})}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 mb-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:u}),y.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${S?.status==="alive"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:S?.status==="alive"?" (Alive)":" (Dead)"})]}),y.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:[": ",y.jsx("span",{className:"font-bold text-gray-700",children:S?.fullRecord?.species_name})," | : ",y.jsx("span",{className:"font-mono text-xs",children:S?.fullRecord?.tag_label})]}),y.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400",children:[y.jsx(hw,{size:14})," : ",_[0]?.date]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400",children:[y.jsx(Sx,{size:14})," : ",_.length," "]})]})]})]}),y.jsxs("div",{className:"bg-[#2d5a27] text-white p-6 rounded-2xl shadow-md flex flex-col justify-between",children:[y.jsx("h4",{className:"text-xs font-bold uppercase opacity-60",children:""}),y.jsxs("div",{className:"flex justify-between items-end mt-4",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-3xl font-mono font-bold",children:[S?.rcd.toFixed(1)," ",y.jsx("span",{className:"text-xs",children:"cm"})]}),y.jsx("p",{className:"text-[10px] uppercase opacity-60 mt-1",children:"RCD ()"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-3xl font-mono font-bold",children:[S?.height.toFixed(1)," ",y.jsx("span",{className:"text-xs",children:"m"})]}),y.jsx("p",{className:"text-[10px] uppercase opacity-60 mt-1",children:""})]})]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Sx,{size:16})," "]}),y.jsxs("div",{className:"flex gap-4 text-[10px] font-bold",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"})," RCD (cm)"]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"  (m)"]})]})]}),y.jsx("div",{className:"h-[350px]",children:y.jsx(ib,{width:"100%",height:"100%",children:y.jsxs(Ere,{data:_,margin:{top:5,right:30,left:20,bottom:5},children:[y.jsx(CS,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),y.jsx(Mu,{dataKey:"date",tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1,dy:10}),y.jsx(Aa,{yAxisId:"left",orientation:"left",stroke:"#3b82f6",fontSize:10,tickFormatter:E=>`${E}`,axisLine:!1,tickLine:!1}),y.jsx(Aa,{yAxisId:"right",orientation:"right",stroke:"#10b981",fontSize:10,tickFormatter:E=>`${E}`,axisLine:!1,tickLine:!1}),y.jsx(zr,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"12px"},labelStyle:{fontWeight:"bold",marginBottom:"4px"}}),y.jsx(Ea,{yAxisId:"left",type:"monotone",dataKey:"rcd",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#fff"},activeDot:{r:6},name:"RCD (cm)"}),y.jsx(Ea,{yAxisId:"right",type:"monotone",dataKey:"height",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#fff"},activeDot:{r:6},name:" (m)"})]})})})]}),y.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-100 flex items-center gap-2",children:[y.jsx(Yc,{size:16,className:"text-gray-400"}),y.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-widest",children:""})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50/50 text-[10px] uppercase text-gray-400 font-bold border-b border-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-3 px-6",children:""}),y.jsx("th",{className:"py-3 px-4",children:""}),y.jsx("th",{className:"py-3 px-4 text-right",children:"RCD (cm)"}),y.jsx("th",{className:"py-3 px-4 text-right",children:" (m)"}),y.jsx("th",{className:"py-3 px-4",children:""}),y.jsx("th",{className:"py-3 px-6",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-50",children:_.slice().reverse().map((E,A)=>y.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[y.jsx("td",{className:"py-4 px-6 text-sm font-bold text-gray-700",children:E.date}),y.jsx("td",{className:"py-4 px-4",children:y.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${E.status==="alive"?"text-green-600":"text-red-600"}`,children:E.status==="alive"?"":""})}),y.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-blue-600 font-bold",children:E.rcd.toFixed(2)}),y.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-green-600 font-bold",children:E.height.toFixed(2)}),y.jsx("td",{className:"py-4 px-4 text-xs text-gray-500",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(di,{size:12})," ",E.recorder]})}),y.jsx("td",{className:"py-4 px-6 text-xs text-gray-400 italic",children:E.note||"-"})]},A))})]})})]}),y.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl flex items-start gap-3 text-blue-800 text-xs",children:[y.jsx(fk,{size:16,className:"shrink-0 mt-0.5"}),y.jsx("p",{children:" (Time-series)  "})]})]}):y.jsxs("div",{className:"bg-white border-2 border-dashed border-gray-200 rounded-3xl p-20 flex flex-col items-center justify-center text-gray-400 text-center",children:[y.jsx(wx,{size:64,strokeWidth:1,className:"mb-4 opacity-20"}),y.jsx("h3",{className:"text-lg font-bold",children:""}),y.jsx("p",{className:"text-sm",children:""})]})]})})},Ire="dmd0ca16b",Mre="maechaem_database",Ore=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",Mre),e.append("folder","maechaem_forest");try{const n=await fetch(`https://api.cloudinary.com/v1_1/${Ire}/image/upload`,{method:"POST",body:e});if(!n.ok){const i=await n.json();throw new Error(i.error?.message||"Upload failed")}return(await n.json()).secure_url}catch(n){throw console.error("Cloudinary Upload Error:",n),n}},kre=({image:t,onClose:e})=>{const[n,r]=K.useState(1),[i,o]=K.useState({x:0,y:0}),[a,u]=K.useState(!1),[f,d]=K.useState({x:0,y:0}),p=K.useRef(null);K.useEffect(()=>{const N=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=N}},[]);const m=N=>{r(R=>Math.min(Math.max(R+N,.5),5))},_=N=>{N.stopPropagation();const R=N.deltaY>0?-.1:.1;m(R)},S=N=>{N.preventDefault(),u(!0),d({x:N.clientX-i.x,y:N.clientY-i.y})},E=N=>{a&&o({x:N.clientX-f.x,y:N.clientY-f.y})},A=()=>{u(!1)},T=N=>{N.touches.length===1&&(u(!0),d({x:N.touches[0].clientX-i.x,y:N.touches[0].clientY-i.y}))},M=N=>{a&&N.touches.length===1&&o({x:N.touches[0].clientX-f.x,y:N.touches[0].clientY-f.y})};return y.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/95 flex flex-col animate-in fade-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/50 backdrop-blur-sm z-20 absolute top-0 w-full border-b border-white/10",children:[y.jsxs("div",{className:"text-white",children:[y.jsx("h3",{className:"font-bold text-sm md:text-base",children:t.description||""}),y.jsxs("p",{className:"text-xs text-gray-400",children:[t.type,"  ",t.date||"-"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("a",{href:t.url,download:`image-${t.id}`,target:"_blank",rel:"noreferrer",className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",title:"",children:y.jsx(uk,{size:20})}),y.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-red-500/20 hover:text-red-400 rounded-full transition-colors",children:y.jsx(Hp,{size:24})})]})]}),y.jsx("div",{ref:p,className:"flex-1 overflow-hidden flex items-center justify-center relative cursor-move",onWheel:_,onMouseDown:S,onMouseMove:E,onMouseUp:A,onMouseLeave:A,onTouchStart:T,onTouchMove:M,onTouchEnd:A,children:y.jsx("img",{src:t.url,alt:"Full view",className:"max-w-none transition-transform duration-75 ease-out select-none",style:{transform:`translate(${i.x}px, ${i.y}px) scale(${n})`,maxHeight:"90vh",maxWidth:"90vw",objectFit:"contain"},draggable:!1})}),y.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-gray-900/80 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-4 border border-white/10 z-20 shadow-2xl",children:[y.jsx("button",{onClick:()=>m(-.25),className:"text-white hover:text-green-400 p-1",children:y.jsx(l$,{size:20})}),y.jsxs("span",{className:"text-xs font-mono text-gray-300 w-12 text-center",children:[Math.round(n*100),"%"]}),y.jsx("button",{onClick:()=>m(.25),className:"text-white hover:text-green-400 p-1",children:y.jsx(s$,{size:20})}),y.jsx("div",{className:"w-px h-4 bg-gray-600 mx-1"}),y.jsxs("button",{onClick:()=>{r(1),o({x:0,y:0})},className:"text-white hover:text-blue-400 p-1 flex items-center gap-1 text-xs",children:[y.jsx(hk,{size:16})," Reset"]})]})]})},yx=({title:t,image:e,placeholder:n,orientation:r="portrait",targetType:i,selectedPlot:o,setViewImage:a,setUploadType:u,setShowUploadModal:f})=>y.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col ${r==="landscape"?"aspect-[297/210]":"aspect-[210/297]"} w-full`,children:[y.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-100 flex justify-between items-center shrink-0 h-12",children:[y.jsx("h4",{className:"font-bold text-gray-700 text-xs truncate mr-2",title:t,children:t}),e?.url&&y.jsx("a",{href:e.url,download:`plan-${o}-${e.type}`,className:"text-xs flex items-center gap-1 text-blue-600 hover:underline shrink-0",target:"_blank",rel:"noreferrer",onClick:d=>d.stopPropagation(),children:y.jsx(uk,{size:14})})]}),y.jsx("div",{className:"flex-1 bg-gray-100 relative group flex items-center justify-center overflow-hidden",children:e?.url?y.jsxs("div",{className:"relative w-full h-full cursor-zoom-in",onClick:()=>a(e),children:[y.jsx("img",{src:e.url,alt:t,className:"w-full h-full object-contain bg-white"}),y.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:y.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full text-white shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:y.jsx(dk,{size:24,className:"drop-shadow-md"})})})]}):y.jsxs("div",{className:"text-gray-400 flex flex-col items-center p-4 text-center",children:[y.jsx(Sh,{size:32,className:"mb-2 opacity-20"}),y.jsx("span",{className:"text-xs mb-2",children:n}),y.jsx("button",{onClick:()=>{u(i),f(!0)},className:"mt-1 text-[10px] bg-white border border-gray-300 px-3 py-1.5 rounded-lg hover:bg-gray-50 text-gray-600 shadow-sm",children:"+ "})]})}),y.jsxs("div",{className:"p-2 text-[10px] text-gray-500 bg-white border-t border-gray-100 flex justify-between shrink-0",children:[y.jsx("span",{className:"truncate max-w-[60%]",children:e?.uploader?`${e.uploader}`:"-"}),y.jsx("span",{children:e?.date||"-"})]})]}),Rre=({savedImages:t,onUploadImage:e,onNavigateToMap:n})=>{const{user:r}=yu(),[i,o]=K.useState(Ri[0].code),[a,u]=K.useState("plans"),[f,d]=K.useState(!1),[p,m]=K.useState(null),[_,S]=K.useState(null),[E,A]=K.useState(r?.fullName||r?.name||""),[T,M]=K.useState(new Date().toISOString().split("T")[0]),[N,R]=K.useState("gallery"),[j,O]=K.useState(""),[k,$]=K.useState(!1);K.useEffect(()=>{r&&A(r.fullName||r.name||"")},[r]);const[U,z]=K.useState([]),Z=K.useMemo(()=>[...U,...t],[t,U]),V=K.useMemo(()=>{const J=Bj.filter(ae=>ae.plotCode===i);return[...Z.filter(ae=>ae.plotCode===i&&ae.type.startsWith("plan")).slice().reverse(),...J]},[i,Z]),q=K.useMemo(()=>Z.filter(J=>J.plotCode===i&&J.type==="gallery"),[i,Z]),ee=async J=>{if(J.preventDefault(),!(!_||!E)){$(!0);try{const oe=await Ore(_);console.log("Cloudinary URL:",oe);let ae="";N==="gallery"&&(ae=j),N==="plan_pre_1"&&(ae=" ( 1)"),N==="plan_pre_2"&&(ae=" ( 2)"),N==="plan_post_1"&&(ae="");const de={id:Date.now().toString(),plotCode:i,type:N,url:oe,description:ae,uploader:E,date:T};z(X=>[de,...X]),e(de),d(!1),S(null),A(r?.fullName||r?.name||""),O(""),N.startsWith("plan")?u("plans"):u("gallery")}catch(oe){console.error("Upload Error:",oe),alert(`: ${oe.message||" Cloudinary"}`)}finally{$(!1)}}};return y.jsxs("div",{className:"flex-1 overflow-auto bg-gray-50 flex flex-col relative h-full",children:[p&&y.jsx(kre,{image:p,onClose:()=>m(null)}),y.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-20 flex flex-col md:flex-row md:items-center justify-between gap-4 shadow-sm",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-green-800",children:[y.jsx(Sh,{className:"text-green-600"}),"  (Plot Info)"]}),y.jsx("p",{className:"text-xs text-gray-500",children:""})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("select",{value:i,onChange:J=>o(J.target.value),className:"bg-green-50 border border-green-200 text-green-800 font-bold rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-green-500/30",children:Ri.map(J=>y.jsxs("option",{value:J.code,children:[J.code," - ",J.name]},J.code))}),y.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-md transition-all",children:[y.jsx(y1,{size:16})," ",y.jsx("span",{className:"hidden md:inline",children:" (Cloud)"})]})]})]}),y.jsxs("div",{className:"flex border-b border-gray-200 bg-white px-4",children:[y.jsx("button",{onClick:()=>u("plans"),className:`px-4 py-3 text-sm font-bold border-b-2 transition-all ${a==="plans"?"border-green-600 text-green-700":"border-transparent text-gray-500 hover:text-green-600"}`,children:" (Plans)"}),y.jsx("button",{onClick:()=>u("gallery"),className:`px-4 py-3 text-sm font-bold border-b-2 transition-all ${a==="gallery"?"border-green-600 text-green-700":"border-transparent text-gray-500 hover:text-green-600"}`,children:" (Gallery)"})]}),y.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto w-full",children:[a==="plans"&&y.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 border-l-4 border-green-600 pl-3",children:"1.  (Pre-planting)"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsx(yx,{title:" 1 ()",image:V.find(J=>J.type==="plan_pre_1"||J.type==="plan_pre"),placeholder:" 1",orientation:"landscape",targetType:"plan_pre_1",selectedPlot:i,setViewImage:m,setUploadType:R,setShowUploadModal:d}),y.jsx(yx,{title:" 2 ()",image:V.find(J=>J.type==="plan_pre_2"),placeholder:" 2 ()",orientation:"landscape",targetType:"plan_pre_2",selectedPlot:i,setViewImage:m,setUploadType:R,setShowUploadModal:d})]})]}),y.jsx("hr",{className:"border-gray-200"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsxs("div",{className:"w-full md:w-1/2 lg:w-1/3",children:[y.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 border-l-4 border-blue-600 pl-3",children:"2.  (Post)"}),y.jsx(yx,{title:" 1 (Post-planting #1)",image:V.find(J=>J.type==="plan_post_1"),placeholder:"",orientation:"portrait",targetType:"plan_post_1",selectedPlot:i,setViewImage:m,setUploadType:R,setShowUploadModal:d})]}),y.jsxs("div",{className:"flex-1 bg-blue-50 border border-blue-200 rounded-xl p-6 flex flex-col justify-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[y.jsx(zp,{size:20}),"  (Live Generated)"]}),y.jsxs("p",{className:"text-sm text-blue-700 mt-2 leading-relaxed",children:[" GPS ",y.jsx("br",{})," "]})]}),y.jsx("button",{onClick:()=>n(i),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold shadow-md transition-all w-fit",children:""})]})]})]}),a==="gallery"&&y.jsx("div",{className:"animate-in fade-in duration-300",children:q.length>0?y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[q.map(J=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden group hover:shadow-md transition-all cursor-pointer",onClick:()=>m(J),children:[y.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[y.jsx("img",{src:J.url,alt:"Gallery",className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:y.jsx("button",{className:"p-2 bg-white/20 rounded-full text-white hover:bg-white/40 backdrop-blur-sm",children:y.jsx(dk,{size:24})})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("p",{className:"text-sm font-bold text-gray-800 truncate",children:J.description||""}),y.jsxs("div",{className:"flex justify-between items-center mt-2 text-[10px] text-gray-500",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(di,{size:10})," ",J.uploader||"-"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(hw,{size:10})," ",J.date]})]})]})]},J.id)),y.jsxs("button",{onClick:()=>{R("gallery"),d(!0)},className:"aspect-square bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-gray-400 hover:border-green-500 hover:text-green-600 hover:bg-green-50 transition-all",children:[y.jsx(Ch,{size:32}),y.jsx("span",{className:"text-xs font-bold mt-2",children:""})]})]}):y.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300",children:[y.jsx(Sh,{size:64,className:"mx-auto text-gray-300 mb-4"}),y.jsx("h3",{className:"text-gray-500 font-bold",children:""}),y.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"  "}),y.jsx("button",{onClick:()=>{R("gallery"),d(!0)},className:"bg-green-600 text-white px-6 py-2.5 rounded-lg font-bold shadow-sm hover:bg-green-700 transition-all",children:""})]})})]}),f&&y.jsx("div",{className:"fixed inset-0 z-[5000] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[y.jsx("h3",{className:"font-bold text-gray-800",children:" (Cloud)"}),y.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:y.jsx(Hp,{size:20})})]}),y.jsxs("form",{onSubmit:ee,className:"p-6 space-y-4",children:[y.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg flex items-start gap-2 text-xs text-blue-700",children:[y.jsx(y1,{size:16,className:"shrink-0 mt-0.5"}),y.jsx("p",{children:" Cloud Storage   Google Drive"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-sm font-bold text-gray-700",children:"/"}),y.jsxs("select",{value:N,onChange:J=>R(J.target.value),className:"w-full bg-white border border-gray-300 rounded-lg p-2.5 text-sm outline-none focus:ring-2 focus:ring-green-500",children:[y.jsx("option",{value:"gallery",children:"  (Gallery)"}),y.jsxs("optgroup",{label:" ",children:[y.jsx("option",{value:"plan_pre_1",children:" 1 ()"}),y.jsx("option",{value:"plan_pre_2",children:" 2 ()"})]}),y.jsx("optgroup",{label:" ",children:y.jsx("option",{value:"plan_post_1",children:" 1"})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-sm font-bold text-gray-700",children:""}),y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors relative group",children:[y.jsx("input",{type:"file",accept:"image/*",onChange:J=>S(J.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),_?y.jsxs("div",{className:"text-green-600 font-bold flex flex-col items-center",children:[y.jsx(Sh,{size:24,className:"mb-2"}),_.name]}):y.jsxs("div",{className:"text-gray-400 flex flex-col items-center group-hover:text-green-600",children:[y.jsx(Th,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-xs",children:""})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-sm font-bold text-gray-700",children:"/"}),y.jsx("input",{type:"text",required:!0,value:E,readOnly:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none bg-gray-100 text-gray-600 cursor-not-allowed",placeholder:"-"}),y.jsx("p",{className:"text-[10px] text-blue-600",children:" -"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-sm font-bold text-gray-700",children:""}),y.jsx("input",{type:"date",required:!0,value:T,onChange:J=>M(J.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-green-500"})]})]}),y.jsxs("button",{type:"submit",disabled:!_||!E||k,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed mt-4 flex items-center justify-center gap-2",children:[k?y.jsx(Tr,{className:"animate-spin",size:20}):null,k?"...":""]})]})]})})]})},WD=({onComplete:t})=>{const{user:e,updateProfile:n}=yu(),[r,i]=K.useState(e?.fullName||e?.name||""),[o,a]=K.useState(e?.position||""),[u,f]=K.useState(e?.affiliation||""),[d,p]=K.useState(!1),m=async _=>{if(_.preventDefault(),!(!r||!o||!u)){p(!0);try{await n({fullName:r,position:o,affiliation:u}),t()}catch(S){console.error(S),alert("Failed to update profile")}finally{p(!1)}}};return y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-in fade-in zoom-in duration-300",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(di,{size:32,className:"text-green-600"})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),y.jsx("p",{className:"text-gray-500 mt-2",children:""})]}),y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"-"}),y.jsxs("div",{className:"relative",children:[y.jsx(di,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),y.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"  ",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx(Hj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),y.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:" ",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),y.jsxs("div",{className:"relative",children:[y.jsx(Gj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),y.jsx("input",{type:"text",value:u,onChange:_=>f(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:" ",required:!0})]})]}),y.jsxs("button",{type:"submit",disabled:d,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 mt-6",children:[d?y.jsx(Tr,{className:"animate-spin"}):y.jsx(qp,{size:20}),""]})]})]})})},Lre=()=>{const{user:t}=yu(),[e,n]=K.useState([]),[r,i]=K.useState(!1),[o,a]=K.useState(null),[u,f]=K.useState(null),[d,p]=K.useState("profile"),[m,_]=K.useState(!1),S=t?.role==="admin";K.useEffect(()=>{S&&d==="admin"&&E()},[S,d]);const E=async()=>{i(!0),a(null);try{const T=await fetch("/api/admin/users");if(!T.ok)throw new Error("Failed to fetch users");const M=await T.json();n(M.users)}catch(T){console.error(T),a("Failed to load users")}finally{i(!1)}},A=async(T,M)=>{try{if(!(await fetch(`/api/admin/users/${T}/role`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:M})})).ok)throw new Error("Failed to update role");n(R=>R.map(j=>j.email===T?{...j,role:M}:j)),f(`Updated role for ${T} to ${M}`),setTimeout(()=>f(null),3e3)}catch(N){console.error(N),a("Failed to update user role"),setTimeout(()=>a(null),3e3)}};return t?y.jsxs("div",{className:"p-4 md:p-8 max-w-6xl mx-auto w-full",children:[m&&y.jsx(WD,{onComplete:()=>_(!1)}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[y.jsxs("div",{className:"w-full md:w-64 flex flex-row md:flex-col border-b md:border-b-0 md:border-r border-gray-100 bg-gray-50/30 shrink-0",children:[y.jsxs("button",{onClick:()=>p("profile"),className:`flex-1 md:flex-none px-6 py-4 text-sm font-medium text-left transition-all flex items-center gap-3 ${d==="profile"?"text-green-700 bg-white border-b-2 md:border-b-0 md:border-l-4 border-green-600 shadow-sm md:shadow-none z-10":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[y.jsx(di,{size:18}),""]}),S&&y.jsxs("button",{onClick:()=>p("admin"),className:`flex-1 md:flex-none px-6 py-4 text-sm font-medium text-left transition-all flex items-center gap-3 ${d==="admin"?"text-green-700 bg-white border-b-2 md:border-b-0 md:border-l-4 border-green-600 shadow-sm md:shadow-none z-10":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[y.jsx(Nh,{size:18}),""]})]}),y.jsx("div",{className:"flex-1 p-6 md:p-10",children:d==="profile"?y.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 max-w-md mx-auto py-8",children:[y.jsxs("div",{className:"relative group",children:[t.picture?y.jsx("img",{src:t.picture,alt:t.name,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover"}):y.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 flex items-center justify-center border-4 border-white shadow-lg",children:y.jsx(di,{size:64,className:"text-gray-400"})}),y.jsx("button",{onClick:()=>_(!0),className:"absolute bottom-0 right-0 bg-white text-gray-700 p-2 rounded-full shadow-md border border-gray-200 hover:bg-gray-50 transition-colors",title:"",children:y.jsx(r$,{size:16})})]}),y.jsxs("div",{className:"space-y-3 w-full",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName||t.name}),y.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 mt-1",children:[y.jsx(n$,{size:14}),y.jsx("span",{className:"text-sm",children:t.email})]})]}),(t.position||t.affiliation)&&y.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-700 animate-in fade-in slide-in-from-bottom-2",children:[t.position&&y.jsx("div",{className:"font-medium text-lg",children:t.position}),t.affiliation&&y.jsx("div",{className:"text-sm text-gray-500",children:t.affiliation})]}),y.jsx("div",{className:"pt-2",children:y.jsxs("span",{className:`inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full text-sm font-medium ${t.role==="admin"?"bg-purple-100 text-purple-700":t.role==="researcher"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:[y.jsx(Nh,{size:14}),t.role==="admin"?"":t.role==="researcher"?"":""]})})]}),y.jsxs("div",{className:"w-full border-t border-gray-100 pt-6 mt-6 grid grid-cols-2 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:""}),y.jsx("div",{className:"font-medium text-gray-900",children:new Date(t.createdAt).toLocaleDateString("th-TH")})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:""}),y.jsx("div",{className:"font-medium text-gray-900",children:t.lastLogin?new Date(t.lastLogin).toLocaleDateString("th-TH"):"-"})]})]})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),y.jsxs("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-full transition-colors group relative",title:"",children:[y.jsx(Tr,{size:20,className:r?"animate-spin":""}),y.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:""})]})]}),o&&y.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg flex items-center gap-2 text-sm",children:[y.jsx(sk,{size:16}),o]}),u&&y.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg flex items-center gap-2 text-sm",children:[y.jsx(xx,{size:16}),u]}),y.jsx("div",{className:"hidden md:block overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3",children:""}),y.jsx("th",{className:"px-4 py-3",children:""}),y.jsx("th",{className:"px-4 py-3",children:""}),y.jsx("th",{className:"px-4 py-3",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(T=>y.jsxs("tr",{className:"hover:bg-gray-50/50",children:[y.jsx("td",{className:"px-4 py-3",children:y.jsxs("div",{className:"flex items-start gap-3",children:[T.picture?y.jsx("img",{src:T.picture,alt:"",className:"w-10 h-10 rounded-full object-cover mt-1"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center mt-1",children:y.jsx(di,{size:16,className:"text-gray-500"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-gray-900 text-base",children:T.fullName||T.name}),y.jsx("div",{className:"text-xs text-gray-500",children:T.email}),(T.position||T.affiliation)&&y.jsxs("div",{className:"text-xs text-gray-600 mt-1 flex flex-col",children:[T.position&&y.jsx("span",{children:T.position}),T.affiliation&&y.jsx("span",{className:"text-gray-400",children:T.affiliation})]})]})]})}),y.jsx("td",{className:"px-4 py-3 align-top pt-4",children:y.jsxs("select",{value:T.role,onChange:M=>A(T.email,M.target.value),disabled:T.email===t.email,className:`border-0 bg-transparent font-medium text-sm focus:ring-0 cursor-pointer py-0 pl-0 ${T.role==="admin"?"text-purple-600":T.role==="researcher"?"text-blue-600":"text-yellow-600"}`,children:[y.jsx("option",{value:"pending",children:""}),y.jsx("option",{value:"researcher",children:""}),y.jsx("option",{value:"admin",children:""})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500 align-top pt-4",children:new Date(T.createdAt).toLocaleDateString("th-TH")}),y.jsx("td",{className:"px-4 py-3 text-gray-500 align-top pt-4",children:T.lastLogin?new Date(T.lastLogin).toLocaleDateString("th-TH"):"-"})]},T.email))})]})}),y.jsx("div",{className:"md:hidden space-y-4",children:e.map(T=>y.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm",children:[y.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[T.picture?y.jsx("img",{src:T.picture,alt:"",className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:y.jsx(di,{size:16,className:"text-gray-500"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"font-medium text-gray-900 truncate",children:T.fullName||T.name}),y.jsx("div",{className:"text-xs text-gray-500 truncate",children:T.email})]})]}),(T.position||T.affiliation)&&y.jsxs("div",{className:"bg-gray-50 p-2.5 rounded-lg text-xs text-gray-600 mb-3 space-y-1",children:[T.position&&y.jsx("div",{className:"font-medium",children:T.position}),T.affiliation&&y.jsx("div",{className:"text-gray-500",children:T.affiliation})]}),y.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[y.jsxs("div",{className:"text-[10px] text-gray-400",children:[": ",new Date(T.createdAt).toLocaleDateString("th-TH")]}),y.jsxs("select",{value:T.role,onChange:M=>A(T.email,M.target.value),disabled:T.email===t.email,className:`border-0 bg-transparent font-medium text-xs focus:ring-0 cursor-pointer py-0 pr-6 text-right ${T.role==="admin"?"text-purple-600":T.role==="researcher"?"text-blue-600":"text-yellow-600"}`,children:[y.jsx("option",{value:"pending",children:""}),y.jsx("option",{value:"researcher",children:""}),y.jsx("option",{value:"admin",children:""})]})]})]},T.email))})]})})]})]}):null},rk=()=>y.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("a",{href:"/",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-900 mb-4",children:[y.jsx(dw,{size:16,className:"mr-1"})," Back to Home"]}),y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:y.jsx(Nh,{className:"text-green-600",size:24})}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Policy"})]}),y.jsxs("p",{className:"text-gray-500 text-sm",children:["Last updated: ",new Date().toLocaleDateString()]})]}),y.jsxs("div",{className:"prose prose-green max-w-none space-y-6 text-gray-600",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Introduction"}),y.jsx("p",{children:'Welcome to the Mae Chaem Tree Database ("we," "our," or "us"). We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use our application.'})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. Information We Collect"}),y.jsx("p",{children:"We collect the following types of information:"}),y.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Account Information:"})," When you sign in with Google, we collect your name, email address, and profile picture to create and manage your account."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Usage Data:"})," We collect information about how you interact with our application, such as the pages you visit and the actions you take."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Tree Data:"})," Any data you input regarding tree surveys, including locations, measurements, and photos, is stored in our database."]})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. How We Use Your Information"}),y.jsx("p",{children:"We use your information for the following purposes:"}),y.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:[y.jsx("li",{children:"To provide and maintain our service."}),y.jsx("li",{children:"To authenticate your identity and manage your account access."}),y.jsx("li",{children:"To analyze usage patterns and improve our application."}),y.jsx("li",{children:"To communicate with you regarding updates or support."})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Data Sharing and Disclosure"}),y.jsx("p",{children:"We do not sell or rent your personal information to third parties. We may share your information in the following circumstances:"}),y.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"With Service Providers:"})," We may share data with trusted third-party service providers who assist us in operating our application (e.g., hosting, database management)."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Legal Requirements:"})," We may disclose your information if required to do so by law or in response to valid requests by public authorities."]})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Data Security"}),y.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet is 100% secure."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Your Rights"}),y.jsx("p",{children:"You have the right to access, correct, or delete your personal information. If you wish to exercise these rights, please contact us."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Contact Us"}),y.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at support@maechaem-tree-db.com."})]})]})]})}),ik=()=>y.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("a",{href:"/",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-900 mb-4",children:[y.jsx(dw,{size:16,className:"mr-1"})," Back to Home"]}),y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:y.jsx(bx,{className:"text-green-600",size:24})}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"})]}),y.jsxs("p",{className:"text-gray-500 text-sm",children:["Last updated: ",new Date().toLocaleDateString()]})]}),y.jsxs("div",{className:"prose prose-green max-w-none space-y-6 text-gray-600",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),y.jsx("p",{children:'By accessing or using the Mae Chaem Tree Database application ("Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of the terms, you may not access the Service.'})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. Use of Service"}),y.jsx("p",{children:"You agree to use the Service only for lawful purposes and in accordance with these Terms. You are responsible for all activities that occur under your account."}),y.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:[y.jsx("li",{children:"You must not use the Service for any illegal or unauthorized purpose."}),y.jsx("li",{children:"You must not violate any laws in your jurisdiction."}),y.jsx("li",{children:"You must not transmit any worms or viruses or any code of a destructive nature."})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. User Accounts"}),y.jsx("p",{children:"To access certain features of the Service, you may be required to register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Intellectual Property"}),y.jsx("p",{children:"The Service and its original content, features, and functionality are and will remain the exclusive property of Mae Chaem Tree Database and its licensors. The Service is protected by copyright, trademark, and other laws of both the Thailand and foreign countries."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Termination"}),y.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Limitation of Liability"}),y.jsx("p",{children:"In no event shall Mae Chaem Tree Database, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service; (iii) any content obtained from the Service; and (iv) unauthorized access, use or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence) or any other legal theory, whether or not we have been informed of the possibility of such damage, and even if a remedy set forth herein is found to have failed of its essential purpose."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Changes"}),y.jsx("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 30 days notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Contact Us"}),y.jsx("p",{children:"If you have any questions about these Terms, please contact us at support@maechaem-tree-db.com."})]})]})]})}),Dre=({onLoginClick:t})=>{const{login:e,isLoading:n}=yu(),r=()=>{t?t():e()};return y.jsxs("div",{className:"min-h-screen bg-white flex flex-col font-sans text-gray-900",children:[y.jsx("nav",{className:"border-b border-gray-100 bg-white/80 backdrop-blur-md sticky top-0 z-50",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:y.jsx(x1,{className:"text-white h-6 w-6"})}),y.jsxs("div",{className:"flex flex-col justify-center",children:[y.jsx("span",{className:"font-bold text-sm sm:text-lg md:text-xl tracking-tight text-gray-900 leading-tight whitespace-nowrap",children:""}),y.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 font-medium whitespace-nowrap",children:""})]})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("a",{href:"/privacy",className:"text-sm font-medium text-gray-500 hover:text-gray-900 hidden sm:block",children:""}),y.jsx("a",{href:"/terms",className:"text-sm font-medium text-gray-500 hover:text-gray-900 hidden sm:block",children:""}),y.jsxs("button",{onClick:r,disabled:n,className:"bg-gray-900 hover:bg-gray-800 text-white px-3 py-1.5 md:px-5 md:py-2 rounded-full text-xs md:text-sm font-medium transition-all shadow-lg shadow-gray-900/20 flex items-center gap-1 md:gap-2 whitespace-nowrap",children:[n?"...":"",y.jsx(qj,{size:16,className:"w-3 h-3 md:w-4 md:h-4"})]})]})]})}),y.jsxs("section",{className:"relative pt-20 pb-32 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)] opacity-30"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-50 border border-green-100 text-green-700 text-xs font-semibold uppercase tracking-wide mb-8",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),""]}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight text-gray-900 mb-8 max-w-4xl mx-auto leading-tight",children:[" ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-emerald-600",children:""})]}),y.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-2xl mx-auto leading-relaxed",children:"    "}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[y.jsx("button",{onClick:r,className:"w-full sm:w-auto px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold text-lg shadow-xl shadow-green-600/20 transition-all transform hover:-translate-y-1",children:""}),y.jsx("a",{href:"#features",className:"w-full sm:w-auto px-8 py-4 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-semibold text-lg transition-all",children:""})]})]})]}),y.jsx("section",{id:"features",className:"py-24 bg-gray-50",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:""}),y.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:""})]}),y.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:y.jsx(Jj,{className:"w-6 h-6 text-blue-600"}),title:"",desc:"   "},{icon:y.jsx(zp,{className:"w-6 h-6 text-green-600"}),title:"",desc:" "},{icon:y.jsx(Up,{className:"w-6 h-6 text-purple-600"}),title:"",desc:"   "}].map((i,o)=>y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center mb-6",children:i.icon}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:i.title}),y.jsx("p",{className:"text-gray-500 leading-relaxed break-words",children:i.desc})]},o))})]})}),y.jsx("section",{className:"py-24 bg-white border-t border-gray-100",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold uppercase tracking-wide mb-6",children:[y.jsx(Nh,{size:14}),""]}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:""}),y.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"  Google "}),y.jsx("div",{className:"space-y-4",children:[""," (, )","",""].map((i,o)=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Vj,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),y.jsx("span",{className:"text-gray-700",children:i})]},o))})]}),y.jsxs("div",{className:"bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm",children:y.jsx(a$,{className:"text-gray-900",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900",children:""}),y.jsx("p",{className:"text-sm text-gray-500",children:""})]})]}),y.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[y.jsxs("p",{children:[y.jsx("strong",{className:"text-gray-900",children:" Google ():"})," "]}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-gray-900",children:":"})," "]}),y.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:y.jsx("p",{className:"text-xs text-gray-400",children:""})})]})]})]})})}),y.jsx("footer",{className:"bg-gray-900 text-white py-8",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 md:gap-8 whitespace-nowrap",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(x1,{className:"text-green-400 h-5 w-5"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("span",{className:"font-bold text-base",children:""}),y.jsx("span",{className:"text-[10px] text-gray-400",children:""})]})]}),y.jsxs("div",{className:"flex gap-6 text-xs text-gray-400",children:[y.jsx("a",{href:"/privacy",className:"hover:text-white transition-colors",children:""}),y.jsx("a",{href:"/terms",className:"hover:text-white transition-colors",children:""}),y.jsx("a",{href:"mailto:support@maechaem-tree-db.com",className:"hover:text-white transition-colors",children:""})]}),y.jsxs("div",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear(),"  "]})]})})})]})},jre=/^(P\d+)([AB]\d{2})(\d+)$/,$re=()=>{const{user:t,isLoading:e,logout:n}=yu(),[r,i]=K.useState([]),[o,a]=K.useState([]),[u,f]=K.useState([]),[d,p]=K.useState("table"),[m,_]=K.useState(!1),[S,E]=K.useState(""),[A,T]=K.useState(null),[M,N]=K.useState(!1),[R,j]=K.useState(!1),[O,k]=K.useState(!1),[$,U]=K.useState(!1),[z,Z]=K.useState({plotCode:"",treeNumber:"",speciesCode:"",rowMain:"",rowSub:"",dbhCm:"",heightM:"",status:null,flowering:null,note:"",recorder:"",surveyDate:new Date().toISOString().split("T")[0],bambooCulms:"",dbh1Cm:"",dbh2Cm:"",dbh3Cm:"",bananaTotal:"",banana1yr:"",yieldBunches:"",yieldHands:"",pricePerHand:""}),[V,q]=K.useState(""),[ee,J]=K.useState(""),[oe,ae]=K.useState(""),[de,X]=K.useState(""),[he,ie]=K.useState(null),[G,ne]=K.useState(null),[re,me]=K.useState("growth"),[ge,xe]=K.useState(""),[$e,Fe]=K.useState(""),[be,Re]=K.useState(""),[ze,ye]=K.useState(""),at=K.useRef(null),Pe=(pe,Ue="info")=>{at.current&&clearTimeout(at.current),T({msg:pe,type:Ue}),at.current=setTimeout(()=>T(null),3e3)},ct=async()=>{_(!0),E("...");try{const pe=await uv("growth_logs");pe.success&&i(pe.data),E("...");const Ue=await uv("trees_profile");Ue.success&&a(Ue.data),E("...");const Xe=await uv("plot_images");if(Xe.success&&Array.isArray(Xe.data)){const St=Xe.data.map(ot=>({id:ot.id?ot.id.toString():Date.now().toString(),plotCode:ot.plot_code,type:ot.image_type,url:ot.url,description:ot.description,uploader:ot.uploader,date:ot.date?typeof ot.date=="string"&&ot.date.includes("T")?ot.date.split("T")[0]:ot.date:""}));f(St)}Pe("","success")}catch(pe){console.warn("Sync warning:",pe.message),Pe(" ()","info")}finally{_(!1),E("")}};K.useEffect(()=>{ct()},[]);const _t=K.useMemo(()=>{const{plotCode:pe,speciesCode:Ue,treeNumber:Xe}=z;return!pe||!Ue||!Xe?"":`${pe}${Ue}${Xe.toString().padStart(3,"0")}`},[z]),dt=K.useMemo(()=>{const{plotCode:pe,speciesCode:Ue,treeNumber:Xe,rowMain:St,rowSub:ot}=z;if(!pe||!Ue||!Xe||!St||!ot)return"";const ht=Ri.find(Pt=>Pt.code===pe),It=hs.find(Pt=>Pt.code===Ue),st=St.toString().padStart(2,"0");return`${Xe} ${ht?.short||pe} ${st} (${ot}) ${It?.name||Ue}`},[z]),Nt=()=>{Z({plotCode:"",treeNumber:"",speciesCode:"",rowMain:"",rowSub:"",dbhCm:"",heightM:"",status:null,flowering:null,note:"",recorder:t?.fullName||t?.name||"",surveyDate:new Date().toISOString().split("T")[0],bambooCulms:"",dbh1Cm:"",dbh2Cm:"",dbh3Cm:"",bananaTotal:"",banana1yr:"",yieldBunches:"",yieldHands:"",pricePerHand:""}),ie(null)},Xt=pe=>{Z({plotCode:pe.plot_code||"",treeNumber:pe.tree_number?pe.tree_number.toString():"",speciesCode:pe.species_code||"",rowMain:pe.row_main||"",rowSub:pe.row_sub||"",dbhCm:pe.dbh_cm?pe.dbh_cm.toString():"",heightM:pe.height_m?pe.height_m.toString():"",status:pe.status||null,flowering:pe.flowering||null,note:pe.note||"",recorder:pe.recorder||"",surveyDate:pe.survey_date||new Date().toISOString().split("T")[0],bambooCulms:pe.bamboo_culms?pe.bamboo_culms.toString():"",dbh1Cm:pe.dbh_1_cm?pe.dbh_1_cm.toString():"",dbh2Cm:pe.dbh_2_cm?pe.dbh_2_cm.toString():"",dbh3Cm:pe.dbh_3_cm?pe.dbh_3_cm.toString():"",bananaTotal:pe.banana_total?pe.banana_total.toString():"",banana1yr:pe.banana_1yr?pe.banana_1yr.toString():"",yieldBunches:pe.yield_bunches?pe.yield_bunches.toString():"",yieldHands:pe.yield_hands?pe.yield_hands.toString():"",pricePerHand:pe.price_per_hand?pe.price_per_hand.toString():""}),ie(pe.log_id||null),d!=="map"&&p("table"),N(!0),Pe(`: ${pe.tree_code}`,"info")},Qt=pe=>{Z({plotCode:pe.plot_code||"",treeNumber:pe.tree_number?pe.tree_number.toString():"",speciesCode:pe.species_code||"",rowMain:pe.row_main||"",rowSub:pe.row_sub||"",dbhCm:"",heightM:"",status:null,flowering:null,note:"",recorder:"",surveyDate:new Date().toISOString().split("T")[0],bambooCulms:"",dbh1Cm:"",dbh2Cm:"",dbh3Cm:"",bananaTotal:"",banana1yr:"",yieldBunches:"",yieldHands:"",pricePerHand:""}),ie(null),N(!0),Pe(`: ${pe.tree_code}`,"success")},en=pe=>{ne(pe),me("growth")},Cn=pe=>{ne({tree_code:pe.tree_code}),me("coord")},Zr=async()=>{if(G){_(!0),E("...");try{let pe={};if(re==="growth"){if(!G.log_id){Pe(" log_id ","error"),_(!1),E("");return}pe={action:"deleteRow",sheet:"growth_logs",key_col:"log_id",key_val:G.log_id,delete_all:!1}}else re==="coord"&&(pe={action:"deleteRow",sheet:"trees_profile",key_col:"tree_code",key_val:G.tree_code,delete_all:!1});const Ue=await da(pe);Ue.success?(Pe("","success"),ne(null),ct()):Pe(": "+(Ue.error||"Unknown"),"error")}catch{Pe("","error")}finally{_(!1),E("")}}},Fi=async()=>{const{plotCode:pe,speciesCode:Ue,treeNumber:Xe,rowMain:St,rowSub:ot,recorder:ht}=z;if(!pe||!Ue||!Xe||!St||!ot||!ht){Pe("","error");return}const It=hs.find(Pt=>Pt.code===Ue),st={tree_code:_t,tag_label:dt,plot_code:pe,species_code:Ue,species_group:Ue&&Ue.startsWith("A")?"A":"B",species_name:It?.name||"",tree_number:parseInt(Xe),row_main:St,row_sub:ot,status:z.status,flowering:z.flowering,note:z.note,recorder:ht,survey_date:z.surveyDate,height_m:z.heightM||null,dbh_cm:z.dbhCm||null,bamboo_culms:z.bambooCulms||null,dbh_1_cm:z.dbh1Cm||null,dbh_2_cm:z.dbh2Cm||null,dbh_3_cm:z.dbh3Cm||null,banana_total:z.bananaTotal||null,banana_1yr:z.banana1yr||null,yield_bunches:z.yieldBunches||null,yield_hands:z.yieldHands||null,price_per_hand:z.pricePerHand||null};he&&(st.log_id=he),_(!0),E("...");try{const Pt=await da({action:"addGrowthLog",...st});Pt.success?(Pe(he?` ${st.tree_code} `:` ${st.tree_code} `,"success"),Nt(),N(!1),ct()):Pe(": "+(Pt.error||"Unknown error"),"error")}catch{Pe("","error")}finally{_(!1),E("")}},Ui=async pe=>{if(!pe.treeCode){Pe("","error");return}if(!pe.utmX||!pe.utmY){Pe(" UTM ","error");return}_(!0),E("...");try{const Ue=r.find(It=>It.tree_code===pe.treeCode),{lat:Xe,lng:St}=_x(Number(pe.utmX),Number(pe.utmY)),ot={action:"addTreeProfile",tree_code:pe.treeCode,plot_code:Ue?.plot_code||"",species_code:Ue?.species_code||"",species_group:Ue?.species_group||"",tag_label:Ue?.tag_label||"",utm_x:pe.utmX,utm_y:pe.utmY,lat:Xe,lng:St,note:"Updated via App"},ht=await da(ot);ht.success?(Pe("","success"),J(""),ae(""),X(""),ct()):Pe(": "+ht.error,"error")}catch(Ue){Pe(": "+Ue.message,"error")}finally{_(!1),E("")}},Io=pe=>{J(pe.tree_code),ae(pe.utm_x?pe.utm_x.toString():""),X(pe.utm_y?pe.utm_y.toString():""),Pe(`: ${pe.tree_code}`,"info")},Mo=async pe=>{_(!0),E("..."),Pe("...","info");try{const Ue={action:"uploadImage",plot_code:pe.plotCode,image_type:pe.type,image_base64:pe.url,description:pe.description,uploader:pe.uploader,date:pe.date},Xe=await da(Ue);Xe.success?(Pe("","success"),ct()):(console.warn("Upload response:",Xe),Pe(" ()","info"),ct())}catch(Ue){console.error(Ue),Pe(": "+Ue.message,"error")}finally{_(!1),E("")}},zi=async pe=>{_(!0),E("...");try{const Ue={action:"addSpacingLog",avg_spacing:pe.avg,min_spacing:pe.min,max_spacing:pe.max,tree_count:pe.count,plot_code:ze,note:`Spacing Analysis: ${pe.count} trees`,date:new Date().toISOString()},Xe=await da(Ue);Xe.success?Pe("","success"):(console.warn("Backend rejected spacing log:",Xe),Pe(" (Simulation)","success"))}catch(Ue){console.error(Ue),Pe("","error")}finally{_(!1),E("")}},Ls=async()=>{_(!0),E("...");let pe=0;try{const Ue=new Set(r.map(ot=>ot.tree_code)),Xe=o.filter(ot=>!Ue.has(ot.tree_code));if(Xe.length===0){Pe("","info");return}let St=0;for(const ot of Xe){St++,E(` (${St}/${Xe.length})...`);try{let ht="",It="",st=0;const Pt=ot.tree_code.match(/^(P\d+)([AB]\d{2})(\d+)$/);if(Pt)ht=Pt[1],It=Pt[2],st=parseInt(Pt[3],10);else{console.warn(`Cannot parse tree code: ${ot.tree_code}`);const mn=ot.tree_code.match(/^(P\d+)/);mn&&(ht=mn[1])}const Mt=hs.find(mn=>mn.code===It),Zn=Ri.find(mn=>mn.code===ht)?.short||ht.replace(/^P0+/,"P"),sr={action:"addGrowthLog",tree_code:ot.tree_code,plot_code:ht,species_code:It,species_group:It.startsWith("A")?"A":"B",species_name:Mt?.name||"",tree_number:st,row_main:"00",row_sub:"(00)",tag_label:`${st} ${Zn} 00 (00) ${Mt?.name||It}`,status:null,note:"Auto-created from Coordinate Sync",recorder:"System",survey_date:new Date().toISOString().split("T")[0]};(await da(sr)).success&&pe++}catch(ht){console.error("Error creating new tree log:",ht)}}Pe(` ${pe} `,"success"),ct()}catch(Ue){Pe(": "+Ue.message,"error")}finally{_(!1),E("")}},_i=pe=>{if(p("table"),xe(pe),!r.some(Xe=>Xe.tree_code===pe)){const Xe=pe.match(/^(P\d+)([AB]\d+)(\d+)$/);Xe?(Z(St=>({...St,plotCode:Xe[1],speciesCode:Xe[2],treeNumber:parseInt(Xe[3],10).toString(),status:null,note:"New tree from coordinate",recorder:"",surveyDate:new Date().toISOString().split("T")[0]})),ie(null),N(!0),Pe(` ${pe} - `,"info")):Pe(` ${pe}`,"error")}};K.useEffect(()=>{t&&(!t.fullName||!t.position||!t.affiliation?U(!0):(U(!1),Z(pe=>({...pe,recorder:t.fullName||t.name||""}))))},[t]);const Yr=K.useMemo(()=>{const pe=r.length,Ue=r.filter(st=>st.status==="alive").length,Xe=r.filter(st=>st.status==="dead").length,St={};r.forEach(st=>{St[st.species_name]=(St[st.species_name]||0)+1});const ot=Object.keys(St).map(st=>({name:st,value:St[st]})).sort((st,Pt)=>Pt.value-st.value).slice(0,10),ht={};r.forEach(st=>{ht[st.plot_code]=(ht[st.plot_code]||0)+1});const It=Object.keys(ht).map(st=>({name:st,value:ht[st]})).sort((st,Pt)=>Pt.value-st.value);return{total:pe,alive:Ue,dead:Xe,alivePct:pe?Math.round(Ue/pe*100):0,deadPct:pe?Math.round(Xe/pe*100):0,speciesData:ot,plotData:It}},[r]),Ou=M,ka=d==="table"||d==="map"&&M,[qi,Ds]=K.useState(window.location.pathname);return K.useEffect(()=>{const pe=()=>Ds(window.location.pathname);return window.addEventListener("popstate",pe),()=>window.removeEventListener("popstate",pe)},[]),qi==="/privacy"?y.jsx(rk,{}):qi==="/terms"?y.jsx(ik,{}):e?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:y.jsx(Tr,{className:"animate-spin text-green-600",size:48})}):t?t.role==="pending"?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center space-y-6",children:[y.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:y.jsx(v1,{className:"text-yellow-600",size:32})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Pending"}),y.jsx("p",{className:"text-gray-500",children:"Your account is waiting for administrator approval. You will be notified once your access is granted."})]}),y.jsx("button",{onClick:n,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Sign Out"})]})}):y.jsxs("div",{className:"flex flex-col h-[100dvh] overflow-hidden bg-gray-50 relative",children:[m&&y.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999] bg-white/90 backdrop-blur shadow-md border border-green-100 px-6 py-4 rounded-2xl flex flex-col items-center gap-3 animate-in fade-in zoom-in duration-200",children:[y.jsx(Tr,{size:32,className:"animate-spin text-green-600"}),y.jsx("span",{className:"text-base font-medium text-green-800 text-center",children:S||"..."})]}),y.jsx(h$,{stats:Yr,isLoading:m,onRefresh:ct,activeView:d,setActiveView:p,user:t,onLogout:n}),$&&y.jsx(WD,{onComplete:()=>U(!1)}),y.jsxs("main",{className:"flex-1 flex overflow-hidden mb-[56px] md:mb-0",children:[G&&y.jsx("div",{className:"absolute inset-0 z-[999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:y.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-bounce-short",children:y.jsxs("div",{className:"flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(v1,{size:32,className:"text-red-600"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"?"}),y.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[y.jsx("span",{className:"font-mono font-bold text-gray-800",children:G.tree_code}),re==="coord"?" ()":""]}),y.jsxs("div",{className:"flex gap-3 w-full",children:[y.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg",children:""}),y.jsxs("button",{onClick:Zr,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg flex items-center justify-center gap-2",children:[m?y.jsx(Tr,{size:18,className:"animate-spin"}):y.jsx(Ih,{size:18})," "]})]})]})})}),y.jsx(v$,{formData:z,setFormData:Z,editLogId:he,isLoading:m,isMobileOpen:Ou,isDesktopOpen:ka,onClose:()=>N(!1),onSubmit:Fi,onClear:Nt,treeCodePreview:_t,tagLabelPreview:dt}),y.jsxs("section",{className:"flex-1 flex flex-col min-w-0 bg-white",children:[d==="table"&&y.jsx(_$,{records:r,isLoading:m,searchTerm:ge,setSearchTerm:xe,plotFilter:$e,setPlotFilter:Fe,statusFilter:be,setStatusFilter:Re,editLogId:he,onEdit:Xt,onDelete:en,onOpenMobileForm:()=>{Nt(),N(!0)},onClearForm:Nt}),d==="plotInfo"&&y.jsx(Rre,{savedImages:u,onUploadImage:Mo,onNavigateToMap:pe=>{ye(pe),p("map")}}),d==="coords"&&y.jsx(Hq,{records:r,coordRecords:o,isLoading:m,onSubmit:Ui,onSyncToTable:Ls,onNavigateToTree:_i,onBulkSubmit:async pe=>{_(!0),E("...");let Ue=0,Xe=0,St=0;const ot=new Set(r.map(Mt=>Mt.tree_code)),ht=pe.filter(Mt=>!ot.has(Mt.treeCode));let It=0;for(const Mt of ht){It++,E(` (${It}/${ht.length})...`);try{let an="",Zn="",sr=0;const Yn=Mt.treeCode.match(/^(P\d+)([AB]\d{2})(\d+)$/);if(Yn)an=Yn[1],Zn=Yn[2],sr=parseInt(Yn[3],10);else{console.warn(`Cannot parse tree code: ${Mt.treeCode}`);const Me=Mt.treeCode.match(/^(P\d+)/);Me&&(an=Me[1])}const mn=hs.find(Me=>Me.code===Zn),Hi=Ri.find(Me=>Me.code===an)?.short||an.replace(/^P0+/,"P"),ku={action:"addGrowthLog",tree_code:Mt.treeCode,plot_code:an,species_code:Zn,species_group:Zn.startsWith("A")?"A":"B",species_name:mn?.name||"",tree_number:sr,row_main:"00",row_sub:"(00)",tag_label:`${sr} ${Hi} 00 (00) ${mn?.name||Zn}`,status:null,note:"Auto-created from Coordinate Import",recorder:"System",survey_date:new Date().toISOString().split("T")[0]};(await da(ku)).success&&St++}catch(an){console.error("Error creating new tree log:",an)}}let st=0;for(const Mt of pe){st++,E(` (${st}/${pe.length})...`);try{let an=r.find(Oo=>Oo.tree_code===Mt.treeCode);const{lat:Zn,lng:sr}=_x(Number(Mt.utmX),Number(Mt.utmY)),Yn={action:"addTreeProfile",tree_code:Mt.treeCode,plot_code:an?.plot_code||Mt.treeCode.match(/^(P\d+)/)?.[1]||"",species_code:an?.species_code||Mt.treeCode.match(jre)?.[2]||"",species_group:an?.species_group||"",tag_label:an?.tag_label||Mt.treeCode,utm_x:Mt.utmX,utm_y:Mt.utmY,lat:Zn,lng:sr,note:" PDF"};(await da(Yn)).success?Ue++:Xe++}catch{Xe++}}let Pt=` ${Ue} `;St>0&&(Pt+=`,  ${St} `),Xe>0&&(Pt+=`,  ${Xe} `),Pe(Pt,Xe>0?"info":"success"),J(""),ae(""),X(""),ct(),_(!1),E("")},onEdit:Io,onDelete:Cn,coordPlotFilter:V,setCoordPlotFilter:q,coordTreeCode:ee,setCoordTreeCode:J,coordUtmX:oe,setCoordUtmX:ae,coordUtmY:de,setCoordUtmY:X}),d==="map"&&y.jsx(p5,{records:r,coordRecords:o,mapPlot:ze,setMapPlot:ye,onEdit:Xt,onNewSurvey:Qt,onSaveSpacing:zi}),d==="stats"&&y.jsx(Cre,{stats:Yr,records:r,coordCount:o.length}),d==="history"&&y.jsx(Nre,{records:r}),d==="profile"&&y.jsx(Lre,{}),d==="privacy"&&y.jsx(rk,{}),d==="terms"&&y.jsx(ik,{})]})]}),y.jsx(p$,{activeView:d,setActiveView:p}),A&&y.jsxs("div",{className:`fixed bottom-20 md:bottom-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 animate-bounce-short ${A.type==="success"?"bg-green-600 text-white":A.type==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:[A.type==="success"?"":A.type==="error"?"":"",y.jsx("span",{className:"text-sm font-bold",children:A.msg})]}),y.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes bounce-short {
          0%, 100% { transform: translate(-50%, 0); }
          50% { transform: translate(-50%, -10px); }
        }
        .animate-bounce-short {
          animation: bounce-short 0.5s ease infinite alternate;
        }
      `})]}):O?y.jsx(d$,{onBack:()=>{k(!1),j(!1)}}):R?y.jsx(c$,{onBack:()=>j(!1),setShowRegister:k}):y.jsx(Dre,{onLoginClick:()=>j(!0)})},KD=document.getElementById("root");if(!KD)throw new Error("Could not find root element to mount to");const Bre=$j.createRoot(KD);Bre.render(y.jsx(H.StrictMode,{children:y.jsx(u$,{children:y.jsx($re,{})})}));
